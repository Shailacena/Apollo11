(self.webpackChunkpay_m=self.webpackChunkpay_m||[]).push([[705],{3192:function(t,e,n){"use strict";var o=n(2005),a=n.n(o),r=(n(6992),n(1539),n(8674),n(8783),n(3948),n(2772),n(4916),n(4723),n(4678),n(2222),n(6649),n(6078),n(2526),n(1817),n(9653),n(9070),n(7941),n(7327),n(5003),n(4747),n(9337),n(3321),n(2165),n(2443),n(3680),n(3706),n(2703),n(489),n(8309),n(8304),n(7042),n(1259)),i={components:{},computed:{isShowLeaveIcon:function(){return this.$store.getters["moduleHeader/canLeave"]}},methods:{ensureLeave:function(){r.Z.eventClick("MCashierNew_Back",location.href),this.$store.getters["moduleHeader/canLeave"]&&this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"BackRetention",payLayFrom:""})}}},l=n(1900),u=(0,l.Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Header",on:{touchmove:function(t){t.preventDefault()}}},[t.isShowLeaveIcon?n("img",{staticClass:"arrow",attrs:{src:"https://img10.360buyimg.com/imagetools/jfs/t1/69072/29/16331/2088/6135af65E882d7caf/c4a284aba3530191.png"},on:{click:t.ensureLeave}}):t._e(),t._v(" "),n("span",{staticClass:"title"},[t._v("京东收银台")])])}),[],!1,null,null,null).exports,c=(n(9600),n(3210),n(1058),n(7347)),s=n.n(c),d=n(7957),f=n.n(d);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={data:function(){return{timer:null}},created:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,d.mapState)({h:function(t){return t.moduleCountdown.h},m:function(t){return t.moduleCountdown.m},s:function(t){return t.moduleCountdown.s},remainTime:function(t){var e,n,o;return null!==(e=null===(n=t.modulePay.payInfo)||void 0===n||null===(o=n.topFloor)||void 0===o?void 0:o.countdownTime)&&void 0!==e?e:""}})),watch:{remainTime:{handler:function(t,e){t!==e&&(this.$store.commit("moduleCountdown/formatTime",t),this.countDown())},deep:!0,immediate:!0}},methods:{formatNum:function(t){return t<10?"0"+t:""+t},countDown:function(){var t=this,e=this.h,n=this.m,o=this.s,a=this.timer;clearInterval(a),this.timer=setInterval((function(){if(0===e)if(0!==n&&0===o)o=59,n-=1;else if(0===n&&0===o){var a;o=0,t.$store.commit("moduleCountdown/setCountDown",!0),clearInterval(t.timer),null!==(a=t.$store.state.modulePay.payInfo)&&void 0!==a&&a.countdownPopInfo&&t.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"CountdownFinish",payLayFrom:""})}else o-=1;else 0!==n&&0===o?(o=59,n-=1):0===n&&0===o?(e-=1,n=59,o=59):o-=1;t.$store.commit("moduleCountdown/setCountDownTime",{h:e,m:n,s:o})}),1e3)}}},y=m,g=(0,l.Z)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"countDownWrap"},[n("div",{staticClass:"timeWrap"},[t._v("\n    "+t._s(t.formatNum(t.h))+"\n  ")]),t._v(" "),n("span",{staticClass:"interLine"},[t._v(":")]),t._v(" "),n("div",{staticClass:"timeWrap"},[t._v("\n    "+t._s(t.formatNum(t.m))+"\n  ")]),t._v(" "),n("span",{staticClass:"interLine"},[t._v(":")]),t._v(" "),n("div",{staticClass:"timeWrap"},[t._v("\n    "+t._s(t.formatNum(t.s))+"\n  ")])])}),[],!1,null,"176ae17f",null).exports;function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===C(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(){return n.e(250).then(n.bind(n,8078))},S={name:"Amount",components:{Countdown:g,countTo:s()},data:function(){return{mobile:"",numObj:{startPrice:0,endPrice:0}}},props:{isShowHeader:{type:Boolean,default:!1}},watch:{"$store.state.modulePay.topPriceAnimationInfo":{handler:function(t){var e=this.$store.getters["moduleAmount/getAmountData"];null!=t&&t.interNum?(this.numObj.startPrice=parseFloat(this.numObj.endPrice),this.numObj.endPrice=parseFloat(t.interNum+(t.floatNum?"."+t.floatNum:""))):(this.numObj.startPrice=parseFloat(this.numObj.endPrice),this.numObj.endPrice=parseFloat(e.interNum+(e.floatNum?"."+e.floatNum:"")))},immediate:!0,deep:!0},"$store.state.modulePay.payInfo":{handler:function(t){var e,n=this;if(null!=t&&null!==(e=t.topFloor)&&void 0!==e&&e.mobile)try{(new P).then((function(t){var e,o,a,r,i=new t.JSEncrypt,l=n._hexCharToStr(null===(e=n.$store.state.modulePay.payInfo)||void 0===e||null===(o=e.topFloor)||void 0===o?void 0:o.mobileKey).split("").reverse().join("");i.setPrivateKey(l),n.mobile=i.decrypt(null===(a=n.$store.state.modulePay.payInfo)||void 0===a||null===(r=a.topFloor)||void 0===r?void 0:r.mobile)}))}catch(t){window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"充值手机号解析异常",{data:t,time:new Date,errorId:window.errorId})}},immediate:!0}},computed:I(I({},(0,d.mapState)({moneyFlag:function(t){var e,n;return null===(e=t.modulePay.payInfo)||void 0===e||null===(n=e.topFloor)||void 0===n?void 0:n.moneyFlag},topPriceAnimationInfo:function(t){return t.modulePay.topPriceAnimationInfo},mobileTitle:function(t){var e,n,o;return null!==(e=null===(n=t.modulePay.payInfo)||void 0===n||null===(o=n.topFloor)||void 0===o?void 0:o.mobileTitle)&&void 0!==e?e:""},countdownTime:function(t){var e,n,o;return null!==(e=null===(n=t.modulePay.payInfo)||void 0===n||null===(o=n.topFloor)||void 0===o?void 0:o.countdownTime)&&void 0!==e?e:""}})),{},{amount:function(){return this.$store.getters["moduleAmount/getAmountData"]}}),methods:{_hexCharToStr:function(t){try{var e=t.trim(),n="0x"===e.substr(0,2).toLowerCase()?e.substr(2):e,o=n.length;if(o%2!=0)return t;for(var a,r=[],i=0;i<o;i+=2)a=parseInt(n.substr(i,2),16),r.push(String.fromCharCode(a));return r.join("")}catch(t){}},countMoney:function(){this.$store.commit("moduleDebugger/countMoneyClickTimes")}}},O=S,L=(0,l.Z)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"amountBlockWrap",style:{top:t.isShowHeader?"11.73333vw":"0 !important"},on:{touchmove:function(t){t.preventDefault()}}},[n("div",{staticClass:"amountWrap",on:{click:t.countMoney}},[n("div",{staticClass:"unit"},[t._v("\n      "+t._s(t.topPriceAnimationInfo.moneyFlag||t.moneyFlag)+"\n    ")]),t._v(" "),n("div",{staticClass:"integer"},[n("countTo",{attrs:{"start-val":t.numObj.startPrice,"end-val":t.numObj.endPrice,duration:2e3,decimals:2}})],1)]),t._v(" "),t.mobile?n("div",{staticClass:"telChargeWrap"},[n("span",{staticClass:"pre"},[t._v(t._s(t.mobileTitle))]),t._v(" "),n("span",{staticClass:"telNum"},[t._v(t._s(t.mobile))])]):t._e(),t._v(" "),t.countdownTime?n("div",{staticClass:"cutdownTimeWrap"},[n("div",{staticClass:"pre"},[t._v("\n      支付剩余时间\n    ")]),t._v(" "),n("Countdown")],1):t._e()])}),[],!1,null,"65ce654c",null).exports,x=(n(9826),n(4553),n(1249),n(6176));function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function j(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */j=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,a){var r=e&&e.prototype instanceof f?e:f,i=Object.create(r.prototype),l=new O(a||[]);return o(i,"_invoke",{value:I(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function h(){}var v={};u(v,r,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&n.call(y,r)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function a(o,r,i,l){var u=s(t[o],t,r);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==_(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(d).then((function(t){c.value=t,i(c)}),(function(t){return a("throw",t,i,l)}))}l(u.arg)}var r;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){a(t,n,e,o)}))}return r=r?r.then(o,o):o()}})}function I(t,e,n){var o="suspendedStart";return function(a,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw r;return x()}for(n.method=a,n.arg=r;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=s(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function w(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},C(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new b(c(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(g),u(g,l,"Generator"),u(g,r,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function E(t,e,n,o,a,r,i){try{var l=t[r](i),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(o,a)}var T={name:"Cardpay",props:{index:{type:Number,default:0},cardData:{type:Object,default:function(){}}},data:function(){return{couponsText:"",cardTextWait:!1,subtitleText:"",subtitleClass:"",showSubtitleIcon:!1}},computed:{selectChannel:function(){return this.$store.state.modulePay.selectChannel},cardIconUrl:function(){var t="";return 1===parseFloat(this.cardData.status)||5===parseFloat(this.cardData.status)?t=this.cardData.defaultSelected?"https://img10.360buyimg.com/imagetools/jfs/t1/202783/6/5190/4664/6135f3bfEa2ba351e/f920a2a709a37068.png":"https://img13.360buyimg.com/imagetools/jfs/t1/6884/19/11688/2109/6135f256E77550106/180c9bc1056d49a8.png":3===parseFloat(this.cardData.status)&&(t="https://img14.360buyimg.com/imagetools/jfs/t1/200456/3/7056/1647/61370f53Ea269829e/bc0e1e4961870ef4.png"),t}},watch:{cardData:{handler:function(t){var e,n,o,a,r;if((null==t||null===(e=t.allCoupons)||void 0===e||null===(n=e.couponAndCutOffs)||void 0===n?void 0:n.length)>0&&(null==t||!t.notTempUse))this.couponsText=null!==(o=null==t||null===(a=t.allCoupons)||void 0===a||null===(r=a.couponAndCutOffs.find((function(e){return e.payMarketingUUID===t.defaultCouponId})))||void 0===r?void 0:r.promotionDesc)&&void 0!==o?o:"";else if(null!=t&&t.notTempUse)this.couponsText="暂不使用";else if(2===parseFloat(null==t?void 0:t.rightIconType)&&"cups"!==(null==t?void 0:t.code)){var i;this.couponsText=null!==(i=null==t?void 0:t.preferentiaNum)&&void 0!==i?i:""}this.subtitleText=(null==t?void 0:t.tip)||(null==t?void 0:t.regulatorCantUseDesc),this.subtitleClass=3===(null==t?void 0:t.status)?"noUse":"",t&&"cups"===t.code&&(!this.subtitleText&&t.preferentiaNum&&(this.subtitleText=t.preferentiaNum,this.subtitleClass="coupons"),!t.tip&&t.preferentiaNum&&(t.extraInfo||t.toastModel&&t.toastModel.message)&&(this.showSubtitleIcon=!0))},deep:!0,immediate:!0}},methods:{choseCheckBox:function(){var t,e,n,o,a,r,i,l,u,c,s,d,f,p,h=this;if(!(null!==(t=this.cardData)&&void 0!==t&&t.defaultSelected||1!==parseFloat(null===(e=this.cardData)||void 0===e?void 0:e.status)&&5!==parseFloat(null===(n=this.cardData)||void 0===n?void 0:n.status))&&9!==parseFloat(null===(o=this.cardData)||void 0===o?void 0:o.status)&&(this.$store.commit("modulePay/setSelectedChannel",{id:null!==(a=null===(r=this.cardData)||void 0===r?void 0:r.uniqueChannelId)&&void 0!==a?a:"",code:null!==(i=null===(l=this.cardData)||void 0===l?void 0:l.code)&&void 0!==i?i:"",channelId:null!==(u=null===(c=this.cardData)||void 0===c?void 0:c.channelId)&&void 0!==u?u:""}),null!==(s=this.cardData)&&void 0!==s&&s.defaultCouponId&&(null===(d=this.cardData)||void 0===d||null===(f=d.allCoupons)||void 0===f||null===(p=f.couponAndCutOffs)||void 0===p?void 0:p.length)>0)){var v,m,y,g=null!==(v=null===(m=this.cardData)||void 0===m||null===(y=m.allCoupons)||void 0===y?void 0:y.couponAndCutOffs)&&void 0!==v?v:[];if(-1!==g.findIndex((function(t){var e;return(null==t?void 0:t.payMarketingUUID)===(null===(e=h.cardData)||void 0===e?void 0:e.defaultCouponId)}))){var C=g.find((function(t){var e;return(null==t?void 0:t.payMarketingUUID)===(null===(e=h.cardData)||void 0===e?void 0:e.defaultCouponId)}));if(null!=C&&C.showAmount){var b=(0,x.T4)(null==C?void 0:C.showAmount),I=b.moneyFlag,w=b.interNum,P=b.floatNum;this.$store.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:{moneyFlag:I,interNum:w,floatNum:P}})}else this.$store.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:{}})}}},showDetail:function(t){"JXJ"===(null==t?void 0:t.code)?(this.$store.commit("moduleSurpriseGolds/setStateBaseInfo",{surpriseGoldsInfo:this.cardData}),this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"SurpriseGolds",payLayFrom:null==t?void 0:t.code})):"GOUWUJIN"===(null==t?void 0:t.code)&&(r.Z.eventClick("MCashierNew_SecToastEntrance",location.href),this.$store.commit("moduleShopPrice/setStateBaseInfo",{shopPriceInfo:this.cardData}),this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"ShopPrice",payPopupFrom:null==t?void 0:t.code}))},showExtraInfo:function(t){"cups"===(null==t?void 0:t.code)&&(this.$store.commit("moduleSubtitleTip/setStateBaseInfo",{subtitleTipInfo:this.cardData}),this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"SubtitleTip",payLayFrom:null==t?void 0:t.code}))},handleCoupon:function(){var t,e=this;return(t=j().mark((function t(){var n,o,a,i,l,u,c,s,d,f,p,h,v,m,y,g;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.Z.eventClick("MCashierNew_CardDiscountClick",location.href),!e.cardTextWait){t.next=3;break}return t.abrupt("return");case 3:if(1!==parseFloat(null===(n=e.cardData)||void 0===n?void 0:n.canSelectCoupon)){t.next=22;break}return t.prev=4,e.cardTextWait=!0,t.next=8,e.$store.dispatch("moduleCardPay/getCardInfo",{channelId:null===(o=e.cardData)||void 0===o?void 0:o.channelId});case 8:p=t.sent,e.cardTextWait=!1,e.$store.commit("moduleCardPay/setStateBaseInfo",{cardPayInfo:e.cardData}),e.$store.commit("moduleVoucherList/setStateBaseInfo",{canUseCoupons:null!==(a=null==p||null===(i=p.canUseCouponList)||void 0===i?void 0:i.map((function(t){return t.canUse=!0,t})))&&void 0!==a?a:[],cantUseCoupons:null!==(l=null==p||null===(u=p.cantUseCouponList)||void 0===u?void 0:u.map((function(t){return t.canUse=!1,t})))&&void 0!==l?l:[]}),h={},null!=p&&p.canUseCouponList&&(e.$store.commit("modulePay/setCardAllCoupons",{id:(null===(v=e.cardData)||void 0===v?void 0:v.uniqueChannelId)||"",code:(null===(m=e.cardData)||void 0===m?void 0:m.code)||"",channelId:(null===(y=e.cardData)||void 0===y?void 0:y.channelId)||"",couponAndCutOffs:p.canUseCouponList}),(null===(g=e.cardData)||void 0===g?void 0:g.defaultCouponId)&&(h=null==p?void 0:p.canUseCouponList.find((function(t){var n;return t.payMarketingUUID===(null===(n=e.cardData)||void 0===n?void 0:n.defaultCouponId)})))),e.$store.commit("moduleVoucherList/setStateBaseInfo",{voucherTypeFrom:null!==(c=null===(s=e.cardData)||void 0===s?void 0:s.code)&&void 0!==c?c:"",selectedCoupon:h}),e.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Voucherpopup",payPopupFrom:null!==(d=null===(f=e.cardData)||void 0===f?void 0:f.code)&&void 0!==d?d:""}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),e.cardTextWait=!1,null!==t.t0&&void 0!==t.t0&&t.t0.errorMsg?e.$toast.text(null===t.t0||void 0===t.t0?void 0:t.t0.errorMsg):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"handleCoupon代码异常: ".concat(t.t0),{data:t.t0,time:new Date,errorId:window.errorId});case 22:case"end":return t.stop()}}),t,null,[[4,18]])})),function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){E(r,o,a,i,l,"next",t)}function l(t){E(r,o,a,i,l,"throw",t)}i(void 0)}))})()}}},D=T,k=(0,l.Z)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"cardPayWrap",on:{click:t.choseCheckBox}},[n("div",{staticClass:"cardIcon",style:{"background-image":"url("+t.cardData.logo+")"}}),t._v(" "),n("div",{staticClass:"right"},[0!==t.index?n("div",{staticClass:"interLine top"}):t._e(),t._v(" "),n("div",{staticClass:"rightContentWrap"},[n("div",{staticClass:"leftContent"},[n("div",{staticClass:"leftContentInner"},[n("span",{staticClass:"cardText",class:3===t.cardData.status?"noUse":""},[t._v(t._s("HONEYPAY"===t.cardData.code?t.cardData.channelNamePre:t.cardData.channelName))]),t._v(" "),"JXJ"===t.cardData.code&&t.cardData.showSkuList&&t.cardData.iconList&&t.cardData.productInfos||"GOUWUJIN"===t.cardData.code&&t.cardData.iconList&&t.cardData.gouWuJinModel&&t.cardData.gouWuJinModel.walletInfos?t._l(t.cardData.iconList,(function(e,o){return n("img",{key:o,staticClass:"helpIcon",attrs:{src:e},on:{click:function(e){return t.showDetail(t.cardData)}}})})):t._e(),t._v(" "),"JXJ"!==t.cardData.code&&"GOUWUJIN"!==t.cardData.code&&t.cardData.iconList?t._l(t.cardData.iconList,(function(e,o){return n("img",{key:o,staticClass:"recommondIcon",attrs:{src:e},on:{click:function(e){return t.showDetail(t.cardData)}}})})):t._e(),t._v(" "),"HONEYPAY"===t.cardData.code?n("span",{staticClass:"honeyPayName",class:3===t.cardData.status?"noUse":""},[t._v(t._s(t.cardData.channelNameMiddle))]):t._e(),t._v(" "),"HONEYPAY"===t.cardData.code?n("span",{staticClass:"honeyPayTail",class:3===t.cardData.status?"noUse":""},[t._v(t._s(t.cardData.channelNameTail))]):t._e()],2),t._v(" "),n("div",{staticClass:"subtitleWrap"},[t.subtitleText?n("span",{staticClass:"subText",class:t.subtitleClass},[t._v("\n              "+t._s(t.subtitleText)+"\n            ")]):t._e(),t._v(" "),t.showSubtitleIcon?n("img",{staticClass:"subtitleIcon",attrs:{src:"https://img14.360buyimg.com/imagetools/jfs/t1/198633/30/7072/1470/6135ee30E0b80c8ab/e350e7312cad4f76.png"},on:{click:function(e){return t.showExtraInfo(t.cardData)}}}):t._e()]),t._v(" "),("XJK"==t.cardData.code||t.cardData.investorDoc)&&t.cardData.canUse?n("span",{staticClass:"xjkSubText"},[t._v("\n            "+t._s(t.cardData.investorDoc)+"\n          ")]):t._e()]),t._v(" "),n("div",{staticClass:"rightContent"},[t.cardData.moreInfoTip?n("span",{staticClass:"combinedPay"},[t._v(t._s(t.cardData.moreInfoTip))]):t._e(),t._v(" "),"CREDITINSTALLMENT"!==t.cardData.code&&"1"==t.cardData.status&&t.couponsText?n("div",{staticClass:"voucher",on:{click:t.handleCoupon}},[n("span",{staticClass:"text"},[t._v(t._s(t.couponsText))]),t._v(" "),"1"==t.cardData.canSelectCoupon?n("img",{staticClass:"arrow",attrs:{src:"https://img14.360buyimg.com/imagetools/jfs/t1/197309/31/7178/685/6136d859E7ddb75ac/db1c821963a88eca.png"}}):t._e()]):t._e(),t._v(" "),"0"!=t.cardData.rightIconType&&"9"!=t.cardData.status?n("div",{staticClass:"checkboxWrap"},[t.cardIconUrl?n("img",{staticClass:"checkbox",attrs:{src:t.cardIconUrl}}):t._e()]):t._e()])]),t._v(" "),n("div",{staticClass:"interLine bottom"})])]),t._v(" "),t._t("creditCardStage")],2)}),[],!1,null,"cf634128",null).exports,B=(n(6755),{props:{channelSelected:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},useOrder:{type:Boolean,default:!0},stageValue:{type:Object,default:function(){}}},computed:{isPlus:function(){var t,e;return(null===(t=this.stageValue)||void 0===t||null===(e=t.discountLogoType)||void 0===e?void 0:e.indexOf("plus"))>-1},itemStausClass:function(){return this.selected&&this.channelSelected?this.isPlus?"plusCheckedStage":"checkedStage":this.useOrder?"normalStage":"forbiddenStage"},itemAngleMarkUrl:function(){return this.isPlus?"https://img14.360buyimg.com/imagetools/jfs/t1/135635/28/21245/265/617a6301E0fba95df/92d636f996ac9d39.png":this.selected&&this.channelSelected?"https://img12.360buyimg.com/imagetools/jfs/t1/51561/20/17371/349/613609f7E2a8f19b5/b56eea4ae4bce678.png":"https://img11.360buyimg.com/imagetools/jfs/t1/6172/15/16555/371/61360a0dEbcff1d42/d2f4e023db0ba2de.png"},angleMarkClass:function(){return this.isPlus?"angleMark-plusChecked":this.selected&&this.channelSelected?"angleMark-checked":""}}}),N=(0,l.Z)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stageItem",class:t.itemStausClass},[t.useOrder&&t.stageValue.discountLogoText?n("div",{staticClass:"angleMark",class:t.angleMarkClass},[n("div",[t._v(t._s(t.stageValue.discountLogoText))]),t._v(" "),n("img",{attrs:{src:t.itemAngleMarkUrl}})]):t._e(),t._v(" "),n("span",{staticClass:"stageTitle",class:t.useOrder?"":"noUse"},[t._v(t._s(t.stageValue.priceAndPlan))]),t._v(" "),n("span",{staticClass:"stageSubtitle",class:t.useOrder?"":"noUse"},[t._v(t._s(t.stageValue.planFeeInfo))])])}),[],!1,null,"5e61a88b",null).exports;function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==F(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===F(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,a){var r=e&&e.prototype instanceof f?e:f,i=Object.create(r.prototype),l=new O(a||[]);return o(i,"_invoke",{value:I(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function h(){}var v={};u(v,r,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&n.call(y,r)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function a(o,r,i,l){var u=s(t[o],t,r);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==F(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(d).then((function(t){c.value=t,i(c)}),(function(t){return a("throw",t,i,l)}))}l(u.arg)}var r;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){a(t,n,e,o)}))}return r=r?r.then(o,o):o()}})}function I(t,e,n){var o="suspendedStart";return function(a,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw r;return x()}for(n.method=a,n.arg=r;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=s(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function w(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},C(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new b(c(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(g),u(g,l,"Generator"),u(g,r,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function q(t,e,n,o,a,r,i){try{var l=t[r](i),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(o,a)}function R(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){q(r,o,a,i,l,"next",t)}function l(t){q(r,o,a,i,l,"throw",t)}i(void 0)}))}}var W={components:{StageItem:N},data:function(){return{selectCardDetailInfoData:"",creditTextWait:!1,creditStageWait:!1}},watch:{selectChannel:{handler:function(t,e){var n=this;return R($().mark((function o(){var a,r,i;return $().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=null==t?void 0:t.bindingCardArray,r=(null==t?void 0:t.bindingCardArray)&&(null==t?void 0:t.bindingCardArray.find((function(t){return t.selected})))||{},!(!e||t&&t.defaultSelected)){o.next=16;break}if(i=n.$store.state.moduleCreditCard.fromAllPaymentPop,n.$store.commit("moduleCreditCard/setFromAllPamentPop",!1),!i){o.next=7;break}return o.abrupt("return");case 7:return n.$store.commit("moduleCreditCard/setStateBaseInfo",{allCreditCardList:a,creditCardSelectedInfo:r,creditCardAllInfo:t||{}}),o.prev=8,o.next=11,n.$store.dispatch("moduleCreditCard/getCreditCardInfo",{channelId:null==r?void 0:r.channelId,bankCode:null==r?void 0:r.bankCode,operationType:"0",currentCoupon:"",targetCoupon:"",currentPlan:null==r?void 0:r.recommendPlanId,targetPlan:""});case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(8),null!==o.t0&&void 0!==o.t0&&o.t0.errorMsg?n.$toast.text(null===o.t0||void 0===o.t0?void 0:o.t0.errorMsg):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"platCreditCardCalculateRate代码异常: ".concat(o.t0),{data:o.t0,time:new Date,errorId:window.errorId});case 16:case"end":return o.stop()}}),o,null,[[8,13]])})))()},immediate:!0,deep:!0}},methods:{handleSelectCoupon:function(){var t=this;return R($().mark((function e(){var n,o,a,i,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.Z.eventClick("MCashierNew_InstalmentDiscountClick",location.href),!t.creditTextWait){e.next=3;break}return e.abrupt("return");case 3:if(null!==(n=t.selectCardDetailInfo)&&void 0!==n&&n.selectedCoupon){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,t.creditTextWait=!0,e.next=9,t.$store.dispatch("moduleCreditCard/getCreditCardInfo",{channelId:t.creditCardSelectedInfo.channelId,bankCode:t.creditCardSelectedInfo.bankCode,operationType:"5",currentCoupon:"",targetCoupon:"",currentPlan:"",targetPlan:""});case 9:t.creditTextWait=!1,t.$store.commit("moduleVoucherList/setStateBaseInfo",{voucherTypeFrom:null===(o=t.creditCardAllInfo)||void 0===o?void 0:o.code,selectedCoupon:null!==(a=null===(i=t.selectCardDetailInfo)||void 0===i?void 0:i.selectedCoupon)&&void 0!==a?a:{}}),t.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Voucherpopup",payPopupFrom:null===(l=t.creditCardAllInfo)||void 0===l?void 0:l.code}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),t.creditTextWait=!1,null!==e.t0&&void 0!==e.t0&&e.t0.errorMsg?t.$toast.text(null===e.t0||void 0===e.t0?void 0:e.t0.errorMsg):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"handleSelectCoupon代码异常: ".concat(e.t0),{data:e.t0,time:new Date,errorId:window.errorId});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})))()},showfenqi:function(){this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Fenqi",payPopupFrom:"creditCardFenqi"})},handleSelectStage:function(t){var e=this;return R($().mark((function n(){var o,a,i,l;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.Z.eventClick("MCashierNew_CreditPayWay",location.href,"".concat(null!==(o=null==t?void 0:t.plan)&&void 0!==o?o:"","_1")),!e.creditStageWait){n.next=3;break}return n.abrupt("return");case 3:if(null!=t&&t.useOrder){n.next=5;break}return n.abrupt("return");case 5:if(n.prev=5,((null===(a=e.selectCardDetailInfo)||void 0===a?void 0:a.planFeeList)&&(null===(i=e.selectCardDetailInfo)||void 0===i||null===(l=i.planFeeList.find((function(t){return t.selected})))||void 0===l?void 0:l.plan)||"")!==(null==t?void 0:t.plan)){n.next=9;break}return n.abrupt("return");case 9:return e.creditStageWait=!0,n.next=12,e.$store.dispatch("moduleCreditCard/getCreditCardInfo",{channelId:e.creditCardSelectedInfo.channelId,bankCode:e.creditCardSelectedInfo.bankCode,operationType:"2",currentCoupon:"",targetCoupon:"",currentPlan:"",targetPlan:t.plan});case 12:e.creditStageWait=!1,n.next=19;break;case 15:n.prev=15,n.t0=n.catch(5),e.creditStageWait=!1,null!==n.t0&&void 0!==n.t0&&n.t0.errorMsg&&e.$toast.text(null===n.t0||void 0===n.t0?void 0:n.t0.errorMsg);case 19:case"end":return n.stop()}}),n,null,[[5,15]])})))()},showPayLay:function(t){var e,n,o,a;null!==(e=this.selectCardDetailInfo)&&void 0!==e&&null!==(n=e.serviceMap)&&void 0!==n&&n.planServiceFeeToast&&(this.$store.commit("moduleRate/setStateBaseInfo",{rateInfo:null===(o=this.selectCardDetailInfo)||void 0===o?void 0:o.serviceMap}),this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:t,payLayFrom:null===(a=this.creditCardAllInfo)||void 0===a?void 0:a.code}))},handleSelectCreditCard:function(){var t;r.Z.eventClick("MCashierNew_CreditChange",location.href),this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Cardpopup",payPopupFrom:null===(t=this.creditCardAllInfo)||void 0===t?void 0:t.code})}},computed:M(M({couponIconDir:function(){var t,e,n="couponIconRight";"CREDITINSTALLMENT"===(null===(t=this.$store.state.moduleNutPopup)||void 0===t?void 0:t.payPopupFrom)&&(null!==(e=this.$store.state.moduleNutPopup)&&void 0!==e&&e.showPayPopup&&(n=""));return n}},(0,d.mapState)({creditCardSelectedInfo:function(t){return t.moduleCreditCard.creditCardSelectedInfo},allCreditCardList:function(t){return t.moduleCreditCard.allCreditCardList},selectCardDetailInfo:function(t){return t.moduleCreditCard.selectCardDetailInfo},creditCardAllInfo:function(t){return t.moduleCreditCard.creditCardAllInfo},selectChannel:function(t){return t.modulePay.selectChannel}})),{},{couponsText:function(){var t,e,n,o,a,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b,I=this,w="",P=null!==(t=null===(e=this.selectCardDetailInfo)||void 0===e?void 0:e.canUseCouponList)&&void 0!==t?t:[],S=null!==(n=null===(o=this.selectCardDetailInfo)||void 0===o?void 0:o.cantUseCouponList)&&void 0!==n?n:[];if(null!==(a=this.selectCardDetailInfo)&&void 0!==a&&a.selectedCoupon)if(null!==(u=this.selectCardDetailInfo)&&void 0!==u&&null!==(c=u.selectedCoupon)&&void 0!==c&&c.canUse){if(null!==(s=this.selectCardDetailInfo)&&void 0!==s&&null!==(d=s.selectedCoupon)&&void 0!==d&&d.couponInfo)w=null===(h=this.selectCardDetailInfo)||void 0===h?void 0:h.selectedCoupon.couponInfo;else if(null!==(f=this.selectCardDetailInfo)&&void 0!==f&&null!==(p=f.selectedCoupon)&&void 0!==p&&p.couponId){var O,L,x,_,j,E;if(null!==(O=this.selectCardDetailInfo)&&void 0!==O&&null!==(L=O.selectedCoupon)&&void 0!==L&&L.couponId.startsWith("nothing"))w=null!==(x=null==P||null===(_=P.find((function(t){var e,n;return t.activityId===(null===(e=I.selectCardDetailInfo)||void 0===e||null===(n=e.selectedCoupon)||void 0===n?void 0:n.activityId)})))||void 0===_?void 0:_.couponInfo)&&void 0!==x?x:"";else w=null!==(j=null==P||null===(E=P.find((function(t){var e,n;return t.couponId===(null===(e=I.selectCardDetailInfo)||void 0===e||null===(n=e.selectedCoupon)||void 0===n?void 0:n.couponId)})))||void 0===E?void 0:E.couponInfo)&&void 0!==j?j:""}}else"doNotUse"===(null===(v=this.selectCardDetailInfo)||void 0===v||null===(m=v.selectedCoupon)||void 0===m?void 0:m.couponId)?w="暂不使用":"empty"===(null===(y=this.selectCardDetailInfo)||void 0===y||null===(g=y.selectedCoupon)||void 0===g?void 0:g.couponId)?w="暂无可用":null!==(C=this.selectCardDetailInfo)&&void 0!==C&&null!==(b=C.selectedCoupon)&&void 0!==b&&b.couponId?(null==P?void 0:P.length)>0?w="暂不使用":0===(null==P?void 0:P.length)&&(null==S?void 0:S.length)>0&&(w="暂无可用"):w="";else null!==(i=this.creditCardAllInfo)&&void 0!==i&&i.couponInfo?w=this.creditCardAllInfo.couponInfo:null!==(l=this.creditCardAllInfo)&&void 0!==l&&l.preferentiaNum&&(w=this.creditCardAllInfo.preferentiaNum);return w&&r.Z.eventClick("MCashierNew_InstalmentDiscountExpo",location.href),w}})},Z=W,G=(0,l.Z)(Z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"creditCardStage"},[t.creditCardSelectedInfo.bankNameShow?n("div",{staticClass:"creditCardStage-header",on:{click:function(e){return e.preventDefault(),t.handleSelectCreditCard.apply(null,arguments)}}},[n("span",{staticClass:"creditCardStage-name"},[t._v(t._s(t.creditCardSelectedInfo.bankNameShow))]),t._v(" "),n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.selectCardDetailInfo.selectedCoupon&&t.selectCardDetailInfo.selectedCoupon.canUse||t.couponsText,expression:"(selectCardDetailInfo.selectedCoupon && selectCardDetailInfo.selectedCoupon.canUse) || couponsText"}],staticClass:"creditCardStage-coupon",on:{click:function(e){return e.stopPropagation(),t.handleSelectCoupon.apply(null,arguments)}}},[n("span",[t._v(t._s(t.couponsText))]),t._v(" "),t.selectCardDetailInfo.selectedCoupon?n("img",{staticClass:"couponIcon",class:t.couponIconDir,attrs:{src:"https://img11.360buyimg.com/imagetools/jfs/t1/204234/6/5148/365/6135be13Eb69502f1/93f5a72db9c71028.png"}}):t._e()]),t._v(" "),n("img",{staticClass:"linkIcon",attrs:{src:"https://img13.360buyimg.com/imagetools/jfs/t1/54019/24/16797/890/61361f41Ea80c4358/b7d9d8f6e1e95d7f.png"}})])]):t._e(),t._v(" "),t.selectCardDetailInfo.planFeeList&&t.selectCardDetailInfo.planFeeList.length>0?n("div",{staticClass:"creditCardStage-stageList"},t._l(t.selectCardDetailInfo.planFeeList,(function(e,o){return n("StageItem",{key:o,attrs:{selected:e.selected,"use-order":e.useOrder,"stage-value":e},nativeOn:{click:function(n){return t.handleSelectStage(e)}}})})),1):t._e(),t._v(" "),t.selectCardDetailInfo.serviceMap&&t.selectCardDetailInfo.serviceMap.planServiceFeeStr||t.selectCardDetailInfo.agreementServiceMap&&t.selectCardDetailInfo.agreementServiceMap.agreementName?n("div",{staticClass:"annualRate"},[n("span",[t.selectCardDetailInfo.agreementServiceMap&&t.selectCardDetailInfo.agreementServiceMap.agreementName?n("span",{staticClass:"fenqi",on:{click:t.showfenqi}},[t._v(t._s(t.selectCardDetailInfo.agreementServiceMap.agreementName))]):t._e(),t._v(" "),t.selectCardDetailInfo.serviceMap&&t.selectCardDetailInfo.serviceMap.planServiceFeeStr&&t.selectCardDetailInfo.agreementServiceMap&&t.selectCardDetailInfo.agreementServiceMap.agreementName?n("span",{staticClass:"interline"},[t._v("|")]):t._e(),t._v(" "),t.selectCardDetailInfo.serviceMap&&t.selectCardDetailInfo.serviceMap.planServiceFeeStr?n("span",[n("span",{on:{click:function(e){return t.showPayLay("Rate")}}},[t._v(t._s(t.selectCardDetailInfo.serviceMap.planServiceFeeStr))]),t._v(" "),t.selectCardDetailInfo.serviceMap&&t.selectCardDetailInfo.serviceMap.planServiceFeeToast?n("img",{attrs:{src:"https://img13.360buyimg.com/imagetools/jfs/t1/201280/28/5536/767/61360710E7b03d973/4d1ff15b5da1fb10.png"},on:{click:function(e){return t.showPayLay("Rate")}}}):t._e()]):t._e()])]):t._e()])}),[],!1,null,"0fd742c6",null),V=G.exports;n(5306),n(4603),n(8386),n(9714);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==J(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===J(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */X=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,a){var r=e&&e.prototype instanceof f?e:f,i=Object.create(r.prototype),l=new O(a||[]);return o(i,"_invoke",{value:I(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function h(){}var v={};u(v,r,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&n.call(y,r)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function a(o,r,i,l){var u=s(t[o],t,r);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==J(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(d).then((function(t){c.value=t,i(c)}),(function(t){return a("throw",t,i,l)}))}l(u.arg)}var r;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){a(t,n,e,o)}))}return r=r?r.then(o,o):o()}})}function I(t,e,n){var o="suspendedStart";return function(a,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw r;return x()}for(n.method=a,n.arg=r;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=s(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function w(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},C(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new b(c(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(g),u(g,l,"Generator"),u(g,r,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function K(t,e,n,o,a,r,i){try{var l=t[r](i),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(o,a)}function z(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){K(r,o,a,i,l,"next",t)}function l(t){K(r,o,a,i,l,"throw",t)}i(void 0)}))}}var tt={components:{StageItem:N},props:{isBaitiaoChecked:{type:Boolean,default:!1},itemContent:{type:Object,default:function(){}}},data:function(){return{btStageWait:!1,normalBTChecked:!0}},methods:{handleBaitiaoChecked:function(){var t,e,n,o,a,r;this.isBaitiaoChecked||3===parseFloat(null===(t=this.itemContent)||void 0===t?void 0:t.status)||this.$store.commit("modulePay/setSelectedChannel",{id:null!==(e=null===(n=this.itemContent)||void 0===n?void 0:n.uniqueChannelId)&&void 0!==e?e:"",code:null!==(o=null===(a=this.itemContent)||void 0===a?void 0:a.code)&&void 0!==o?o:"",channelId:null===(r=this.itemContent)||void 0===r?void 0:r.channelId})},handleSelectCoupon:function(){var t=this;return z(X().mark((function e(){var n,o,a,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.commit("moduleBaitiao/setStateBaseInfo",{isHandleSelectCoupon:!0}),r.Z.eventClick("MCashierNew_DiscountEntrance",location.href),e.prev=2,u=null!==(n=null===(o=t.$store.state.moduleBaitiao)||void 0===o?void 0:o.canUseCouponList)&&void 0!==n?n:[],c=null!==(a=null===(i=t.$store.state.moduleBaitiao)||void 0===i?void 0:i.cantUseCouponList)&&void 0!==a?a:[],!t.isBaitiaoChecked||null!=u&&u.length||null!=c&&c.length){e.next=8;break}return e.next=8,t.$store.dispatch("moduleBaitiao/getBaitiaoCouponInfo",{code:null===(s=t.itemContent)||void 0===s?void 0:s.code,channelId:(null===(d=t.itemContent)||void 0===d?void 0:d.channelId)||"",combineType:null===(f=t.itemContent)||void 0===f?void 0:f.combineType});case 8:t.isBaitiaoChecked&&1===parseFloat(null===(l=t.itemContent)||void 0===l?void 0:l.canSelectCoupon)&&(t.$store.commit("moduleVoucherList/setStateBaseInfo",{voucherTypeFrom:null==t||null===(p=t.itemContent)||void 0===p?void 0:p.code,voucherChannelId:null==t||null===(h=t.itemContent)||void 0===h?void 0:h.channelId,selectedCoupon:null!==(v=null===(m=t.baitiaoInfoData)||void 0===m?void 0:m.selectedCoupon)&&void 0!==v?v:{},combineType:null===(y=t.itemContent)||void 0===y?void 0:y.combineType}),t.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Voucherpopup",payPopupFrom:null==t||null===(g=t.itemContent)||void 0===g?void 0:g.code}),null!==(C=t.itemContent)&&void 0!==C&&C.showPlans&&t.$store.commit("modulePay/delShowPlans",{channelId:null==t||null===(b=t.itemContent)||void 0===b?void 0:b.channelId})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"baitiao-handleCoupon代码异常: ".concat(e.t0),{data:e.t0,time:new Date,errorId:window.errorId});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},showfenqi:function(){var t,e=null===(t=this.baitiaoInfoData)||void 0===t?void 0:t.agreementServiceMap;e&&null!=e&&e.agreementTitle&&null!=e&&e.agreementUrl&&this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Fenqi",payPopupFrom:"baitiaoFenqi"})},handleSelectStage:function(t){var e=this;return z(X().mark((function n(){var o,a,i,l,u,c,s,d,f,p,h,v,m,y,g;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.Z.eventClick("MCashierNew_Instalment",location.href,"".concat(null!==(o=null==t?void 0:t.plan)&&void 0!==o?o:"","_1")),!e.btStageWait){n.next=3;break}return n.abrupt("return");case 3:if(null!=t&&t.useOrder){n.next=5;break}return n.abrupt("return");case 5:if(e.isBaitiaoChecked||(e.handleBaitiaoChecked(),e.normalBTChecked=!1),null!=t&&t.useOrder){n.next=8;break}return n.abrupt("return");case 8:if((u=(null===(a=e.baitiaoInfoData)||void 0===a?void 0:a.planFeeList)&&(null===(i=e.baitiaoInfoData)||void 0===i||null===(l=i.planFeeList.find((function(t){return t.selected})))||void 0===l?void 0:l.plan)||"")!==(null==t?void 0:t.plan)){n.next=11;break}return n.abrupt("return");case 11:return n.prev=11,e.btStageWait=!0,n.next=15,e.$store.dispatch("moduleBaitiao/getBaitiaoStageInfo",{firstQuery:e.isFirstCalcStage?"1":"0",operationType:"2",currentCoupon:null!==(c=null===(s=e.baitiaoInfoData)||void 0===s?void 0:s.selectedCoupon)&&void 0!==c?c:{},targetCoupon:t.recommendCoupon,currentPlan:u||"1",targetPlan:t.plan,planRate:null===(d=e.itemContent)||void 0===d?void 0:d.planRate,code:null===(f=e.itemContent)||void 0===f?void 0:f.code,channelId:(null===(p=e.itemContent)||void 0===p?void 0:p.channelId)||"",combineType:null===(h=e.itemContent)||void 0===h?void 0:h.combineType});case 15:e.$store.commit("modulePay/setBTStageSelected",{channelCode:null==e||null===(v=e.itemContent)||void 0===v?void 0:v.code,defaultPlanFee:t,defaultCoupon:(null===(m=e.baitiaoInfoData)||void 0===m?void 0:m.selectedCoupon)||{}}),null!==(y=e.itemContent)&&void 0!==y&&y.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(g=e.itemContent)||void 0===g?void 0:g.channelId}),e.btStageWait=!1,n.next=24;break;case 20:n.prev=20,n.t0=n.catch(11),e.btStageWait=!1,null!==n.t0&&void 0!==n.t0&&n.t0.errorMsg&&e.$toast.text(null===n.t0||void 0===n.t0?void 0:n.t0.errorMsg);case 24:case"end":return n.stop()}}),n,null,[[11,20]])})))()},couponParamFormatter:function(t){return Q({couponId:null==t?void 0:t.couponId,activityId:null==t?void 0:t.activityId,couponType:null==t?void 0:t.couponType,plans:null==t?void 0:t.plans,defaultPlan:null==t?void 0:t.defaultPlan,canUse:null==t?void 0:t.canUse,extInfo:null==t?void 0:t.extInfo,couponInfo:null==t?void 0:t.couponInfo},(null==t?void 0:t.combinationCouponList)&&{combinationCouponList:null==t?void 0:t.combinationCouponList})},showPayLay:function(t){var e,n,o;if(null!==(e=this.baitiaoInfoData)&&void 0!==e&&null!==(n=e.serviceMap)&&void 0!==n&&n.planServiceFeeToast||"BaitiaoFuelQuota"===t){var a;if("Rate"===t)this.$store.commit("moduleRate/setStateBaseInfo",{rateInfo:null===(a=this.baitiaoInfoData)||void 0===a?void 0:a.serviceMap});this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:t,payLayFrom:null===(o=this.itemContent)||void 0===o?void 0:o.code})}},setDefaultCoupon:function(){var t,e,n,o,a,r=null===(t=this.baitiaoInfoData)||void 0===t||null===(e=t.planFeeList)||void 0===e?void 0:e.find((function(t){return t.selected}));r||(r=(null===(a=this.itemContent)||void 0===a?void 0:a.defaultPlanFee)||{});this.$store.commit("modulePay/setBTStageSelected",{channelCode:null==this||null===(n=this.itemContent)||void 0===n?void 0:n.code,defaultPlanFee:r,defaultCoupon:(null===(o=this.baitiaoInfoData)||void 0===o?void 0:o.selectedCoupon)||{}})}},computed:Q(Q({checkedIconUrl:function(){return 1===parseFloat(this.itemContent.status)||5===parseFloat(this.itemContent.status)?this.isBaitiaoChecked?"https://img10.360buyimg.com/imagetools/jfs/t1/202783/6/5190/4664/6135f3bfEa2ba351e/f920a2a709a37068.png":"https://img13.360buyimg.com/imagetools/jfs/t1/6884/19/11688/2109/6135f256E77550106/180c9bc1056d49a8.png":"https://img14.360buyimg.com/imagetools/jfs/t1/200456/3/7056/1647/61370f53Ea269829e/bc0e1e4961870ef4.png"},couponIconDir:function(){var t,e,n,o="couponIconRight";"BAITIAO"!==(null===(t=this.$store.state.moduleNutPopup)||void 0===t?void 0:t.payPopupFrom)&&"BAITIAOQUICK"!==(null===(e=this.$store.state.moduleNutPopup)||void 0===e?void 0:e.payPopupFrom)||null!==(n=this.$store.state.moduleNutPopup)&&void 0!==n&&n.showPayPopup&&(o="");return o}},(0,d.mapState)({baitiaoInfoData:function(t){return t.moduleBaitiao.BaitiaoInfo},isFirstPayChannel:function(t){return t.modulePay.isFirstPayChannel},isFirstCalcStage:function(t){return t.moduleBaitiao.isFirstCalcStage}})),{},{totalNum:function(){var t,e,n;return(null===(t=this.baitiaoInfoData)||void 0===t?void 0:t.planFeeList)&&(null===(e=this.baitiaoInfoData)||void 0===e||null===(n=e.planFeeList.find((function(t){return t.selected})))||void 0===n?void 0:n.total)},agreementTextOpt:function(){var t,e,n,o=null===(t=this.baitiaoInfoData)||void 0===t?void 0:t.investorDoc,a=null===(e=this.baitiaoInfoData)||void 0===e||null===(n=e.agreementServiceMap)||void 0===n?void 0:n.investorTxt;return a&&o&&o.indexOf(a)>-1&&(o=o.replace(new RegExp(a,"g"),(function(t){return"<span class='agreementHighlight' @click=\"showfenqi\">".concat(t,"</span>")}))),o},couponsText:function(){var t,e,n,o,a,r,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b=this,I="",w=null!==(t=null===(e=this.$store.state.moduleBaitiao)||void 0===e?void 0:e.canUseCouponList)&&void 0!==t?t:[],P=null!==(n=null===(o=this.$store.state.moduleBaitiao)||void 0===o?void 0:o.cantUseCouponList)&&void 0!==n?n:[];if(null!==(a=this.baitiaoInfoData)&&void 0!==a&&a.selectedCoupon)if(null!==(u=this.baitiaoInfoData)&&void 0!==u&&null!==(c=u.selectedCoupon)&&void 0!==c&&c.canUse){if(null!==(s=this.baitiaoInfoData)&&void 0!==s&&null!==(d=s.selectedCoupon)&&void 0!==d&&d.couponInfo)I=null===(h=this.baitiaoInfoData)||void 0===h||null===(v=h.selectedCoupon)||void 0===v?void 0:v.couponInfo;else if(null!==(f=this.baitiaoInfoData)&&void 0!==f&&null!==(p=f.selectedCoupon)&&void 0!==p&&p.couponId){var S,O,L,x,_,j;if(null!==(S=this.baitiaoInfoData)&&void 0!==S&&null!==(O=S.selectedCoupon)&&void 0!==O&&O.couponId.startsWith("nothing"))I=null!==(L=null==w||null===(x=w.find((function(t){var e,n;return t.activityId===(null===(e=b.baitiaoInfoData)||void 0===e||null===(n=e.selectedCoupon)||void 0===n?void 0:n.activityId)})))||void 0===x?void 0:x.couponInfo)&&void 0!==L?L:"";else I=null!==(_=null==w||null===(j=w.find((function(t){var e,n;return t.couponId===(null===(e=b.baitiaoInfoData)||void 0===e||null===(n=e.selectedCoupon)||void 0===n?void 0:n.couponId)})))||void 0===j?void 0:j.couponInfo)&&void 0!==_?_:""}}else"doNotUse"===(null===(m=this.baitiaoInfoData)||void 0===m||null===(y=m.selectedCoupon)||void 0===y?void 0:y.couponId)?I="暂不使用":"empty"===(null===(g=this.baitiaoInfoData)||void 0===g||null===(C=g.selectedCoupon)||void 0===C?void 0:C.couponId)?I="暂无可用":(null==w?void 0:w.length)>0?I="暂不使用":0===(null==w?void 0:w.length)&&(null==P?void 0:P.length)>0&&(I="暂无可用");else null!==(r=this.itemContent)&&void 0!==r&&null!==(i=r.defaultCoupon)&&void 0!==i&&i.couponInfo?I=this.itemContent.defaultCoupon.couponInfo:null!==(l=this.itemContent)&&void 0!==l&&l.preferentiaNum&&(I=this.itemContent.preferentiaNum);return I}}),watch:{isBaitiaoChecked:{handler:function(t){var e=this;return z(X().mark((function n(){var o,a,r,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isFirstPayChannel){n.next=3;break}return t&&null!==(o=e.itemContent)&&void 0!==o&&o.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(a=e.itemContent)||void 0===a?void 0:a.channelId}),n.abrupt("return");case 3:if(e.normalBTChecked){n.next=6;break}return e.normalBTChecked=!0,n.abrupt("return");case 6:if(!t||1!==parseFloat(e.itemContent.status)){n.next=21;break}return n.prev=8,n.next=11,e.$store.dispatch("moduleBaitiao/getBaitiaoStageInfo",{code:null===(r=e.itemContent)||void 0===r?void 0:r.code,channelId:(null===(i=e.itemContent)||void 0===i?void 0:i.channelId)||"",firstQuery:e.isFirstCalcStage?"1":"0",operationType:"0",currentCoupon:null!==(l=null===(u=e.itemContent)||void 0===u?void 0:u.defaultCoupon)&&void 0!==l?l:{},targetCoupon:"",currentPlan:null!==(c=null===(s=e.itemContent)||void 0===s||null===(d=s.defaultPlanFee)||void 0===d?void 0:d.plan)&&void 0!==c?c:"",targetPlan:null!==(f=null===(p=e.itemContent)||void 0===p||null===(h=p.defaultPlanFee)||void 0===h?void 0:h.plan)&&void 0!==f?f:"",planRate:null===(v=e.itemContent)||void 0===v?void 0:v.planRate,combineType:null===(m=e.itemContent)||void 0===m?void 0:m.combineType});case 11:e.setDefaultCoupon(),null!==(y=e.itemContent)&&void 0!==y&&y.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(g=e.itemContent)||void 0===g?void 0:g.channelId}),e.$store.state.moduleBaitiao.isHandleSelectCoupon&&(e.handleSelectCoupon(),e.$store.commit("moduleBaitiao/setStateBaseInfo",{isHandleSelectCoupon:!1})),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(8),null!==(C=e.itemContent)&&void 0!==C&&C.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(b=e.itemContent)||void 0===b?void 0:b.channelId}),null!==n.t0&&void 0!==n.t0&&n.t0.errorMsg&&e.$toast.text(null===n.t0||void 0===n.t0?void 0:n.t0.errorMsg);case 20:e.$store.commit("moduleBaitiao/setStateBaseInfo",{isFirstCalcStage:!1});case 21:case"end":return n.stop()}}),n,null,[[8,16]])})))()},immediate:!0}}},et=tt,nt=(0,l.Z)(et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Baitiao"},[n("div",{staticClass:"BaitiaoRow",on:{click:function(e){return e.stopPropagation(),t.handleBaitiaoChecked.apply(null,arguments)}}},[n("div",{staticClass:"BaitiaoRowLeft"},[n("div",{staticClass:"Logo",style:{"background-image":"url("+t.itemContent.logo+")"}}),t._v(" "),n("div",{staticClass:"text",class:3==t.itemContent.status?"noUse":""},[n("div",[n("span",[t._v(t._s(t.itemContent.channelName))]),t._v(" "),t.itemContent.iconList&&t.itemContent.iconList.length>0?n("div",{staticClass:"recommendIcon",style:{"background-image":"url("+t.itemContent.iconList[0]+")"}}):t._e()]),t._v(" "),t.itemContent.tip||t.itemContent.baiTiaoTip||t.itemContent.regulatorCantUseDesc?n("span",{staticClass:"subText",class:3==t.itemContent.status?"noUse":""},[t._v(t._s(t.itemContent.tip||t.itemContent.baiTiaoTip||t.itemContent.regulatorCantUseDesc||""))]):t._e()])]),t._v(" "),n("div",{staticClass:"BaitiaoRowRight"},[5==t.itemContent.status?n("span",{staticClass:"combinedPay"},[t._v(t._s(t.itemContent.moreInfoTip))]):t._e(),t._v(" "),t.couponsText&&1==t.itemContent.status?n("div",{staticClass:"couponText",on:{click:t.handleSelectCoupon}},[n("span",[t._v(t._s(t.couponsText))]),t._v(" "),"1"==t.itemContent.canSelectCoupon?n("img",{staticClass:"couponIcon",class:t.couponIconDir,attrs:{src:"https://img11.360buyimg.com/imagetools/jfs/t1/204234/6/5148/365/6135be13Eb69502f1/93f5a72db9c71028.png"}}):t._e()]):t._e(),t._v(" "),n("img",{staticClass:"checkIcon",attrs:{src:t.checkedIconUrl}})])]),t._v(" "),t.isBaitiaoChecked&&1==t.itemContent.status&&(t.totalNum||t.baitiaoInfoData&&t.baitiaoInfoData.extraTip)?n("div",{staticClass:"rowBottom"},[t.totalNum?n("div",{staticClass:"dueAmount"},[n("span",[t._v("分期方式")]),t._v(" "),n("div",[t._v("\n        应还总额：\n        "),n("span",[t._v(t._s(t.totalNum))])])]):t._e(),t._v(" "),t.baitiaoInfoData&&t.baitiaoInfoData.extraTip&&t.baitiaoInfoData.extraTip.extraTipStr?n("div",{staticClass:"fuelQuota"},[n("span",[t._v(t._s(t.baitiaoInfoData.extraTip.extraTipStr))]),t._v(" "),n("img",{attrs:{src:"https://img13.360buyimg.com/imagetools/jfs/t1/201280/28/5536/767/61360710E7b03d973/4d1ff15b5da1fb10.png"},on:{click:function(e){return t.showPayLay("BaitiaoFuelQuota")}}})]):t._e()]):t._e(),t._v(" "),1==t.itemContent.status&&(t.isBaitiaoChecked||t.itemContent.showPlans)&&t.baitiaoInfoData&&t.baitiaoInfoData.planFeeList?n("div",{staticClass:"BaitiaoStages"},t._l(t.baitiaoInfoData.planFeeList,(function(e,o){return n("StageItem",{key:o,attrs:{"channel-selected":t.isBaitiaoChecked,selected:e.selected,"use-order":e.useOrder,"stage-value":e},nativeOn:{click:function(n){return t.handleSelectStage(e)}}})})),1):t._e(),t._v(" "),t.baitiaoInfoData&&t.baitiaoInfoData.serviceMap&&t.baitiaoInfoData.serviceMap.planServiceFeeStr&&t.isBaitiaoChecked?n("div",{staticClass:"firstPayDate"},[n("span",[t._v("\n      "+t._s(t.baitiaoInfoData.serviceMap.planServiceFeeStr)+"\n    ")])]):t._e(),t._v(" "),t.baitiaoInfoData&&t.baitiaoInfoData.investorDoc&&t.isBaitiaoChecked?n("div",{staticClass:"annualRate"},[n("span",[t.baitiaoInfoData.investorDoc?n("span",{domProps:{innerHTML:t._s(t.agreementTextOpt)},on:{click:t.showfenqi}}):t._e()])]):t._e()])}),[],!1,null,"4f72d89e",null),ot=nt.exports;function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function it(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==at(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==at(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===at(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,a){var r=e&&e.prototype instanceof f?e:f,i=Object.create(r.prototype),l=new O(a||[]);return o(i,"_invoke",{value:I(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function h(){}var v={};u(v,r,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&n.call(y,r)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function a(o,r,i,l){var u=s(t[o],t,r);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==at(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(d).then((function(t){c.value=t,i(c)}),(function(t){return a("throw",t,i,l)}))}l(u.arg)}var r;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){a(t,n,e,o)}))}return r=r?r.then(o,o):o()}})}function I(t,e,n){var o="suspendedStart";return function(a,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw r;return x()}for(n.method=a,n.arg=r;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=s(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function w(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},C(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new b(c(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(g),u(g,l,"Generator"),u(g,r,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function ut(t,e,n,o,a,r,i){try{var l=t[r](i),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(o,a)}function ct(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){ut(r,o,a,i,l,"next",t)}function l(t){ut(r,o,a,i,l,"throw",t)}i(void 0)}))}}var st={components:{StageItem:N},props:{isBaifenqiChecked:{type:Boolean,default:!1},itemContent:{type:Object,default:function(){}}},data:function(){return{btStageWait:!1,normalBTChecked:!0}},methods:{handleBaifenqiChecked:function(){var t,e,n,o,a,r,i;this.isBaifenqiChecked||3===parseFloat(null===(t=this.itemContent)||void 0===t?void 0:t.status)||(this.$store.commit("modulePay/setSelectedChannel",{id:null!==(e=null===(n=this.itemContent)||void 0===n?void 0:n.uniqueChannelId)&&void 0!==e?e:"",code:null!==(o=null===(a=this.itemContent)||void 0===a?void 0:a.code)&&void 0!==o?o:"",channelId:null===(r=this.itemContent)||void 0===r?void 0:r.channelId}),this.$store.commit("moduleBaifenqi/setStateBaseInfo",{selectBfqChannelId:null==this||null===(i=this.itemContent)||void 0===i?void 0:i.channelId}))},handleSelectCoupon:function(){var t=this;return ct(lt().mark((function e(){var n,o,a,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b,I,w;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.commit("moduleBaifenqi/setStateBaifenqiBaseInfo",{channelId:null==t||null===(n=t.itemContent)||void 0===n?void 0:n.channelId,isHandleSelectCoupon:!0}),r.Z.eventClick("MCashierNew_DiscountEntrance",location.href),e.prev=2,c=null!==(o=null===(a=t.baitiaoInfoData)||void 0===a?void 0:a.canUseCouponList)&&void 0!==o?o:[],s=null!==(i=null===(l=t.baitiaoInfoData)||void 0===l?void 0:l.cantUseCouponList)&&void 0!==i?i:[],!t.isBaifenqiChecked||null!=c&&c.length||null!=s&&s.length){e.next=8;break}return e.next=8,t.$store.dispatch("moduleBaifenqi/getBaitiaoCouponInfo",{code:null===(d=t.itemContent)||void 0===d?void 0:d.code,channelId:(null===(f=t.itemContent)||void 0===f?void 0:f.channelId)||"",combineType:null===(p=t.itemContent)||void 0===p?void 0:p.combineType});case 8:t.isBaifenqiChecked&&1===parseFloat(null===(u=t.itemContent)||void 0===u?void 0:u.canSelectCoupon)&&(t.$store.commit("moduleVoucherList/setStateBaseInfo",{voucherTypeFrom:null==t||null===(h=t.itemContent)||void 0===h?void 0:h.code,voucherChannelId:null==t||null===(v=t.itemContent)||void 0===v?void 0:v.channelId,selectedCoupon:null!==(m=null===(y=t.baitiaoInfoData)||void 0===y?void 0:y.selectedCoupon)&&void 0!==m?m:{},combineType:null===(g=t.itemContent)||void 0===g?void 0:g.combineType}),t.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Voucherpopup",payPopupFrom:null==t||null===(C=t.itemContent)||void 0===C?void 0:C.code,payPopupChannelId:null==t||null===(b=t.itemContent)||void 0===b?void 0:b.channelId}),null!==(I=t.itemContent)&&void 0!==I&&I.showPlans&&t.$store.commit("modulePay/delShowPlans",{channelId:null==t||null===(w=t.itemContent)||void 0===w?void 0:w.channelId})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"baitiao-handleCoupon代码异常: ".concat(e.t0),{data:e.t0,time:new Date,errorId:window.errorId});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},showfenqi:function(){var t;this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Fenqi",payPopupFrom:"baifenqi",payPopupChannelId:null==this||null===(t=this.itemContent)||void 0===t?void 0:t.channelId})},handleSelectStage:function(t){var e=this;return ct(lt().mark((function n(){var o,a,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b;return lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.Z.eventClick("MCashierNew_Instalment",location.href,"".concat(null!==(o=null==t?void 0:t.plan)&&void 0!==o?o:"","_1")),!e.btStageWait){n.next=3;break}return n.abrupt("return");case 3:if(null!=t&&t.useOrder){n.next=5;break}return n.abrupt("return");case 5:if(e.isBaifenqiChecked||(e.handleBaifenqiChecked(),e.normalBTChecked=!1),null!=t&&t.useOrder){n.next=8;break}return n.abrupt("return");case 8:if((c=(null===(a=e.baitiaoInfoData)||void 0===a?void 0:a.planFeeList)&&(null===(i=e.baitiaoInfoData)||void 0===i||null===(l=i.planFeeList.find((function(t){return t.selected})))||void 0===l?void 0:l.plan)||"")!==(null==t?void 0:t.plan)){n.next=11;break}return n.abrupt("return");case 11:return n.prev=11,e.btStageWait=!0,n.next=15,e.$store.dispatch("moduleBaifenqi/getBaitiaoStageInfo",{firstQuery:e.isFirstCalcStage,operationType:"2",currentCoupon:null!==(s=null===(d=e.baitiaoInfoData)||void 0===d?void 0:d.selectedCoupon)&&void 0!==s?s:{},targetCoupon:t.recommendCoupon,currentPlan:c||"1",targetPlan:t.plan,planRate:null===(f=e.itemContent)||void 0===f?void 0:f.planRate,code:null===(p=e.itemContent)||void 0===p?void 0:p.code,channelId:(null===(h=e.itemContent)||void 0===h?void 0:h.channelId)||"",combineType:null===(v=e.itemContent)||void 0===v?void 0:v.combineType});case 15:e.$store.commit("modulePay/setBFQStageSelected",{channelId:null==e||null===(m=e.itemContent)||void 0===m?void 0:m.channelId,channelCode:null==e||null===(y=e.itemContent)||void 0===y?void 0:y.code,defaultPlanFee:t,defaultCoupon:(null===(g=e.baitiaoInfoData)||void 0===g?void 0:g.selectedCoupon)||{}}),null!==(C=e.itemContent)&&void 0!==C&&C.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(b=e.itemContent)||void 0===b?void 0:b.channelId}),e.btStageWait=!1,n.next=24;break;case 20:n.prev=20,n.t0=n.catch(11),e.btStageWait=!1,null!==n.t0&&void 0!==n.t0&&n.t0.errorMsg&&e.$toast.text(null===n.t0||void 0===n.t0?void 0:n.t0.errorMsg);case 24:e.$store.commit("moduleBaifenqi/setStateBaifenqiBaseInfo",{channelId:null==e||null===(u=e.itemContent)||void 0===u?void 0:u.channelId,isFirstCalcStage:"0"});case 25:case"end":return n.stop()}}),n,null,[[11,20]])})))()},couponParamFormatter:function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){it(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({couponId:null==t?void 0:t.couponId,activityId:null==t?void 0:t.activityId,couponType:null==t?void 0:t.couponType,plans:null==t?void 0:t.plans,defaultPlan:null==t?void 0:t.defaultPlan,canUse:null==t?void 0:t.canUse,extInfo:null==t?void 0:t.extInfo,couponInfo:null==t?void 0:t.couponInfo},(null==t?void 0:t.combinationCouponList)&&{combinationCouponList:null==t?void 0:t.combinationCouponList})},showPayLay:function(t){var e,n,o;if(null!==(e=this.baitiaoInfoData)&&void 0!==e&&null!==(n=e.serviceMap)&&void 0!==n&&n.planServiceFeeToast){var a;if("Rate"===t)this.$store.commit("moduleRate/setStateBaseInfo",{rateInfo:null===(a=this.baitiaoInfoData)||void 0===a?void 0:a.serviceMap});this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:t,payLayFrom:null===(o=this.itemContent)||void 0===o?void 0:o.code})}},setDefaultCoupon:function(){var t,e,n,o,a,r,i=null===(t=this.baitiaoInfoData)||void 0===t||null===(e=t.planFeeList)||void 0===e?void 0:e.find((function(t){return t.selected}));i||(i=(null===(r=this.itemContent)||void 0===r?void 0:r.defaultPlanFee)||{});this.$store.commit("modulePay/setBFQStageSelected",{channelId:null==this||null===(n=this.itemContent)||void 0===n?void 0:n.channelId,channelCode:null==this||null===(o=this.itemContent)||void 0===o?void 0:o.code,defaultPlanFee:i,defaultCoupon:(null===(a=this.baitiaoInfoData)||void 0===a?void 0:a.selectedCoupon)||{}})}},computed:{checkedIconUrl:function(){return 1===parseFloat(this.itemContent.status)||5===parseFloat(this.itemContent.status)?this.isBaifenqiChecked?"https://img10.360buyimg.com/imagetools/jfs/t1/202783/6/5190/4664/6135f3bfEa2ba351e/f920a2a709a37068.png":"https://img13.360buyimg.com/imagetools/jfs/t1/6884/19/11688/2109/6135f256E77550106/180c9bc1056d49a8.png":"https://img14.360buyimg.com/imagetools/jfs/t1/200456/3/7056/1647/61370f53Ea269829e/bc0e1e4961870ef4.png"},couponIconDir:function(){var t,e,n="couponIconRight";"BAIFENQI"===(null===(t=this.$store.state.moduleNutPopup)||void 0===t?void 0:t.payPopupFrom)&&(null!==(e=this.$store.state.moduleNutPopup)&&void 0!==e&&e.showPayPopup&&(n=""));return n},baitiaoInfoData:function(){var t;return this.$store.getters["moduleBaifenqi/getBaitiaoInfoData"](null===(t=this.itemContent)||void 0===t?void 0:t.channelId)},isFirstCalcStage:function(){var t;return(null===(t=this.baitiaoInfoData)||void 0===t?void 0:t.isFirstCalcStage)||"1"},isFirstPayChannel:function(){return this.$store.getters["modulePay/getIsFirstPayChannel"]()},totalNum:function(){var t,e,n;return(null===(t=this.baitiaoInfoData)||void 0===t?void 0:t.planFeeList)&&(null===(e=this.baitiaoInfoData)||void 0===e||null===(n=e.planFeeList.find((function(t){return t.selected})))||void 0===n?void 0:n.total)},couponsText:function(){var t,e,n,o,a,r,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b=this,I="",w=null!==(t=null===(e=this.baitiaoInfoData)||void 0===e?void 0:e.canUseCouponList)&&void 0!==t?t:[],P=null!==(n=null===(o=this.baitiaoInfoData)||void 0===o?void 0:o.cantUseCouponList)&&void 0!==n?n:[];if(null!==(a=this.baitiaoInfoData)&&void 0!==a&&a.selectedCoupon)if(null!==(u=this.baitiaoInfoData)&&void 0!==u&&null!==(c=u.selectedCoupon)&&void 0!==c&&c.canUse){if(null!==(s=this.baitiaoInfoData)&&void 0!==s&&null!==(d=s.selectedCoupon)&&void 0!==d&&d.couponInfo)I=null===(h=this.baitiaoInfoData)||void 0===h||null===(v=h.selectedCoupon)||void 0===v?void 0:v.couponInfo;else if(null!==(f=this.baitiaoInfoData)&&void 0!==f&&null!==(p=f.selectedCoupon)&&void 0!==p&&p.couponId){var S,O,L,x,_,j;if(null!==(S=this.baitiaoInfoData)&&void 0!==S&&null!==(O=S.selectedCoupon)&&void 0!==O&&O.couponId.startsWith("nothing"))I=null!==(L=null==w||null===(x=w.find((function(t){var e,n;return t.activityId===(null===(e=b.baitiaoInfoData)||void 0===e||null===(n=e.selectedCoupon)||void 0===n?void 0:n.activityId)})))||void 0===x?void 0:x.couponInfo)&&void 0!==L?L:"";else I=null!==(_=null==w||null===(j=w.find((function(t){var e,n;return t.couponId===(null===(e=b.baitiaoInfoData)||void 0===e||null===(n=e.selectedCoupon)||void 0===n?void 0:n.couponId)})))||void 0===j?void 0:j.couponInfo)&&void 0!==_?_:""}}else"doNotUse"===(null===(m=this.baitiaoInfoData)||void 0===m||null===(y=m.selectedCoupon)||void 0===y?void 0:y.couponId)?I="暂不使用":"empty"===(null===(g=this.baitiaoInfoData)||void 0===g||null===(C=g.selectedCoupon)||void 0===C?void 0:C.couponId)?I="暂无可用":(null==w?void 0:w.length)>0?I="暂不使用":0===(null==w?void 0:w.length)&&(null==P?void 0:P.length)>0&&(I="暂无可用");else null!==(r=this.itemContent)&&void 0!==r&&null!==(i=r.defaultCoupon)&&void 0!==i&&i.couponInfo?I=this.itemContent.defaultCoupon.couponInfo:null!==(l=this.itemContent)&&void 0!==l&&l.preferentiaNum&&(I=this.itemContent.preferentiaNum);return I}},watch:{isBaifenqiChecked:{handler:function(t){var e=this;return ct(lt().mark((function n(){var o,a,r,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b,I,w,P;return lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isFirstPayChannel){n.next=3;break}return t&&null!==(o=e.itemContent)&&void 0!==o&&o.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(a=e.itemContent)||void 0===a?void 0:a.channelId}),n.abrupt("return");case 3:if(e.normalBTChecked){n.next=6;break}return e.normalBTChecked=!0,n.abrupt("return");case 6:if(!t||1!==parseFloat(e.itemContent.status)){n.next=21;break}return n.prev=8,n.next=11,e.$store.dispatch("moduleBaifenqi/getBaitiaoStageInfo",{code:null===(i=e.itemContent)||void 0===i?void 0:i.code,channelId:(null===(l=e.itemContent)||void 0===l?void 0:l.channelId)||"",firstQuery:e.isFirstCalcStage,operationType:"0",currentCoupon:null!==(u=null===(c=e.itemContent)||void 0===c?void 0:c.defaultCoupon)&&void 0!==u?u:{},targetCoupon:"",currentPlan:null!==(s=null===(d=e.itemContent)||void 0===d||null===(f=d.defaultPlanFee)||void 0===f?void 0:f.plan)&&void 0!==s?s:"",targetPlan:null!==(p=null===(h=e.itemContent)||void 0===h||null===(v=h.defaultPlanFee)||void 0===v?void 0:v.plan)&&void 0!==p?p:"",planRate:null===(m=e.itemContent)||void 0===m?void 0:m.planRate,combineType:null===(y=e.itemContent)||void 0===y?void 0:y.combineType});case 11:e.setDefaultCoupon(),null!==(g=e.itemContent)&&void 0!==g&&g.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(b=e.itemContent)||void 0===b?void 0:b.channelId}),null!==(C=e.baitiaoInfoData)&&void 0!==C&&C.isHandleSelectCoupon&&(e.handleSelectCoupon(),e.$store.commit("moduleBaifenqi/setStateBaifenqiBaseInfo",{channelId:null==e||null===(I=e.itemContent)||void 0===I?void 0:I.channelId,isHandleSelectCoupon:!1})),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(8),null!==(w=e.itemContent)&&void 0!==w&&w.showPlans&&e.$store.commit("modulePay/delShowPlans",{channelId:null==e||null===(P=e.itemContent)||void 0===P?void 0:P.channelId}),null!==n.t0&&void 0!==n.t0&&n.t0.errorMsg&&e.$toast.text(null===n.t0||void 0===n.t0?void 0:n.t0.errorMsg);case 20:e.$store.commit("moduleBaifenqi/setStateBaifenqiBaseInfo",{channelId:null==e||null===(r=e.itemContent)||void 0===r?void 0:r.channelId,isFirstCalcStage:"0"});case 21:case"end":return n.stop()}}),n,null,[[8,16]])})))()},immediate:!0}}},dt=st,ft=(0,l.Z)(dt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Baitiao"},[n("div",{staticClass:"BaitiaoRow",on:{click:function(e){return e.stopPropagation(),t.handleBaifenqiChecked.apply(null,arguments)}}},[n("div",{staticClass:"BaitiaoRowLeft"},[n("div",{staticClass:"Logo",style:{"background-image":"url("+t.itemContent.logo+")"}}),t._v(" "),n("div",{staticClass:"text",class:3==t.itemContent.status?"noUse":""},[n("div",[n("span",[t._v(t._s(t.itemContent.channelName))]),t._v(" "),t.itemContent.iconList&&t.itemContent.iconList.length>0?n("div",{staticClass:"recommendIcon",style:{"background-image":"url("+t.itemContent.iconList[0]+")"}}):t._e()]),t._v(" "),t.itemContent.tip?n("span",{staticClass:"subText",class:3==t.itemContent.status?"noUse":""},[t._v(t._s(t.itemContent.tip))]):t._e()])]),t._v(" "),n("div",{staticClass:"BaitiaoRowRight"},[5==t.itemContent.status?n("span",{staticClass:"combinedPay"},[t._v(t._s(t.itemContent.moreInfoTip))]):t._e(),t._v(" "),t.couponsText&&1==t.itemContent.status?n("div",{staticClass:"couponText",on:{click:t.handleSelectCoupon}},[n("span",[t._v(t._s(t.couponsText))]),t._v(" "),"1"==t.itemContent.canSelectCoupon?n("img",{staticClass:"couponIcon",class:t.couponIconDir,attrs:{src:"https://img11.360buyimg.com/imagetools/jfs/t1/204234/6/5148/365/6135be13Eb69502f1/93f5a72db9c71028.png"}}):t._e()]):t._e(),t._v(" "),n("img",{staticClass:"checkIcon",attrs:{src:t.checkedIconUrl}})])]),t._v(" "),t.isBaifenqiChecked&&1==t.itemContent.status&&(t.totalNum||t.baitiaoInfoData&&t.baitiaoInfoData.extraTip)?n("div",{staticClass:"rowBottom"},[t.totalNum?n("div",{staticClass:"dueAmount"},[n("span",[t._v("分期方式")]),t._v(" "),n("div",[t._v("\n        应还总额：\n        "),n("span",[t._v(t._s(t.totalNum))])])]):t._e(),t._v(" "),t.baitiaoInfoData&&t.baitiaoInfoData.extraTip&&t.baitiaoInfoData.extraTip.extraTipStr?n("div",{staticClass:"fuelQuota"},[n("span",[t._v(t._s(t.baitiaoInfoData.extraTip.extraTipStr))]),t._v(" "),n("img",{attrs:{src:"https://img13.360buyimg.com/imagetools/jfs/t1/201280/28/5536/767/61360710E7b03d973/4d1ff15b5da1fb10.png"},on:{click:function(e){return t.showPayLay("BaitiaoFuelQuota")}}})]):t._e()]):t._e(),t._v(" "),1==t.itemContent.status&&(t.isBaifenqiChecked||t.itemContent.showPlans)&&t.baitiaoInfoData&&t.baitiaoInfoData.planFeeList?n("div",{staticClass:"BaitiaoStages"},t._l(t.baitiaoInfoData.planFeeList,(function(e,o){return n("StageItem",{key:o,attrs:{"channel-selected":t.isBaifenqiChecked,selected:e.selected,"use-order":e.useOrder,"stage-value":e},nativeOn:{click:function(n){return t.handleSelectStage(e)}}})})),1):t._e(),t._v(" "),(t.baitiaoInfoData&&t.baitiaoInfoData.serviceMap&&t.baitiaoInfoData.serviceMap.planServiceFeeStr||t.baitiaoInfoData&&t.baitiaoInfoData.agreementServiceMap&&t.baitiaoInfoData.agreementServiceMap.agreementName)&&t.isBaifenqiChecked?n("div",{staticClass:"annualRate"},[n("span",[t.baitiaoInfoData.agreementServiceMap&&t.baitiaoInfoData.agreementServiceMap.agreementName?n("span",{staticClass:"fenqi",on:{click:t.showfenqi}},[t._v(t._s(t.baitiaoInfoData.agreementServiceMap.agreementName))]):t._e(),t._v(" "),t.baitiaoInfoData&&t.baitiaoInfoData.serviceMap&&t.baitiaoInfoData.serviceMap.planServiceFeeStr&&t.baitiaoInfoData.agreementServiceMap&&t.baitiaoInfoData.agreementServiceMap.agreementName?n("span",{staticClass:"interline"},[t._v("|")]):t._e(),t._v(" "),t.baitiaoInfoData&&t.baitiaoInfoData.serviceMap&&t.baitiaoInfoData.serviceMap.planServiceFeeStr?n("span",[n("span",{on:{click:function(e){return t.showPayLay("Rate")}}},[t._v(t._s(t.baitiaoInfoData.serviceMap.planServiceFeeStr))]),t._v(" "),t.baitiaoInfoData&&t.baitiaoInfoData.serviceMap&&t.baitiaoInfoData.serviceMap.planServiceFeeToast?n("img",{attrs:{src:"https://img13.360buyimg.com/imagetools/jfs/t1/201280/28/5536/767/61360710E7b03d973/4d1ff15b5da1fb10.png"},on:{click:function(e){return t.showPayLay("Rate")}}}):t._e()]):t._e()])]):t._e()])}),[],!1,null,"221a3e5a",null),pt={components:{Cardpay:k,CreditCardStage:V,Baitiao:ot,Baifenqi:ft.exports},computed:{payInfo:function(){return this.$store.state.modulePay.payInfo},defaultJdPayChannelList:function(){return this.$store.state.modulePay.defaultJdPayChannelList}},methods:{showDoWelfare:function(){r.Z.eventClick("MCashierNew_SecToastEntrance",location.href),this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Dowelfare",payPopupFrom:""})},showAllCards:function(){r.Z.eventClick("MCashierNew_SecToastEntrance",location.href),r.Z.eventClick("MCashierNew_JDPayExpand",location.href),this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!0,payPopupComponentName:"Cardpopup",payPopupFrom:"otherPayChannel"}),this.$store.commit("modulePay/setStateBaseInfo",{fromMoreCard:!0},{root:!0})},countJd:function(){this.$store.commit("moduleDebugger/countJdClickTimes")}}},ht=(0,l.Z)(pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jdPayWrap"},[n("div",{staticClass:"jdPayHeader"},[n("img",{staticClass:"jdPayLogo",attrs:{src:"https://img11.360buyimg.com/imagetools/jfs/t1/203771/8/5209/22589/6135e9deE2006a7d6/5473947f1783fe85.png"},on:{click:t.countJd}}),t._v(" "),t.payInfo.publicGoodPlan?n("div",{staticClass:"rightTipWrap",on:{click:t.showDoWelfare}},[n("span",{staticClass:"rightTip"},[t._v(t._s(t.payInfo.titleDesc))]),t._v(" "),n("img",{staticClass:"rightTipIcon",attrs:{src:"https://img14.360buyimg.com/imagetools/jfs/t1/198633/30/7072/1470/6135ee30E0b80c8ab/e350e7312cad4f76.png"}})]):t._e()]),t._v(" "),t.defaultJdPayChannelList&&0==t.defaultJdPayChannelList.length?t._t("payErrorCom"):t._e(),t._v(" "),t._l(t.defaultJdPayChannelList,(function(e,o){return n("div",{key:e.uniqueChannelId},["BAITIAO"==e.code||"BAITIAOQUICK"==e.code?n("Baitiao",{attrs:{"item-content":e,"is-baitiao-checked":e.defaultSelected}}):"BAIFENQI"==e.code?n("Baifenqi",{attrs:{"item-content":e,"is-baifenqi-checked":e.defaultSelected}}):"moreInfo"==e.code?n("div",{staticClass:"otherPayType"},[n("div",{staticClass:"left"},[t._v("\n        "+t._s(e.channelName)+"\n      ")]),t._v(" "),n("div",{staticClass:"right",on:{click:t.showAllCards}},[n("span",{staticClass:"newCard"},[t._v(t._s(e.moreInfoTip))]),t._v(" "),n("img",{staticClass:"arrow",attrs:{src:"https://img13.360buyimg.com/imagetools/jfs/t1/54019/24/16797/890/61361f41Ea80c4358/b7d9d8f6e1e95d7f.png"}})])]):n("Cardpay",{attrs:{"card-data":e,index:o},scopedSlots:t._u(["CREDITINSTALLMENT"==e.code?{key:"creditCardStage",fn:function(){return[e.defaultSelected?n("CreditCardStage"):t._e()]},proxy:!0}:null],null,!0)})],1)}))],2)}),[],!1,null,"4e8a79e1",null).exports;function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function yt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==vt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==vt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gt={name:"Otherpay",components:{Cardpay:k,Baitiao:ot},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,d.mapState)({payChannelList:function(t){return t.modulePay.payInfo.payChannelList}})),methods:{isCardPayShow:function(t){var e=!("BAITIAO"===t.code||"BAITIAOQUICK"===t.code)&&"0"!==t.status;if("cups"===t.code){var n=navigator.userAgent.toLowerCase(),o=n.indexOf("harmony")>-1&&n.indexOf("jdapp")>-1;if(!o){var a=window.location.href,r=(0,x.DP)(a).orderId;window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,250,"unionpay下发错误，不在鸿蒙京东app内",{data:t,time:new Date,orderId:r})}return o&&e}return e}}},Ct=gt,bt=(0,l.Z)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"otherPayWrap"},t._l(t.payChannelList,(function(e,o){return n("div",{key:o},["BAITIAO"==e.code||"BAITIAOQUICK"==e.code?n("Baitiao",{attrs:{"is-baitiao-checked":e.defaultSelected,"item-content":e}}):t._e(),t._v(" "),t.isCardPayShow(e)?n("Cardpay",{attrs:{"card-data":e}}):t._e()],1)})),0)}),[],!1,null,"5995cbb5",null).exports;function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Pt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==It(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==It(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===It(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var St={name:"OtherSourcePay",components:{Cardpay:k,Baitiao:ot},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){Pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,d.mapState)({payChannelList:function(t){return t.modulePay.payInfo.otherPayChannelList},otherPayChannelTip:function(t){return t.modulePay.payInfo.otherPayChannelTip}}))},Ot=St,Lt=(0,l.Z)(Ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"otherPayOutWrap"},[t.payChannelList&&t.payChannelList.length?n("span",{staticClass:"otherPayTip"},[t._v(t._s(t.otherPayChannelTip)+"\n  ")]):t._e(),t._v(" "),n("div",{staticClass:"otherPayWrap"},t._l(t.payChannelList,(function(e,o){return n("div",{key:o},["BAITIAO"==e.code||"BAITIAOQUICK"==e.code?n("Baitiao",{attrs:{"is-baitiao-checked":e.defaultSelected,"item-content":e}}):t._e(),t._v(" "),"XJK"==e.code?n("Cardpay",{attrs:{"card-data":e}}):t._e()],1)})),0)])}),[],!1,null,"591c1ba1",null).exports,xt=(n(6699),n(8862),n(8824));function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function jt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,a){var r=e&&e.prototype instanceof f?e:f,i=Object.create(r.prototype),l=new O(a||[]);return o(i,"_invoke",{value:I(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function h(){}var v={};u(v,r,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&n.call(y,r)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function a(o,r,i,l){var u=s(t[o],t,r);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==_t(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(d).then((function(t){c.value=t,i(c)}),(function(t){return a("throw",t,i,l)}))}l(u.arg)}var r;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){a(t,n,e,o)}))}return r=r?r.then(o,o):o()}})}function I(t,e,n){var o="suspendedStart";return function(a,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw r;return x()}for(n.method=a,n.arg=r;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=s(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function w(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},C(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new b(c(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(g),u(g,l,"Generator"),u(g,r,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Et(t,e,n,o,a,r,i){try{var l=t[r](i),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(o,a)}function Tt(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){Et(r,o,a,i,l,"next",t)}function l(t){Et(r,o,a,i,l,"throw",t)}i(void 0)}))}}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){Bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==_t(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==_t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_t(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nt={data:function(){return{payWait:!1,isShowBottomTip:!1,tipBtnText:"",tipText:"",tipChannelObj:{},isWxAccess:!0,isUppayAccess:!0}},computed:kt(kt({},(0,d.mapState)({selectChannel:function(t){return t.modulePay.selectChannel},btnDesc:function(t){var e;return(null===(e=t.modulePay.payInfo)||void 0===e?void 0:e.btnDesc)||""},bottomMarketInfo:function(t){var e;return(null===(e=t.modulePay.payInfo)||void 0===e?void 0:e.bottomMarketInfo)||""},bottomRecommendInfo:function(t){var e;return(null===(e=t.modulePay.payInfo)||void 0===e?void 0:e.bottomRecommendInfo)||""},buttonTitle:function(t){return t.modulePay.payButtonText||"确认付款"}})),{},{tipType:function(){var t="";return this.btnDesc?t="1":this.bottomMarketInfo?t="2":this.bottomRecommendInfo&&(t="3"),t}}),watch:{selectChannel:{handler:function(t,e){var n,o,a,r=this;if(e){if("2"===this.tipType){var i,l,u=null===(i=this.bottomMarketInfo)||void 0===i||null===(l=i.channelList)||void 0===l?void 0:l.find((function(t){return t.uniqueChannelId===r.selectChannel.uniqueChannelId&&t.code===r.selectChannel.code&&t.channelId===r.selectChannel.channelId}));u?(this.tipText=(null==u?void 0:u.marketDesc)||"",this.isShowBottomTip=!0):this.isShowBottomTip=!1}else if("3"===this.tipType)if(null!=t&&t.jdPay&&null!=e&&e.jdPay)this.isShowBottomTip=!1;else if(null!=t&&t.jdPay||null==e||!e.jdPay)null==t||!t.jdPay||null!=e&&e.jdPay||(0,x.SH)(t,this.tipChannelObj)&&(this.isShowBottomTip=!1);else{var c,s;if((null===(c=this.bottomRecommendInfo)||void 0===c||null===(s=c.channelList)||void 0===s?void 0:s.length)>0){var d,f=(null===(d=this.bottomRecommendInfo)||void 0===d?void 0:d.channelList).find((function(t){return(0,x.SH)(t,e)}));f&&(this.tipText=(null==f?void 0:f.recommendDesc)||"",this.tipBtnText=(null==f?void 0:f.btnText)||"",this.tipChannelObj=f||{},this.isShowBottomTip=!0)}}}else if("3"===this.tipType){if(null!==(n=this.bottomRecommendInfo)&&void 0!==n&&n.otherRecChannel&&null!=t&&t.jdPay)this.isShowBottomTip=!1;else if(null!==(o=this.bottomRecommendInfo)&&void 0!==o&&o.otherRecChannel&&(null==t||!t.jdPay)&&!(0,x.SH)(null===(a=this.bottomRecommendInfo)||void 0===a?void 0:a.otherRecChannel,t)){var p,h,v,m,y;this.tipText=(null===(p=this.bottomRecommendInfo)||void 0===p||null===(h=p.otherRecChannel)||void 0===h?void 0:h.recommendDesc)||"",this.tipBtnText=(null===(v=this.bottomRecommendInfo)||void 0===v||null===(m=v.otherRecChannel)||void 0===m?void 0:m.btnText)||"",this.tipChannelObj=(null===(y=this.bottomRecommendInfo)||void 0===y?void 0:y.otherRecChannel)||{},this.isShowBottomTip=!0}}else if(["1","2"].includes(this.tipType)){if("1"===this.tipType)this.tipText=this.btnDesc||"",this.isShowBottomTip=!0;else if("2"===this.tipType){var g,C,b=null===(g=this.bottomMarketInfo)||void 0===g||null===(C=g.channelList)||void 0===C?void 0:C.find((function(t){return t.uniqueChannelId===r.selectChannel.uniqueChannelId&&t.code===r.selectChannel.code&&t.channelId===r.selectChannel.channelId}));b?(this.tipText=(null==b?void 0:b.marketDesc)||"",this.isShowBottomTip=!0):this.isShowBottomTip=!1}}else this.isShowBottomTip=!1},immediate:!0,deep:!0}},created:function(){this.checkWeixinAvailability(),this.checkUppayAvailability()},methods:{handleChangeChannel:function(){var t,e,n,o,a;this.$store.commit("modulePay/setSelectedChannel",{id:null!==(t=null===(e=this.tipChannelObj)||void 0===e?void 0:e.uniqueChannelId)&&void 0!==t?t:"",code:null!==(n=null===(o=this.tipChannelObj)||void 0===o?void 0:o.code)&&void 0!==n?n:"",channelId:null===(a=this.tipChannelObj)||void 0===a?void 0:a.channelId,channelObj:this.tipChannelObj})},handleError:function(t){this.$store.commit("modulePay/setStateBaseInfo",{payErrorInfo:t});var e="",n="";switch(parseFloat(null==t?void 0:t.errorCode)){case-5:n="LoginTip",e="MCashierNew_DifferExpo";break;case-3:n="RiskTip";break;case 3:n="LoginTip",e="MCashierNew_LoginFloatExpo"}e&&r.Z.eventClick(e,location.href),n?(this.$store.commit("modulePay/setStateBaseInfo",{payErrorInfo:t}),this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:n,payLayFrom:""})):!n&&null!=t&&t.errorMsg&&this.$toast.text(null==t?void 0:t.errorMsg)},toPay:function(){var t=this;return Tt(jt().mark((function e(){var n,o,a,i,l,u,c,s,d,f,p,h,v,m,y,g,C,b,I,w,P,S,O,L,_,j,E,T,D,k,B,N,F,A,M,U,$,q,R,W,Z,G;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.Z.eventClick("MCashierNew_ConfirmPayment",location.href,"".concat(null!==(n=null===(o=t.selectChannel)||void 0===o?void 0:o.code)&&void 0!==n?n:"","_").concat(null===(a=t.$store.state.modulePay.payInfo)||void 0===a?void 0:a.orderId,"_").concat(JSON.stringify(null===(i=t.payInfo)||void 0===i?void 0:i.skuIdList))),!t.payWait){e.next=4;break}return e.abrupt("return");case 4:if(null!==(l=t.selectChannel)&&void 0!==l&&l.code){e.next=7;break}return t.$toast.text("您还没有选择支付方式哦"),e.abrupt("return");case 7:if(s=null!==(u=null===(c=t.selectChannel)||void 0===c?void 0:c.code)&&void 0!==u?u:"",xt.Z&&xt.Z.log("NewCashier-beforePay",{},{code:s}),!["WXMiniPay","wapWeiXinPay","weiXinGzh"].includes(s)){e.next=83;break}"SC-SYT",d={};try{d=getJdEid()}catch(t){window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"获取设备id失败",{data:t,time:new Date,errorId:window.errorId})}if(!["WXMiniPay","weiXinGzh"].includes(s)){e.next=58;break}if(!(0,x.FO)()){e.next=55;break}if("WXMiniPay"!==s){e.next=34;break}return e.prev=17,t.payWait=!0,e.next=21,t.$store.dispatch("modulePayButtom/platWXMiniPay",{payId:t.$store.state.modulePay.payId,busiType:"hym"});case 21:h=e.sent,t.payWait=!1,xt.Z&&xt.Z.log("NewCashier-payFinish",{},{type:"memberCode",prepayId:null==h||null===(f=h.payInfo)||void 0===f?void 0:f.prepay_id}),wx.miniProgram.redirectTo({url:"/pages/wepay/wepay?prepay_id="+(null==h||null===(p=h.payInfo)||void 0===p?void 0:p.prepay_id)}),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(17),t.payWait=!1,xt.Z&&xt.Z.log("NewCashier-payFail",{},{type:"memberCode",error:e.t0}),t.handleError(e.t0);case 32:e.next=53;break;case 34:if("weiXinGzh"!==s){e.next=53;break}return e.prev=35,y={action:"getXinGzhCodeUrl"},(null===(v=d)||void 0===v?void 0:v.sdkToken)&&(y.sdkToken=d.sdkToken),(null===(m=d)||void 0===m?void 0:m.eid)&&(y.eid=d.eid),t.payWait=!0,e.next=42,t.$store.dispatch("modulePayButtom/platWXGzhPay",y);case 42:g=e.sent,t.payWait=!1,xt.Z&&xt.Z.log("NewCashier-payFinish",{},{type:"gzh",url:null==g?void 0:g.shareUrl}),null!=g&&g.shareUrl&&(window.location.href=null==g?void 0:g.shareUrl),e.next=53;break;case 48:e.prev=48,e.t1=e.catch(35),t.payWait=!1,xt.Z&&xt.Z.log("NewCashier-payFail",{},{type:"gzh",error:e.t1}),-5===parseFloat(null===e.t1||void 0===e.t1?void 0:e.t1.errorCode)||3===parseFloat(null===e.t1||void 0===e.t1?void 0:e.t1.errorCode)?t.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"LoginTip",payLayFrom:""}):null!==e.t1&&void 0!==e.t1&&e.t1.errorMsg&&t.$toast.text(null===e.t1||void 0===e.t1?void 0:e.t1.errorMsg);case 53:e.next=56;break;case 55:t.$toast.text("只能在微信内支付！");case 56:e.next=81;break;case 58:if(t.isWxAccess){e.next=62;break}return I=null!==(C=null===(b=t.selectChannel)||void 0===b?void 0:b.paySdkUnInstallClickTip)&&void 0!==C?C:"抱歉，您尚未安装微信",t.$toast.text(I),e.abrupt("return");case 62:return e.prev=62,j={},(null===(w=d)||void 0===w?void 0:w.sdkToken)&&(j.sdkToken=d.sdkToken),(null===(P=d)||void 0===P?void 0:P.eid)&&(j.eid=d.eid),t.payWait=!0,e.next=69,t.$store.dispatch("modulePayButtom/platWapWXPay",j);case 69:E=e.sent,t.payWait=!1,t.$store.commit("moduleLoading/changeLoadingStatus",!0),xt.Z&&xt.Z.log("NewCashier-payFinish",{},{type:"wap",url:(null==E||null===(S=E.payInfo)||void 0===S?void 0:S.deepLink)||(null==E||null===(O=E.payInfo)||void 0===O?void 0:O.mweb_url)}),(null!=E&&null!==(L=E.payInfo)&&void 0!==L&&L.deepLink||null!=E&&null!==(_=E.payInfo)&&void 0!==_&&_.mweb_url)&&(navigator.userAgent.toLowerCase().indexOf("android")>-1&&window.localStorage&&window.localStorage.setItem&&window.localStorage.setItem("fromWxPay","true"),setTimeout((function(){t.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"wxTip",payLayFrom:""}),t.$store.commit("moduleLoading/changeLoadingStatus",!1)}),1e3),window.location.href=(null==E||null===(T=E.payInfo)||void 0===T?void 0:T.deepLink)||(null==E||null===(D=E.payInfo)||void 0===D?void 0:D.mweb_url)),e.next=81;break;case 76:e.prev=76,e.t2=e.catch(62),t.payWait=!1,xt.Z&&xt.Z.log("NewCashier-payFail",{},{type:"wap",error:e.t2}),t.handleError(e.t2);case 81:e.next=127;break;case 83:if("cups"!==s){e.next=112;break}return e.prev=84,e.next=87,t.checkUppayAvailability();case 87:if(t.isUppayAccess){e.next=91;break}return N=null!==(k=null===(B=t.selectChannel)||void 0===B?void 0:B.paySdkUnInstallClickTip)&&void 0!==k?k:"抱歉，您尚未安装云闪付",t.$toast.text(N),e.abrupt("return");case 91:return F={notHandleError:!0},t.payWait=!0,e.next=95,t.$store.dispatch("modulePayButtom/platUnionPay",F);case 95:A=e.sent,t.payWait=!1,M=window.location.href,U=(0,x.DP)(M),$=U.orderId,null!=A&&A.payInfo&&A.payInfo.payMessage?("JDHybridRouterPlugin","callRouterModuleWithParams",q={routerURL:"router://UppayModule/startUppay",routerParam:{tn:A.payInfo.payMessage}},window.jmfe.callNative("JDHybridRouterPlugin","callRouterModuleWithParams",q).then((function(e){e.status;var n=e.data;e.msg;t.handleUppayResult(n)})).catch((function(e){window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,250,"unionpay拉起sdk错误",{data:e,time:new Date,orderId:$}),t.$toast.text("跳转出错了，可选择使用其他支付方式",{duration:2e3})}))):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,1011,"unionpay收单接口返回数据错误",{data:A,time:new Date,orderId:$}),e.next=110;break;case 102:e.prev=102,e.t3=e.catch(84),t.payWait=!1,R=window.location.href,W=(0,x.DP)(R),Z=W.orderId,xt.Z&&xt.Z.log("NewCashier-unionpayFail",{},{type:"unionpay",error:e.t3,orderId:Z}),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,1011,"unionpay错误",{error:e.t3,time:new Date,orderId:Z}),t.handleError(e.t3);case 110:e.next=127;break;case 112:return e.prev=112,t.payWait=!0,e.next=116,t.$store.dispatch("modulePayButtom/getPlatJDPayAcc");case 116:G=e.sent,t.payWait=!1,xt.Z&&xt.Z.log("NewCashier-payFinish",{},{type:"jd",url:null==G?void 0:G.cashierUrl}),null!=G&&G.cashierUrl&&(window.location.href=G.cashierUrl),e.next=127;break;case 122:e.prev=122,e.t4=e.catch(112),xt.Z&&xt.Z.log("NewCashier-payFail",{},{type:"jd",error:e.t4}),t.payWait=!1,t.handleError(e.t4);case 127:e.next=134;break;case 129:e.prev=129,e.t5=e.catch(0),t.payWait=!1,xt.Z&&xt.Z.log("NewCashier-payFail",{},{type:"codeError",error:e.t5}),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"toPay代码异常: ".concat(e.t5),{data:e.t5,time:new Date,errorId:window.errorId});case 134:case"end":return e.stop()}}),e,null,[[0,129],[17,27],[35,48],[62,76],[84,102],[112,122]])})))()},checkWeixinAvailability:function(){var t=this;return Tt(jt().mark((function e(){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.jmfe.canLaunchAppUri("weixin://");case 3:(n=e.sent)&&"0"===n.status&&("1"===n.data?t.isWxAccess=!0:"0"===n.data&&(t.isWxAccess=!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},checkUppayAvailability:function(){var t=this;return Tt(jt().mark((function e(){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.jmfe.canLaunchAppUri("uppaywallet://");case 3:(n=e.sent)&&"0"===n.status&&("1"===n.data?t.isUppayAccess=!0:"0"===n.data&&(t.isUppayAccess=!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handleUppayResult:function(t){var e=this;xt.Z&&xt.Z.log("NewCashier-unionpayFinish",{},{type:"unionpay",data:t}),this.$store.dispatch("modulePayButtom/platUnionPayResult").then((function(t){1===parseFloat(null==t?void 0:t.payStatus)?null!=t&&t.successUrl?window.location.replace(null==t?void 0:t.successUrl):window.location.href="//trade.m.jd.com/order/orderlist_jdm.shtml?sceneval=2&source=m_exter_home_orderList":e.$toast.text("您的订单还未完成支付，请重新支付",{duration:2e3})}))}}},Ft=Nt;function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Mt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,a){var r=e&&e.prototype instanceof f?e:f,i=Object.create(r.prototype),l=new O(a||[]);return o(i,"_invoke",{value:I(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function h(){}var v={};u(v,r,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&n.call(y,r)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function a(o,r,i,l){var u=s(t[o],t,r);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==At(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(d).then((function(t){c.value=t,i(c)}),(function(t){return a("throw",t,i,l)}))}l(u.arg)}var r;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){a(t,n,e,o)}))}return r=r?r.then(o,o):o()}})}function I(t,e,n){var o="suspendedStart";return function(a,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw r;return x()}for(n.method=a,n.arg=r;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=s(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function w(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=s(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},C(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new b(c(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(g),u(g,l,"Generator"),u(g,r,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Ut(t,e,n,o,a,r,i){try{var l=t[r](i),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(o,a)}function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==At(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==At(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===At(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt={name:"Pay",components:{Header:u,Amount:L,Jdpay:ht,Otherpay:bt,OtherSourcePay:Lt,PayButtom:(0,l.Z)(Ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PayButtom"},[t.isShowBottomTip&&t.tipText?n("div",{staticClass:"PayButtom-tip"},[n("span",[t._v(t._s(t.tipText))]),t._v(" "),t.tipBtnText?n("span",{staticClass:"changeChannel",on:{click:t.handleChangeChannel}},[t._v(t._s(t.tipBtnText))]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"payBtn"},[n("span",{on:{click:t.toPay}},[t._v(t._s(t.buttonTitle))])])])}),[],!1,null,"22ae3c15",null).exports,NutPopup:function(){return n.e(847).then(n.bind(n,7393))},NutDialog:function(){return n.e(937).then(n.bind(n,1424))},Dowelfare:function(){return n.e(295).then(n.bind(n,7424))},ShopPrice:function(){return n.e(861).then(n.bind(n,6402))},SurpriseGolds:function(){return n.e(112).then(n.bind(n,3191))},SubtitleTip:function(){return n.e(110).then(n.bind(n,3967))},BackRetention:function(){return n.e(333).then(n.bind(n,1019))},Rate:function(){return n.e(774).then(n.bind(n,779))},BaitiaoFuelQuota:function(){return n.e(921).then(n.bind(n,4457))},Voucherpopup:function(){return n.e(755).then(n.bind(n,1412))},Cardpopup:function(){return n.e(698).then(n.bind(n,1026))},wxTip:function(){return n.e(980).then(n.bind(n,4702))},LoginTip:function(){return n.e(320).then(n.bind(n,1374))},RiskTip:function(){return n.e(613).then(n.bind(n,3852))},RealNameAuth:function(){return n.e(607).then(n.bind(n,9449))},CountdownFinish:function(){return n.e(887).then(n.bind(n,2250))},Fenqi:function(){return n.e(138).then(n.bind(n,9049))}},data:function(){return{appId:"",payId:"",isShowHeader:!1}},mounted:function(){"serviceWorker"in navigator&&r.Z.eventClick("MCashierNew_serviceWorker",location.href,"true")},created:function(){xt.Z&&xt.Z.log("NewCashier-pv"),window.jmfe.registerCode("ebddff58-07d6-4624-b7d5-6c036d03b3bd");try{var t=new MPing.inputs.Click("MCashierNew_PVExpo"),e=location.href;if(e){var n=e.indexOf("?");t.page_name=-1!=n?e.substr(0,n):e}t.page_id="Cashier_Home",t.updateEventSeries(),(new MPing).send(t)}catch(t){}var o=(0,x.DP)(window.location.href),a=o.appId,i=void 0===a?"":a,l=o.payId,u=void 0===l?"":l,c=o.pc_source,s=void 0===c?"":c,d=o.checkPayFinish,f=void 0===d?"":d;(this.appId=i,this.payId=u,"true"===f&&this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"wxTip",payLayFrom:""}),navigator.userAgent.toLowerCase().indexOf("android")>-1&&window.localStorage&&window.localStorage.getItem)&&("true"===window.localStorage.getItem("fromWxPay")&&(window.localStorage.setItem("fromWxPay",""),this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"wxTip",payLayFrom:""})));"syt"===s&&("micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?r.Z.eventClick("MCashierNew_HomeWXVirtual",location.href):r.Z.eventClick("MCashierNew_HomeBrowserVirtual",location.href));this.$store.commit("modulePay/setStateBaseInfo",{appId:i,payId:u}),this.platPayChannelFn()},computed:qt(qt({},(0,d.mapState)({selectChannel:function(t){return t.modulePay.selectChannel},payLayComponent:function(t){return t.moduleDialog.payLayCompontName},payPopupComponent:function(t){return t.moduleNutPopup.payPopupComponentName},payErrorInfo:function(t){return t.modulePay.payErrorInfo},payInfo:function(t){return t.modulePay.payInfo},defaultJdPayChannelList:function(t){return t.modulePay.defaultJdPayChannelList}})),{},{showPayLay:{get:function(){return this.$store.state.moduleDialog.showPayLay},set:function(t){this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:t})}},showPayPopup:{get:function(){return this.$store.state.moduleNutPopup.showPayPopup||r.Z.eventClick("MCashierNew_SecToastClose",location.href),this.$store.state.moduleNutPopup.showPayPopup},set:function(t){this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:t})}}}),methods:{handleError:function(t){this.$store.commit("modulePay/setStateBaseInfo",{payErrorInfo:t});var e="",n="";switch(parseFloat(null==t?void 0:t.errorCode)){case-5:n="LoginTip",e="MCashierNew_DifferExpo";break;case-3:n="RiskTip";break;case 3:n="LoginTip",e="MCashierNew_LoginFloatExpo"}e&&r.Z.eventClick(e,location.href),n?(this.$store.commit("modulePay/setStateBaseInfo",{payErrorInfo:t}),this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:n,payLayFrom:""})):!n&&null!=t&&t.errorMsg&&this.$toast.text(null==t?void 0:t.errorMsg)},platPayChannelFn:function(){var t,e=this;return(t=Mt().mark((function t(){var n,o,a,i,l,u;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={appId:e.appId,payId:e.payId},!((o=navigator.userAgent.toLowerCase()).indexOf("harmony")>-1&&o.indexOf("jdapp")>-1)){t.next=16;break}return t.next=5,window.jmfe.getDeviceInfo();case 5:return(a=t.sent)&&"0"===a.status&&(l=null!==(i=a.data)&&void 0!==i?i:{},n.client=l.systemName,n.clientVersion=l.appVersion),t.prev=7,t.next=10,window.jmfe.canLaunchAppUri("uppaywallet://");case 10:(u=t.sent)&&"0"===u.status&&("1"===u.data?n.hasUPPay="1":"0"===u.data&&(n.hasUPPay="0")),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(7);case 16:e.$store.dispatch("modulePay/getPayInfo",n).then((function(t){var n,o,a,i,l,u,c;"html5"===(null==t?void 0:t.version)&&(e.isShowHeader=!0),r.Z.sendPv(null==t?void 0:t.skuIdList);var s,d,f=!1;"BAITIAO"!==(null===(n=e.selectChannel)||void 0===n?void 0:n.code)&&"BAITIAOQUICK"!==(null===(o=e.selectChannel)||void 0===o?void 0:o.code)&&"BAIFENQI"!==(null===(a=e.selectChannel)||void 0===a?void 0:a.code)||(f=(null===(s=e.selectChannel)||void 0===s||null===(d=s.iconList)||void 0===d?void 0:d.length)>0),r.Z.eventClick("MCashierNew_PaymentMethod",location.href,"".concat(null!==(i=null===(l=e.selectChannel)||void 0===l?void 0:l.code)&&void 0!==i?i:"","_0_").concat(f?1:0,"_").concat(null===(u=e.$store.state.modulePay.payInfo)||void 0===u?void 0:u.orderId,"_").concat(null!==(c=null==t?void 0:t.defaultStrategy)&&void 0!==c?c:"")),null!=t&&t.commonPopupInfo&&e.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!0,payLayCompontName:"RealNameAuth",payLayFrom:""})})).catch((function(t){e.handleError(t)}));case 17:case"end":return t.stop()}}),t,null,[[7,14]])})),function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){Ut(r,o,a,i,l,"next",t)}function l(t){Ut(r,o,a,i,l,"throw",t)}i(void 0)}))})()},closePayPopup:function(){this.$store.commit("moduleNutPopup/setStateBaseInfo",{showPayPopup:!1})},closePayOverlays:function(){this.$store.commit("moduleDialog/setStateBaseInfo",{showPayLay:!1,payLayCompontName:"",payLayFrom:""})}}},Zt=Wt,Gt={name:"Home",components:{Pay:(0,l.Z)(Zt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mpay"},[t.isShowHeader?n("Header"):t._e(),t._v(" "),t.payInfo.orderId?n("div",{staticClass:"home",style:{"padding-top":t.isShowHeader?"48vw":"37.33333vw"}},[n("Amount",{attrs:{"is-show-header":t.isShowHeader}}),t._v(" "),n("Jdpay",{scopedSlots:t._u([{key:"payErrorCom",fn:function(){return[n("div",{staticClass:"payError"},[n("img",{attrs:{src:"https://img14.360buyimg.com/imagetools/jfs/t1/198633/30/7072/1470/6135ee30E0b80c8ab/e350e7312cad4f76.png"}}),t._v(" "),n("span",[t._v("京东支付暂不可用")])])]},proxy:!0}],null,!1,707846366)}),t._v(" "),n("OtherSourcePay"),t._v(" "),n("Otherpay"),t._v(" "),n("PayButtom"),t._v(" "),n("NutPopup",{attrs:{height:"Dowelfare"===t.payPopupComponent?"88.93333vw":"70%"},model:{value:t.showPayPopup,callback:function(e){t.showPayPopup=e},expression:"showPayPopup"}},[n(t.payPopupComponent,{tag:"component",on:{closePayPopup:t.closePayPopup}})],1)],1):t._e(),t._v(" "),n("NutDialog",{model:{value:t.showPayLay,callback:function(e){t.showPayLay=e},expression:"showPayLay"}},[n(t.payLayComponent,{tag:"component",on:{closePayOverlays:t.closePayOverlays}})],1)],1)}),[],!1,null,"4101c88f",null).exports}},Vt=(0,l.Z)(Gt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Pay")],1)}),[],!1,null,null,null).exports,Jt=(n(561),n(9601),n(1038),n(7601),n(3565)),Ht=n(9636),Qt=n.n(Ht);function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function Xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==Yt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function te(t){return function(t){if(Array.isArray(t))return ee(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var ne={namespaced:!0,state:function(){return{payInfo:{},defaultJdPayChannelList:[],selectChannel:{},payErrorInfo:{},appId:"",payId:"",topPriceAnimationInfo:{},tradeMap:"",payButtonText:"确认付款",fenqiNeedChangePayButtonText:!1,isFirstPayChannel:!0,fromMoreCard:!1}},mutations:{setDefaultJdPayChannelList:function(t,e){var n;if(-1===t.defaultJdPayChannelList.findIndex((function(t){return(0,x.SH)(t,{uniqueChannelId:null==e?void 0:e.uniqueChannelId,code:null==e?void 0:e.code,channelId:null==e?void 0:e.channelId})}))){var o=t.defaultJdPayChannelList.splice(-1),a=t.payInfo.jdOtherPayChannelList&&t.payInfo.jdOtherPayChannelList.find((function(t){return(0,x.SH)(t,{uniqueChannelId:null==e?void 0:e.uniqueChannelId,code:null==e?void 0:e.code,channelId:null==e?void 0:e.channelId})}));a=Object.assign(a,e),t.defaultJdPayChannelList.unshift(a),t.defaultJdPayChannelList.pop(),(n=t.defaultJdPayChannelList).push.apply(n,te(o))}},setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))},setStateBaseAttr:function(t,e){var n=e.name,o=e.key,a=e.value;t[n][o]=a},setCardAllCoupons:function(t,e){var n,o,a,r=e.id,i=e.code,l=e.channelId,u=e.couponAndCutOffs;t.selectChannel.allCoupons.couponAndCutOffs=u,(null===(n=t.defaultJdPayChannelList)||void 0===n?void 0:n.length)>0&&t.defaultJdPayChannelList.forEach((function(t){(0,x.SH)(t,{uniqueChannelId:r,code:i,channelId:l})&&(t.allCoupons.couponAndCutOffs=u)})),(null===(o=t.payInfo)||void 0===o||null===(a=o.jdOtherPayChannelList)||void 0===a?void 0:a.length)>0&&t.payInfo.jdOtherPayChannelList.forEach((function(t){(0,x.SH)(t,{uniqueChannelId:r,code:i,channelId:l})&&(t.allCoupons.couponAndCutOffs=u)}))},setPayInfo:function(t,e){t.payInfo=e},setSelectedChannel:function(t,e){var n,o,a,i,l,u,c,s,d,f,p,h,v,m,y,g,C=e.id,b=e.code,I=e.channelId,w=e.channelObj,P=void 0===w?"":w;(t.isFirstPayChannel=!1,(null===(n=t.defaultJdPayChannelList)||void 0===n?void 0:n.length)>0&&t.defaultJdPayChannelList.forEach((function(t){(0,x.SH)(t,{uniqueChannelId:C,code:b,channelId:I})?(P&&("BAITIAO"===P.code||"BAITIAOQUICK"===P.code||"BAIFENQI"===P.code?P.recommendCoupon&&(t.defaultCoupon=P.recommendCoupon,t.defaultPlanFee={plan:P.recommendCoupon.defaultPlan}):P.recommendBankCoupon&&(t.defaultCouponId=P.recommendBankCoupon.payMarketingUUID)),t.defaultSelected=!0):t.defaultSelected=!1})),(null===(o=t.payInfo)||void 0===o||null===(a=o.jdOtherPayChannelList)||void 0===a?void 0:a.length)>0&&t.payInfo.jdOtherPayChannelList.forEach((function(e){if((0,x.SH)(e,{uniqueChannelId:C,code:b,channelId:I})){var n,o,a;if(t.selectChannel=e,null!=e&&null!==(n=e.topPriceAnimationInfo)&&void 0!==n&&n.price){var r=e.topPriceAnimationInfo.price,i=(0,x.T4)(r),l=i.moneyFlag,u=i.interNum,c=i.floatNum;t.topPriceAnimationInfo=Kt({moneyFlag:l,interNum:u,floatNum:c},e.topPriceAnimationInfo)}else if(null!=e&&e.defaultCouponId&&(null==e||null===(o=e.allCoupons)||void 0===o||null===(a=o.couponAndCutOffs)||void 0===a?void 0:a.length)>0){var s,d,f=null!==(s=null==e||null===(d=e.allCoupons)||void 0===d?void 0:d.couponAndCutOffs)&&void 0!==s?s:[];if(-1!==f.findIndex((function(t){return(null==t?void 0:t.payMarketingUUID)===(null==e?void 0:e.defaultCouponId)}))){var p=f.find((function(t){return(null==t?void 0:t.payMarketingUUID)===(null==e?void 0:e.defaultCouponId)}));if(null!=p&&p.showAmount){var h=(0,x.T4)(null==p?void 0:p.showAmount),v=h.moneyFlag,m=h.interNum,y=h.floatNum;t.topPriceAnimationInfo={moneyFlag:v,interNum:m,floatNum:y}}else t.topPriceAnimationInfo={}}}else t.topPriceAnimationInfo={};P&&("BAITIAO"===P.code||"BAITIAOQUICK"===P.code||"BAIFENQI"===P.code?P.recommendCoupon&&(e.defaultCoupon=P.recommendCoupon,e.defaultPlanFee={plan:P.recommendCoupon.defaultPlan}):P.recommendBankCoupon&&(e.defaultCouponId=P.recommendBankCoupon.payMarketingUUID)),e.defaultSelected=!0,t.fenqiNeedChangePayButtonText?t.fenqiNeedChangePayButtonText=!1:t.payButtonText=e.buttonTitle}else e.defaultSelected=!1})),(null===(i=t.payInfo)||void 0===i||null===(l=i.payChannelList)||void 0===l?void 0:l.length)>0&&t.payInfo.payChannelList.forEach((function(e){(0,x.SH)(e,{uniqueChannelId:C,code:b,channelId:I})?(P&&("BAITIAO"===P.code||"BAITIAOQUICK"===P.code||"BAIFENQI"===P.code?P.recommendCoupon&&(e.defaultCoupon=P.recommendCoupon,e.defaultPlanFee={plan:P.recommendCoupon.defaultPlan}):P.recommendBankCoupon&&(e.defaultCouponId=P.recommendBankCoupon.payMarketingUUID)),t.selectChannel=e,e.defaultSelected=!0,t.topPriceAnimationInfo={},t.fenqiNeedChangePayButtonText?t.fenqiNeedChangePayButtonText=!1:t.payButtonText=e.buttonTitle):e.defaultSelected=!1})),(null===(u=t.payInfo)||void 0===u||null===(c=u.otherPayChannelList)||void 0===c?void 0:c.length)>0)&&(null===(g=t.payInfo)||void 0===g||g.otherPayChannelList.forEach((function(e){(0,x.SH)(e,{uniqueChannelId:C,code:b,channelId:I})?(P&&("BAITIAO"===P.code||"BAITIAOQUICK"===P.code||"BAIFENQI"===P.code?P.recommendCoupon&&(e.defaultCoupon=P.recommendCoupon,e.defaultPlanFee={plan:P.recommendCoupon.defaultPlan}):P.recommendBankCoupon&&(e.defaultCouponId=P.recommendBankCoupon.payMarketingUUID)),t.selectChannel=e,e.defaultSelected=!0,t.topPriceAnimationInfo={}):e.defaultSelected=!1})));var S,O,L=!1;"BAITIAO"!==(null===(s=t.selectChannel)||void 0===s?void 0:s.code)&&"BAITIAOQUICK"!==(null===(d=t.selectChannel)||void 0===d?void 0:d.code)&&"BAIFENQI"!==(null===(f=t.selectChannel)||void 0===f?void 0:f.code)||(L=(null===(S=t.selectChannel)||void 0===S||null===(O=S.iconList)||void 0===O?void 0:O.length)>0);r.Z.eventClick("MCashierNew_PaymentMethod",location.href,"".concat(null!==(p=null===(h=t.selectChannel)||void 0===h?void 0:h.code)&&void 0!==p?p:"","_1_").concat(L?1:0,"_").concat(null===(v=t.payInfo)||void 0===v?void 0:v.orderId,"_").concat(null!==(m=null===(y=t.payInfo)||void 0===y?void 0:y.defaultStrategy)&&void 0!==m?m:""))},setDefaultCouponBaitiao:function(t,e){var n=t.payInfo,o=t.defaultJdPayChannelList;o&&o.forEach((function(t){t.defaultSelected&&e.channelId===t.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),n.jdOtherPayChannelList&&n.jdOtherPayChannelList.forEach((function(t){t.defaultSelected&&e.channelId===t.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),n.payChannelList&&n.payChannelList.forEach((function(t){t.defaultSelected&&e.channelId===t.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),n.otherPayChannelList&&n.otherPayChannelList.forEach((function(t){t.defaultSelected&&e.channelId===t.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)}))},setDefaultCouponCard:function(t,e){var n=t.payInfo,o=t.defaultJdPayChannelList;o&&o.forEach((function(t){t.defaultSelected&&(t.defaultCouponId=e,t.notTempUse=!e)})),n.jdOtherPayChannelList&&n.jdOtherPayChannelList.forEach((function(t){t.defaultSelected&&(t.defaultCouponId=e,t.notTempUse=!e)})),n.payChannelList&&n.payChannelList.forEach((function(t){t.defaultSelected&&(t.defaultCouponId=e,t.notTempUse=!e)}))},delShowPlans:function(t,e){var n,o,a,r,i,l,u;(null===(n=t.defaultJdPayChannelList)||void 0===n?void 0:n.length)>0&&t.defaultJdPayChannelList.forEach((function(t){e.channelId===(null==t?void 0:t.channelId)&&null!=t&&t.showPlans&&(null==t||delete t.showPlans)})),(null===(o=t.payInfo)||void 0===o||null===(a=o.jdOtherPayChannelList)||void 0===a?void 0:a.length)>0&&t.payInfo.jdOtherPayChannelList.forEach((function(t){e.channelId===(null==t?void 0:t.channelId)&&null!=t&&t.showPlans&&(null==t||delete t.showPlans)})),(null===(r=t.payInfo)||void 0===r||null===(i=r.payChannelList)||void 0===i?void 0:i.length)>0&&t.payInfo.payChannelList.forEach((function(t){e.channelId===(null==t?void 0:t.channelId)&&null!=t&&t.showPlans&&(null==t||delete t.showPlans)})),(null===(l=t.payInfo)||void 0===l||null===(u=l.otherPayChannelList)||void 0===u?void 0:u.length)>0&&t.payInfo.otherPayChannelList.forEach((function(t){e.channelId===(null==t?void 0:t.channelId)&&null!=t&&t.showPlans&&(null==t||delete t.showPlans)}))},setSimpleAttr:function(t,e){var n=e.obj,o=e.key,a=e.value;n[o]=a},setBTStageSelected:function(t,e){var n,o=t.defaultJdPayChannelList,a=t.jdOtherPayChannelList,r=null===(n=t.payInfo)||void 0===n?void 0:n.otherPayChannelList;o&&o.forEach((function(t){t.code===e.channelCode&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),a&&a.forEach((function(t){t.code===e.channelCode&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),r&&r.forEach((function(t){t.code===e.channelCode&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)}))},setBFQStageSelected:function(t,e){var n,o,a,r=t.defaultJdPayChannelList,i=null===(n=t.payInfo)||void 0===n?void 0:n.jdOtherPayChannelList,l=null===(o=t.payInfo)||void 0===o?void 0:o.payChannelList,u=null===(a=t.payInfo)||void 0===a?void 0:a.otherPayChannelList;r&&r.forEach((function(t){t.channelId===e.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),i&&i.forEach((function(t){t.channelId===e.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),l&&l.forEach((function(t){t.channelId===e.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)})),u&&u.forEach((function(t){t.channelId===e.channelId&&(t.defaultPlanFee=e.defaultPlanFee,t.defaultCoupon=e.defaultCoupon)}))}},actions:{getPayInfo:function(t,e){return new Promise((function(n,o){t.commit("moduleLoading/changeLoadingStatus",!0,{root:!0}),(0,Jt.l$)(e).then((function(e){var o,a,i,l,u;r.Z.sendPv(null==e?void 0:e.skuIdList);var c=e.orderId,s=e.mcashierConfirmInfo;if(!c&&!s)return Qt().text("orderId不存在"),window.noNetWorkShow&&window.noNetWorkShow(),void window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"orderId不存在",{data:e,time:new Date,errorId:window.errorId});s&&(s.msg&&Qt().text(s.msg),window.orderInvalidShow&&window.orderInvalidShow(s)),t.commit("setPayInfo",e),t.commit("setStateBaseInfo",{defaultJdPayChannelList:null!==(o=null==e?void 0:e.jdPayChannelList)&&void 0!==o?o:[],isFirstPayChannel:!0});var d=(null==e?void 0:e.otherPayChannelList)||[];null!=d&&d.length&&d&&d.forEach((function(e){var n;"BAITIAO"!==(null==e?void 0:e.code)&&"BAITIAOQUICK"!==(null==e?void 0:e.code)||(t.commit("moduleBaitiao/setBaitiaoInfo",null==e?void 0:e.baitiaoPlanInfo,{root:!0}),t.commit("setBTStageSelected",{channelCode:null==e?void 0:e.code,defaultPlanFee:null==e?void 0:e.defaultPlanFee,defaultCoupon:(null==e||null===(n=e.baitiaoPlanInfo)||void 0===n?void 0:n.selectedCoupon)||{}}))}));var f=(null==e?void 0:e.jdPayChannelList)||[],p=(null==e?void 0:e.jdOtherPayChannelList)||[];null!=f&&f.length&&f&&f.forEach((function(e){var n;"BAIFENQI"===(null==e?void 0:e.code)&&(t.commit("moduleBaifenqi/setBaifenqiInfo",Kt({channelId:null==e?void 0:e.channelId},null==e?void 0:e.baitiaoPlanInfo),{root:!0}),t.commit("setBFQStageSelected",{channelId:null==e?void 0:e.channelId,channelCode:null==e?void 0:e.code,defaultPlanFee:null==e?void 0:e.defaultPlanFee,defaultCoupon:(null==e||null===(n=e.baitiaoPlanInfo)||void 0===n?void 0:n.selectedCoupon)||{}}))})),null!=p&&p.length&&p&&p.forEach((function(e){var n;"BAIFENQI"===(null==e?void 0:e.code)&&(t.commit("moduleBaifenqi/setBaifenqiInfo",Kt({channelId:null==e?void 0:e.channelId},null==e?void 0:e.baitiaoPlanInfo),{root:!0}),t.commit("setBFQStageSelected",{channelId:null==e?void 0:e.channelId,channelCode:null==e?void 0:e.code,defaultPlanFee:null==e?void 0:e.defaultPlanFee,defaultCoupon:(null==e||null===(n=e.baitiaoPlanInfo)||void 0===n?void 0:n.selectedCoupon)||{}}))}));var h=!1;null!=e&&e.titleDesc&&r.Z.eventClick("MCashierNew_SecToastEntranceExpo",location.href),null==e||null===(a=e.jdPayChannelList)||void 0===a||a.forEach((function(e){var n,o,a;if(null!=e&&e.defaultSelected&&null!=e&&e.defaultCouponId&&(null==e||null===(n=e.allCoupons)||void 0===n||null===(o=n.couponAndCutOffs)||void 0===o?void 0:o.length)>0){var i,l,u=null!==(i=null==e||null===(l=e.allCoupons)||void 0===l?void 0:l.couponAndCutOffs)&&void 0!==i?i:[];if(-1!==u.findIndex((function(t){return(null==t?void 0:t.payMarketingUUID)===(null==e?void 0:e.defaultCouponId)}))){var c=u.find((function(t){return(null==t?void 0:t.payMarketingUUID)===(null==e?void 0:e.defaultCouponId)}));if(null!=c&&c.showAmount){var s=(0,x.T4)(null==c?void 0:c.showAmount),d=s.moneyFlag,f=s.interNum,p=s.floatNum;t.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:{moneyFlag:d,interNum:f,floatNum:p}},{root:!0})}else t.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:{}},{root:!0})}}(e.defaultSelected&&t.commit("setStateBaseInfo",{selectChannel:e}),"BAITIAOQUICK"===(null==e?void 0:e.code))?(null!=e&&e.defaultCoupon?r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"A"):r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"B"),r.Z.eventClick("MCashierNew_SetBTExpo",location.href,(null==e||null===(a=e.iconList)||void 0===a?void 0:a.length)>0?1:0)):"BAITIAO"===(null==e?void 0:e.code)?(null!=e&&e.defaultCoupon?r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"A"):r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"B"),r.Z.eventClick("MCashierNew_BTExpo",location.href)):"BANKCARD"===(null==e?void 0:e.code)?null!=e&&e.defaultCouponId?r.Z.eventClick("MCashierNew_CardDiscountExpo",location.href,"A"):r.Z.eventClick("MCashierNew_CardDiscountExpo",location.href,"B"):"GOUWUJIN"===(null==e?void 0:e.code)||"moreInfo"===(null==e?void 0:e.code)?r.Z.eventClick("MCashierNew_SecToastEntranceExpo",location.href):"HONEYPAY"===(null==e?void 0:e.code)&&r.Z.eventClick("MCashierNew_IntimateCardPaymentExpo",location.href);h||5!==parseFloat(e.status)||(r.Z.eventClick("MCashierNew_MixPayShowUp",location.href),h=!0)})),null==e||null===(i=e.payChannelList)||void 0===i||i.forEach((function(e){var n;(e.defaultSelected&&t.commit("setStateBaseInfo",{selectChannel:e}),"BAITIAOQUICK"===(null==e?void 0:e.code))?(null!=e&&e.defaultCoupon?r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"A"):r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"B"),r.Z.eventClick("MCashierNew_SetBTExpo",location.href,(null==e||null===(n=e.iconList)||void 0===n?void 0:n.length)>0?1:0)):"BAITIAO"===(null==e?void 0:e.code)&&(null!=e&&e.defaultCoupon?r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"A"):r.Z.eventClick("MCashierNew_DiscountExpo",location.href,"B"),r.Z.eventClick("MCashierNew_BTExpo",location.href));h||5!==parseFloat(e.status)||(r.Z.eventClick("MCashierNew_MixPayShowUp",location.href),h=!0)})),null==e||null===(l=e.jdOtherPayChannelList)||void 0===l||l.forEach((function(e){var n;"BAITIAO"!==e.code&&"BAITIAOQUICK"!==e.code&&"BAIFENQI"!==e.code||t.commit("setStateBaseInfo",{tradeMap:(null==e||null===(n=e.defaultPlanFee)||void 0===n?void 0:n.tradeMap)||""})})),null==e||null===(u=e.otherPayChannelList)||void 0===u||u.forEach((function(e){var n;(null!=e&&e.defaultSelected&&t.commit("setStateBaseInfo",{selectChannel:e}),"BAITIAO"===e.code||"BAITIAOQUICK"===e.code||"BAIFENQI"===e.code)&&t.commit("setStateBaseInfo",{tradeMap:(null==e||null===(n=e.defaultPlanFee)||void 0===n?void 0:n.tradeMap)||""})})),t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),n(e)})).catch((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),null!=e&&e.data?(t.commit("setStateBaseInfo",{payErrorInfo:e.data}),o(e.data)):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"platPayChannel接口异常: ".concat(e),{data:e,time:new Date,errorId:window.errorId})}))}))}},getters:{getIsFirstPayChannel:function(t){return function(){return t.isFirstPayChannel}}}},oe={namespaced:!0,state:function(){return{moneyClickTimes:0,jdClickTimes:0}},mutations:{countMoneyClickTimes:function(t,e){t.moneyClickTimes++;var n=t.moneyClickTimes,o=t.jdClickTimes;5===n&&8===o&&(0,Jt.OV)()},countJdClickTimes:function(t,e){t.jdClickTimes++;var n=t.moneyClickTimes,o=t.jdClickTimes;5===n&&8===o&&(0,Jt.OV)()}},actions:{},getters:{}},ae=(n(6977),{namespaced:!0,state:function(){return{}},mutations:{},actions:{},getters:{getAmountData:function(t,e,n){var o,a;return function(t){var e="",n="";if(!t)return{interNum:e,floatNum:n};if(t.indexOf(".")>-1){var o=t.split(".");e=o[0],n=o[1].length>2?o[1].toFixed(2):o[1]}else e=t,n="";return{interNum:e,floatNum:n}}(null===(o=n.modulePay.payInfo)||void 0===o||null===(a=o.topFloor)||void 0===a?void 0:a.payprice)}}});n(3123);function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){ue(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ue(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==re(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==re(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===re(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ce(t,e){null!=e&&e.canUseCouponList&&(t.canUseCouponList=null==e?void 0:e.canUseCouponList),null!=e&&e.cantUseCouponList&&(t.cantUseCouponList=null==e?void 0:e.cantUseCouponList)}var se={namespaced:!0,state:function(){return{BaitiaoInfo:{},canUseCouponList:[],cantUseCouponList:[],isFirstCalcStage:!0,isHandleSelectCoupon:!1}},mutations:{setBaitiaoInfo:function(t,e){var n,o,a,r;t.BaitiaoInfo=e,("1"===(null==e?void 0:e.isMarketRecommendModify)||0===(null===(n=t.canUseCouponList)||void 0===n?void 0:n.length)&&0===(null===(o=t.cantUseCouponList)||void 0===o?void 0:o.length)&&((null==e||null===(a=e.canUseCouponList)||void 0===a?void 0:a.length)>0||(null==e||null===(r=e.canUseCouponList)||void 0===r?void 0:r.length)>0))&&ce(t,e)},setBaitiaoCouponList:function(t,e){ce(t,e)},setStateBaseAttr:function(t,e){var n=e.name,o=e.key,a=e.value;t[n][o]=a},setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{getBaitiaoStageInfo:function(t,e){return new Promise((function(n,o){var a;t.commit("moduleLoading/changeLoadingStatus",!0,{root:!0});var i=le({appId:t.rootState.modulePay.appId,payId:t.rootState.modulePay.payId},e);null!==(a=i.planRate)&&void 0!==a||delete i.planRate,3===parseFloat(null==i?void 0:i.operationType)&&(delete i.currentCoupon,delete i.targetCoupon);var l={notHandleError:e.notHandleError};(0,Jt.d3)(i,l).then((function(o){var a,i,l,u,c,s;t.commit("setBaitiaoInfo",o),t.commit("setStateBaseInfo",{isFirstCalcStage:!1});var d,f,p=null==o||null===(a=o.agreementServiceMap)||void 0===a?void 0:a.agreementButtonTitle,h=t.rootState.modulePay.fromMoreCard;(p?(t.commit("modulePay/setStateBaseInfo",{payButtonText:p},{root:!0}),h&&t.commit("modulePay/setStateBaseInfo",{fenqiNeedChangePayButtonText:!0,fromMoreCard:!1},{root:!0})):t.commit("modulePay/setStateBaseInfo",{payButtonText:"确认付款"},{root:!0}),t.commit("moduleVoucherList/setStateBaseInfo",{selectedCoupon:null!==(i=null==o?void 0:o.selectedCoupon)&&void 0!==i?i:{}},{root:!0}),"1"===(null==e?void 0:e.operationType))?r.Z.eventClick("MCashierNew_CouponChose",location.href,"1"):(null==o||null===(d=o.selectedCoupon)||void 0===d?void 0:d.canUse)&&r.Z.eventClick("MCashierNew_CouponChose",location.href,"0");if((null==o||null===(l=o.planFeeList)||void 0===l?void 0:l.length)>0&&o.planFeeList.forEach((function(e){e.selected&&t.commit("modulePay/setStateBaseInfo",{tradeMap:(null==e?void 0:e.tradeMap)||""},{root:!0})})),["BAITIAO","BAITIAOQUICK"].includes(null===(u=t.rootState.modulePay)||void 0===u||null===(c=u.selectChannel)||void 0===c?void 0:c.code))if(null!=o&&null!==(f=o.topPriceAnimationInfo)&&void 0!==f&&f.price){var v=o.topPriceAnimationInfo.price,m=(0,x.T4)(v),y=m.moneyFlag,g=m.interNum,C=m.floatNum;t.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:le({moneyFlag:y,interNum:g,floatNum:C},o.topPriceAnimationInfo)},{root:!0})}else t.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:{}},{root:!0});(null==o||null===(s=o.planFeeList)||void 0===s?void 0:s.length)>0&&"2"!==e.operationType&&o.planFeeList.forEach((function(t){var e;t.selected&&r.Z.eventClick("MCashierNew_Instalment",location.href,"".concat(null!==(e=null==t?void 0:t.plan)&&void 0!==e?e:"","_0"))})),t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),n(o)})).catch((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),null!=e&&e.data?o(e.data):(o(e),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"platBaiTiaoCalculateRate接口异常: ".concat(e),{type:"BAITIAO",param:JSON.stringify(i),data:e,time:new Date,errorId:window.errorId}))}))}))},getBaitiaoCouponInfo:function(t,e){return new Promise((function(n,o){t.commit("moduleLoading/changeLoadingStatus",!0,{root:!0});var a=le({appId:t.rootState.modulePay.appId,payId:t.rootState.modulePay.payId},e),r={notHandleError:e.notHandleError};(0,Jt.ME)(a,r).then((function(e){"0"===(null==e?void 0:e.code)&&t.commit("setBaitiaoCouponList",e),t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),n(e)})).catch((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),null!=e&&e.data?o(e.data):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"platBaitiaoCouponInfo接口异常: ".concat(e),{type:"BAITIAO",param:JSON.stringify(a),data:e,time:new Date,errorId:window.errorId})}))}))}},getters:{}},de=["channelId","isFirstCalcStage"];function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function me(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==fe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==fe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===fe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ye(t,e){var n=e.channelId,o=e.canUseCouponList,a=e.cantUseCouponList;o&&(t.baifenqiInfo[n].canUseCouponList=o),a&&(t.baifenqiInfo[n].cantUseCouponList=a)}function ge(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!0;return t&&(null==t?void 0:t.length)>0&&(e=!1),e}var Ce={namespaced:!0,state:{BaitiaoInfo:{},canUseCouponList:[],cantUseCouponList:[],isFirstCalcStage:!0,isHandleSelectCoupon:!1,selectBfqChannelId:"",baifenqiInfo:{}},mutations:{setBaifenqiInfo:function(t,e){var n=e.channelId,o=e.canUseCouponList,a=e.cantUseCouponList,r=t.baifenqiInfo[n]||{},i=r.isFirstCalcStage,l=r.isHandleSelectCoupon,u=(null==r?void 0:r.canUseCouponList)||[],c=(null==r?void 0:r.cantUseCouponList)||[];t.baifenqiInfo[n]=ve({isFirstCalcStage:i,isHandleSelectCoupon:l,canUseCouponList:u,cantUseCouponList:c},e),(1===parseInt(null==e?void 0:e.isMarketRecommendModify)||ge(null==r?void 0:r.canUseCouponList)&&ge(null==r?void 0:r.cantUseCouponList)&&((null==o?void 0:o.length)>0||(null==a?void 0:a.length)>0))&&ye(t,e)},setBaitiaoCouponList:function(t,e){ye(t,e)},setStateBaifenqiBaseInfo:function(t,e){var n=e.channelId,o=e.isFirstCalcStage,a=pe(e,de);t.baifenqiInfo[n]||(t.baifenqiInfo[n]={}),t.baifenqiInfo[n]=ve(ve({},t.baifenqiInfo[n]),a),o&&(t.baifenqiInfo[n].isFirstCalcStage=o)},setBaitiaoInfo:function(t,e){t.BaitiaoInfo=e,null!=e&&e.canUseCouponList&&(t.canUseCouponList=e.canUseCouponList,t.cantUseCouponList=e.cantUseCouponList)},setStateBaseAttr:function(t,e){var n=e.name,o=e.key,a=e.value;t[n][o]=a},setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{getBaitiaoStageInfo:function(t,e){return new Promise((function(n,o){var a;t.commit("moduleLoading/changeLoadingStatus",!0,{root:!0});var i=ve({appId:t.rootState.modulePay.appId,payId:t.rootState.modulePay.payId},e);null!==(a=i.planRate)&&void 0!==a||delete i.planRate,3===parseFloat(null==i?void 0:i.operationType)&&(delete i.currentCoupon,delete i.targetCoupon);var l={notHandleError:e.notHandleError};(0,Jt.d3)(i,l).then((function(o){var a,i,l,u,c,s,d="0";e.firstQuery||(d="1"),t.commit("setStateBaifenqiBaseInfo",{channelId:e.channelId,isFirstCalcStage:d});var f=ve({channelId:e.channelId},o);t.commit("setBaifenqiInfo",f),t.commit("setBaitiaoInfo",o);var p,h,v=null==o||null===(a=o.agreementServiceMap)||void 0===a?void 0:a.agreementButtonTitle,m=t.rootState.modulePay.fromMoreCard;(v?(t.commit("modulePay/setStateBaseInfo",{payButtonText:v},{root:!0}),m&&t.commit("modulePay/setStateBaseInfo",{fenqiNeedChangePayButtonText:!0,fromMoreCard:!1},{root:!0})):t.commit("modulePay/setStateBaseInfo",{payButtonText:"确认付款"},{root:!0}),t.commit("moduleVoucherList/setStateBaseInfo",{selectedCoupon:null!==(i=null==o?void 0:o.selectedCoupon)&&void 0!==i?i:{}},{root:!0}),"1"===(null==e?void 0:e.operationType))?r.Z.eventClick("MCashierNew_CouponChose",location.href,"1"):(null==o||null===(p=o.selectedCoupon)||void 0===p?void 0:p.canUse)&&r.Z.eventClick("MCashierNew_CouponChose",location.href,"0");if((null==o||null===(l=o.planFeeList)||void 0===l?void 0:l.length)>0&&o.planFeeList.forEach((function(e){e.selected&&t.commit("modulePay/setStateBaseInfo",{tradeMap:(null==e?void 0:e.tradeMap)||""},{root:!0})})),["BAIFENQI"].includes(null===(u=t.rootState.modulePay)||void 0===u||null===(c=u.selectChannel)||void 0===c?void 0:c.code))if(null!=o&&null!==(h=o.topPriceAnimationInfo)&&void 0!==h&&h.price){var y=o.topPriceAnimationInfo.price,g=(0,x.T4)(y),C=g.moneyFlag,b=g.interNum,I=g.floatNum;t.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:ve({moneyFlag:C,interNum:b,floatNum:I},o.topPriceAnimationInfo)},{root:!0})}else t.commit("modulePay/setStateBaseInfo",{topPriceAnimationInfo:{}},{root:!0});(null==o||null===(s=o.planFeeList)||void 0===s?void 0:s.length)>0&&"2"!==e.operationType&&o.planFeeList.forEach((function(t){var e;t.selected&&r.Z.eventClick("MCashierNew_Instalment",location.href,"".concat(null!==(e=null==t?void 0:t.plan)&&void 0!==e?e:"","_0"))})),t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),n(o)})).catch((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),null!=e&&e.data?o(e.data):(o(e),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"白分期platBaiTiaoCalculateRate接口异常: ".concat(e),{type:"BAIFENQI",param:JSON.stringify(i),data:e,time:new Date,errorId:window.errorId}))}))}))},getBaitiaoCouponInfo:function(t,e){return new Promise((function(n,o){t.commit("moduleLoading/changeLoadingStatus",!0,{root:!0});var a=ve({appId:t.rootState.modulePay.appId,payId:t.rootState.modulePay.payId},e),r={notHandleError:e.notHandleError};(0,Jt.ME)(a,r).then((function(e){"0"===(null==e?void 0:e.code)&&t.commit("setBaitiaoCouponList",ve({channelId:a.channelId},e)),t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),n(e)})).catch((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),null!=e&&e.data?o(e.data):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"白分期platBaitiaoCouponInfo接口异常: ".concat(e),{type:"BAIFENQI",param:JSON.stringify(a),data:e,time:new Date,errorId:window.errorId})}))}))}},getters:{getBaitiaoInfoData:function(t){return function(e){return console.log("BaitiaoInfo:",t.BaitiaoInfo,t.baifenqiInfo),t.baifenqiInfo[e]||{}}}}},be={namespaced:!0,state:function(){return{voucherTypeFrom:"",voucherChannelId:"",selectedCoupon:{}}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{}},Ie={namespaced:!0,state:function(){return{h:0,m:0,s:0,timer:null,countDownEnd:!1}},mutations:{setCountDownTime:function(t,e){var n=e.h,o=e.m,a=e.s;t.h=n,t.m=o,t.s=a},setCountDown:function(t,e){t.countDownEnd=e},formatTime:function(t,e){if(e>0){var n=parseInt(e);t.h=Math.floor(n/3600),t.m=Math.floor(n/60%60),t.s=Math.floor(n%60)}}},actions:{},getters:{}};function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Se(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==we(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==we(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===we(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe={namespaced:!0,state:function(){return{creditCardSelectedInfo:{},allCreditCardList:[],selectCardDetailInfo:{},creditCardAllInfo:{},fromAllPaymentPop:!1}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))},setStateBaseAttr:function(t,e){var n=e.name,o=e.key,a=e.value;t[n][o]=a},changeCreditCardSelect:function(t,e){var n=t.creditCardSelectedInfo.uniqueChannelId,o=e.card.uniqueChannelId;t.allCreditCardList.forEach((function(t){t.uniqueChannelId===n&&(t.selected=!1),t.uniqueChannelId===o&&(t.selected=!0)}))},setFromAllPamentPop:function(t,e){t.fromAllPaymentPop=e}},actions:{getCreditCardInfo:function(t,e){return new Promise((function(n,o){t.commit("moduleLoading/changeLoadingStatus",!0,{root:!0});var a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){Se(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({appId:t.rootState.modulePay.appId,payId:t.rootState.modulePay.payId},e);3===parseFloat(null==a?void 0:a.operationType)&&(delete a.currentCoupon,delete a.targetCoupon),(0,Jt.WD)(a).then((function(e){var o,a;t.commit("setStateBaseInfo",{selectCardDetailInfo:Object.assign({},t.state.selectCardDetailInfo,e)});var i=null==e||null===(o=e.agreementServiceMap)||void 0===o?void 0:o.agreementButtonTitle,l=t.rootState.modulePay.fromMoreCard;i?(t.commit("modulePay/setStateBaseInfo",{payButtonText:i},{root:!0}),l&&t.commit("modulePay/setStateBaseInfo",{fenqiNeedChangePayButtonText:!0,fromMoreCard:!1},{root:!0})):t.commit("modulePay/setStateBaseInfo",{payButtonText:"确认付款"},{root:!0}),(null==e||null===(a=e.planFeeList)||void 0===a?void 0:a.length)>0&&e.planFeeList.forEach((function(e){var n;e.selected&&(r.Z.eventClick("MCashierNew_Instalment",location.href,"".concat(null!==(n=null==e?void 0:e.plan)&&void 0!==n?n:"","_0")),t.commit("modulePay/setStateBaseInfo",{tradeMap:(null==e?void 0:e.tradeMap)||""},{root:!0}))})),t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),n()})).catch((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),null!=e&&e.data?o(e.data):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"platCreditCardCalculateRate接口异常: ".concat(e),{data:e,time:new Date,errorId:window.errorId})}))}))}},getters:{}},Le={namespaced:!0,state:function(){return{surpriseGoldsInfo:{}}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{}},xe={namespaced:!0,state:function(){return{subtitleTipInfo:{}}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{}},_e={namespaced:!0,state:function(){return{shopPriceInfo:{}}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{}};function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Te(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==je(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===je(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var De={namespaced:!0,state:function(){return{cardPayInfo:{}}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))},setStateBaseAttr:function(t,e){var n=e.baseInfoKey,o=e.key,a=e.value;t[n][o]=a}},actions:{getCardInfo:function(t,e){return new Promise((function(n,o){t.commit("moduleLoading/changeLoadingStatus",!0,{root:!0});var a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(n),!0).forEach((function(e){Te(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({appId:t.rootState.modulePay.appId,payId:t.rootState.modulePay.payId},e);(0,Jt.KW)(a).then((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),n(e)})).catch((function(e){t.commit("moduleLoading/changeLoadingStatus",!1,{root:!0}),null!=e&&e.data?o(e.data):window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"platBankCardCouponInfo接口异常: ".concat(e),{data:e,time:new Date,errorId:window.errorId})}))}))}},getters:{}};function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(n),!0).forEach((function(e){Fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ke(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==ke(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ke(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ae=function(t){return t&&t.length&&t.map((function(t){return Ne(Ne({},t),{},{couponInfo:null==t?void 0:t.promotionDesc,termOfValidity:null!=t&&t.beginDate&&null!=t&&t.endDate?"有效期：".concat(null==t?void 0:t.beginDate," - ").concat(null==t?void 0:t.endDate):"",couponDesc:null==t?void 0:t.usingScene})}))},Me={namespaced:!0,state:function(){return{canUseCoupons:[],cantUseCoupons:[],voucherTypeFrom:"",voucherChannelId:"",selectedCoupon:{}}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{transferCanUseCoupons:function(t){return Ae(null==t?void 0:t.canUseCoupons)},transferCantUseCoupons:function(t){return Ae(null==t?void 0:t.cantUseCoupons)}}};function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function $e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(n),!0).forEach((function(e){Re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Re(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ue(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==Ue(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ue(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var We={namespaced:!0,state:function(){return{}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{getPlatJDPayAcc:function(t){var e=t.commit,n=t.rootState,o=t.rootGetters;return new Promise((function(t,a){var r,i;e("moduleLoading/changeLoadingStatus",!0,{root:!0});var l=n.modulePay.payInfo,u=n.modulePay.selectChannel,c=n.moduleBaitiao.BaitiaoInfo,s=n.moduleBaitiao.canUseCouponList||[],d=n.moduleCreditCard.creditCardSelectedInfo,f=n.moduleCreditCard.selectCardDetailInfo,p=(null==u?void 0:u.channelId)||"",h=o["moduleBaifenqi/getBaitiaoInfoData"](p),v=(null==h?void 0:h.canUseCouponList)||[],m="",y="",g="",C="",b="",I="",w=n.modulePay.tradeMap,P={};if("BAITIAO"===(null==u?void 0:u.code)||"BAITIAOQUICK"===(null==u?void 0:u.code)){var S,O,L=(null==c?void 0:c.planFeeList)&&(null==c||null===(S=c.planFeeList)||void 0===S?void 0:S.find((function(t){return t.selected})))||{};if(C=(null==L?void 0:L.planInfo)||"",m=(null==L?void 0:L.plan)||"1",null!=c&&null!==(O=c.selectedCoupon)&&void 0!==O&&O.canUse){var x,_,j=null==c?void 0:c.selectedCoupon;s&&s.length>0&&(j=s.find((function(t){var e,n;return(null==t?void 0:t.activityId)===(null==c||null===(e=c.selectedCoupon)||void 0===e?void 0:e.activityId)&&(null==t?void 0:t.couponId)===(null==c||null===(n=c.selectedCoupon)||void 0===n?void 0:n.couponId)}))||{}),y=null===(x=j)||void 0===x?void 0:x.couponId,g=null===(_=j)||void 0===_?void 0:_.activityId}}else if("BAIFENQI"===(null==u?void 0:u.code)){var E,T,D=(null==h?void 0:h.planFeeList)&&(null==h||null===(E=h.planFeeList)||void 0===E?void 0:E.find((function(t){return t.selected})))||{};if(C=(null==D?void 0:D.planInfo)||"",m=(null==D?void 0:D.plan)||"1",null!=h&&null!==(T=h.selectedCoupon)&&void 0!==T&&T.canUse){var k,B,N=null==h?void 0:h.selectedCoupon;v&&v.length>0&&(N=v.find((function(t){var e,n;return(null==t?void 0:t.activityId)===(null==h||null===(e=h.selectedCoupon)||void 0===e?void 0:e.activityId)&&(null==t?void 0:t.couponId)===(null==h||null===(n=h.selectedCoupon)||void 0===n?void 0:n.couponId)}))||{}),y=null===(k=N)||void 0===k?void 0:k.couponId,g=null===(B=N)||void 0===B?void 0:B.activityId}}else if("CREDITINSTALLMENT"===(null==u?void 0:u.code)){var F,A,M=(null==f?void 0:f.planFeeList)&&(null==f||null===(F=f.planFeeList)||void 0===F?void 0:F.find((function(t){return t.selected})))||{};if(C=(null==M?void 0:M.planInfo)||"",m=(null==M?void 0:M.plan)||"",b=(null==M?void 0:M.bankPlanRate)||"",I=(null==M?void 0:M.merchantFeeSubSideBy)||"",p=null==d?void 0:d.channelId,null!=f&&null!==(A=f.selectedCoupon)&&void 0!==A&&A.canUse){var U,$=(null==f||null===(U=f.canUseCouponList)||void 0===U?void 0:U.find((function(t){var e,n;return(null==t?void 0:t.activityId)===(null==f||null===(e=f.selectedCoupon)||void 0===e?void 0:e.activityId)&&(null==t?void 0:t.couponId)===(null==f||null===(n=f.selectedCoupon)||void 0===n?void 0:n.couponId)})))||{};y=null==$?void 0:$.couponId,g=null==$?void 0:$.activityId}}else{var q,R;P=(null==u||null===(q=u.allCoupons)||void 0===q||null===(R=q.couponAndCutOffs)||void 0===R?void 0:R.find((function(t){return(null==t?void 0:t.payMarketingUUID)===(null==u?void 0:u.defaultCouponId)})))||{}}var W=qe(qe({appId:n.modulePay.appId,payId:n.modulePay.payId,channelId:p,planId:m,couponId:y,activityId:g,channelStatus:null==u?void 0:u.status,requireUUID:null==l?void 0:l.requireUUID,planInfo:C,payMarketingUUID:!(null!=u&&u.notTempUse)&&(null===(r=P)||void 0===r?void 0:r.payMarketingUUID)||"",prizeId:!(null!=u&&u.notTempUse)&&(null===(i=P)||void 0===i?void 0:i.prizeId)||"",channelType:null==u?void 0:u.code,bankPlanRate:b,merchantFeeSubSideBy:I,accountCode:null==u?void 0:u.accountCode,bankCode:(null==d?void 0:d.bankCode)||"",isNewCard:(null==d?void 0:d.cardAd)||"",productCode:(null==u?void 0:u.productCode)||"",payToken:""},w&&{tradeMap:w}),{},{uniqueChannelId:null==u?void 0:u.uniqueChannelId});"CREDITINSTALLMENT"!==(null==u?void 0:u.code)&&"BAITIAO"!==(null==u?void 0:u.code)&&"BAITIAOQUICK"!==(null==u?void 0:u.code)&&"BAIFENQI"!==(null==u?void 0:u.code)&&delete W.planId,(0,Jt.J_)(W).then((function(n){e("moduleLoading/changeLoadingStatus",!1,{root:!0}),t(n)})).catch((function(t){e("moduleLoading/changeLoadingStatus",!1,{root:!0}),a(t.data)}))}))},platWapWXPay:function(t,e){var n=t.commit,o=t.rootState;return new Promise((function(t,a){n("moduleLoading/changeLoadingStatus",!0,{root:!0});var r=qe({appId:o.modulePay.appId,payId:o.modulePay.payId},e);(0,Jt.oN)(r).then((function(e){n("moduleLoading/changeLoadingStatus",!1,{root:!0}),t(e)})).catch((function(t){n("moduleLoading/changeLoadingStatus",!1,{root:!0}),a(t.data)}))}))},platWXGzhPay:function(t,e){var n=t.commit,o=t.rootState;return new Promise((function(t,a){n("moduleLoading/changeLoadingStatus",!0,{root:!0});var r=qe({appId:o.modulePay.appId,payId:o.modulePay.payId},e);(0,Jt.V1)(r).then((function(e){n("moduleLoading/changeLoadingStatus",!1,{root:!0}),t(e)})).catch((function(t){n("moduleLoading/changeLoadingStatus",!1,{root:!0}),a(t.data)}))}))},platWXMiniPay:function(t,e){var n=t.commit,o=t.rootState;return new Promise((function(t,a){n("moduleLoading/changeLoadingStatus",!0,{root:!0});var r=qe({appId:o.modulePay.appId,payId:o.modulePay.payId},e);(0,Jt.pH)(r).then((function(e){n("moduleLoading/changeLoadingStatus",!1,{root:!0}),t(e)})).catch((function(t){n("moduleLoading/changeLoadingStatus",!1,{root:!0}),a(t.data)}))}))},platUnionPay:function(t,e){t.commit;var n=t.rootState;return new Promise((function(t,o){var a=qe({appId:n.modulePay.appId,payId:n.modulePay.payId},e),r={notHandleError:a.notHandleError};(0,Jt.hS)(a,r).then((function(e){t(e)})).catch((function(t){o(t.data)}))}))},platUnionPayResult:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,o){var a,r={appId:n.modulePay.appId,payId:n.modulePay.payId,channelCode:null===(a=n.modulePay.selectChannel)||void 0===a?void 0:a.code};(0,Jt.Kq)(r).then((function(n){e("moduleLoading/changeLoadingStatus",!1,{root:!0}),t(n)})).catch((function(t){e("moduleLoading/changeLoadingStatus",!1,{root:!0}),o(t.data)}))}))}},getters:{}},Ze={namespaced:!0,state:function(){return{}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{platPayResult:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,o){var a,r={appId:n.modulePay.appId,payId:n.modulePay.payId,channelCode:null===(a=n.modulePay.selectChannel)||void 0===a?void 0:a.code};e("moduleLoading/changeLoadingStatus",!0,{root:!0}),(0,Jt.Kq)(r).then((function(n){e("moduleLoading/changeLoadingStatus",!1,{root:!0}),t(n)})).catch((function(t){e("moduleLoading/changeLoadingStatus",!1,{root:!0}),o(t.data)}))}))}},getters:{}},Ge={namespaced:!0,state:function(){return{rateInfo:{}}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{}};function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function Je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(n),!0).forEach((function(e){Qe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ve(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==Ve(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ve(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ye={namespaced:!0,state:function(){return{showPayLay:!1,payLayCompontName:"",payLayFrom:""}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{}},Xe={namespaced:!0,state:function(){return{showPayPopup:!1,payPopupComponentName:"",payPopupFrom:"",payPopupChannelId:""}},mutations:{setStateBaseInfo:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},actions:{},getters:{}},Ke={moduleDebugger:oe,modulePay:ne,moduleDowelfare:{namespaced:!0,state:function(){return{}},mutations:{}},moduleAmount:ae,moduleHeader:{namespaced:!0,state:function(){return{}},mutations:{},actions:{},getters:{getLeaveContent:function(t,e,n){var o,a,r,i=n.moduleCountdown,l=i.h,u=i.m,c=i.s;return function(t,e){var n=e.h,o=e.m,a=e.s;if(!t||0===parseInt(n)&&0===parseInt(o)&&0===parseInt(a))return"";var r=t.split(/{.*}/g),i="";return n&&(i+="".concat(n,"小时")),o&&(i+="".concat(o,"分钟")),!n&&!o&&a<60&&(i+="1分钟内"),"".concat(r[0]).concat(i).concat(r[1])}(null!==(o=null===(a=n.modulePay.payInfo)||void 0===a||null===(r=a.indexPopupConfig)||void 0===r?void 0:r.message)&&void 0!==o?o:"",{h:l,m:u,s:c})},canLeave:function(t,e,n){var o=n.moduleCountdown;return function(t,e,n){return 0!==parseInt(t)||0!==parseInt(e)||0!==parseInt(n)}(o.h,o.m,o.s)}}},moduleBaitiao:se,moduleBaifenqi:Ce,moduleVoucher:be,moduleCountdown:Ie,moduleCreditCard:Oe,moduleSurpriseGolds:Le,moduleSubtitleTip:xe,moduleShopPrice:_e,moduleCardPay:De,moduleVoucherList:Me,modulePayButtom:We,moduleWxTip:Ze,moduleRate:Ge,moduleCardpopup:{namespaced:!0,state:function(){return{}},mutations:{},actions:{},getters:{transferAllCardData:function(t,e,n){var o,a;return(a=null===(o=n.modulePay.payInfo)||void 0===o?void 0:o.jdOtherPayChannelList)&&a.length&&a.map((function(t){return He(He({},t),{},{name:t.channelName})}))},transferAllCreditCardData:function(t,e,n){return(o=n.moduleCreditCard.allCreditCardList)&&o.length&&o.map((function(t){return He(He({},t),{},{canUse:t.cardCanUse,name:t.bankName})}));var o}}},moduleDialog:Ye,moduleNutPopup:Xe,moduleLoading:{namespaced:!0,state:function(){return{}},mutations:{changeLoadingStatus:function(t,e){e?window.showLoading():window.hiddenLoading()}},actions:{},getters:{}}};a().use(f());var ze=new(f().Store)({state:{},modules:Ke,plugins:[],strict:!1}),tn=n(7470);n.n(tn)().install(a()),Qt().install(a()),a().config.productionTip=!1,console.log("process.env",{NODE_ENV:"production",PAY_M_SHOWCONSOLE:"false"}),a().config.errorHandler=function(t,e,n){var o,a;window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.others,750,"框架捕获异常: ".concat(t),{err:null!==(o=null==t?void 0:t.message)&&void 0!==o?o:"",stack:null!==(a=null==t?void 0:t.stack)&&void 0!==a?a:"",info:n,time:new Date,errorId:window.errorId})},new(a())({store:ze,render:function(t){return t(Vt)}}).$mount("#app")},8457:function(t,e,n){"use strict";var o=n(9974),a=n(6916),r=n(7908),i=n(3411),l=n(7659),u=n(4411),c=n(6244),s=n(6135),d=n(4121),f=n(1246),p=Array;t.exports=function(t){var e=r(t),n=u(this),h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v;m&&(v=o(v,h>2?arguments[2]:void 0));var y,g,C,b,I,w,P=f(e),S=0;if(!P||this===p&&l(P))for(y=c(e),g=n?new this(y):p(y);y>S;S++)w=m?v(e[S],S):e[S],s(g,S,w);else for(I=(b=d(e,P)).next,g=n?new this:[];!(C=a(I,b)).done;S++)w=m?i(b,v,[C.value,S],!0):C.value,s(g,S,w);return g.length=S,g}},3658:function(t,e,n){"use strict";var o=n(9781),a=n(3157),r=TypeError,i=Object.getOwnPropertyDescriptor,l=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=l?function(t,e){if(a(t)&&!i(t,"length").writable)throw r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},3411:function(t,e,n){var o=n(9670),a=n(9212);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){a(t,"throw",e)}}},4964:function(t,e,n){var o=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(t){}}return!1}},5117:function(t,e,n){"use strict";var o=n(6330),a=TypeError;t.exports=function(t,e){if(!delete t[e])throw a("Cannot delete property "+o(e)+" of "+o(t))}},7850:function(t,e,n){var o=n(111),a=n(4326),r=n(5112)("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},3929:function(t,e,n){var o=n(7850),a=TypeError;t.exports=function(t){if(o(t))throw a("The method doesn't accept regular expressions");return t}},1574:function(t,e,n){"use strict";var o=n(9781),a=n(1702),r=n(6916),i=n(7293),l=n(1956),u=n(5181),c=n(5296),s=n(7908),d=n(8361),f=Object.assign,p=Object.defineProperty,h=a([].concat);t.exports=!f||i((function(){if(o&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||l(f({},e)).join("")!=a}))?function(t,e){for(var n=s(t),a=arguments.length,i=1,f=u.f,p=c.f;a>i;)for(var v,m=d(arguments[i++]),y=f?h(l(m),f(m)):l(m),g=y.length,C=0;g>C;)v=y[C++],o&&!r(p,m,v)||(n[v]=m[v]);return n}:f},2626:function(t,e,n){var o=n(3070).f;t.exports=function(t,e,n){n in t||o(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},8415:function(t,e,n){"use strict";var o=n(9303),a=n(1340),r=n(4488),i=RangeError;t.exports=function(t){var e=a(r(this)),n="",l=o(t);if(l<0||l==1/0)throw i("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(e+=e))1&l&&(n+=e);return n}},6091:function(t,e,n){var o=n(6530).PROPER,a=n(7293),r=n(1361);t.exports=function(t){return a((function(){return!!r[t]()||"​᠎"!=="​᠎"[t]()||o&&r[t].name!==t}))}},4553:function(t,e,n){"use strict";var o=n(2109),a=n(2092).findIndex,r=n(1223),i="findIndex",l=!0;i in[]&&Array(1)[i]((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r(i)},9826:function(t,e,n){"use strict";var o=n(2109),a=n(2092).find,r=n(1223),i="find",l=!0;i in[]&&Array(1)[i]((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r(i)},1038:function(t,e,n){var o=n(2109),a=n(8457);o({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:a})},6699:function(t,e,n){"use strict";var o=n(2109),a=n(1318).includes,r=n(7293),i=n(1223);o({target:"Array",proto:!0,forced:r((function(){return!Array(1).includes()}))},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},561:function(t,e,n){"use strict";var o=n(2109),a=n(7908),r=n(1400),i=n(9303),l=n(6244),u=n(3658),c=n(7207),s=n(5417),d=n(6135),f=n(5117),p=n(1194)("splice"),h=Math.max,v=Math.min;o({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var n,o,p,m,y,g,C=a(this),b=l(C),I=r(t,b),w=arguments.length;for(0===w?n=o=0:1===w?(n=0,o=b-I):(n=w-2,o=v(h(i(e),0),b-I)),c(b+n-o),p=s(C,o),m=0;m<o;m++)(y=I+m)in C&&d(p,m,C[y]);if(p.length=o,n<o){for(m=I;m<b-o;m++)g=m+n,(y=m+o)in C?C[g]=C[y]:f(C,g);for(m=b;m>b-o+n;m--)f(C,m-1)}else if(n>o)for(m=b-o;m>I;m--)g=m+n-1,(y=m+o-1)in C?C[g]=C[y]:f(C,g);for(m=0;m<n;m++)C[m+I]=arguments[m+2];return u(C,b-o+n),p}})},6977:function(t,e,n){"use strict";var o=n(2109),a=n(1702),r=n(9303),i=n(863),l=n(8415),u=n(7293),c=RangeError,s=String,d=Math.floor,f=a(l),p=a("".slice),h=a(1..toFixed),v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},m=function(t,e,n){for(var o=-1,a=n;++o<6;)a+=e*t[o],t[o]=a%1e7,a=d(a/1e7)},y=function(t,e){for(var n=6,o=0;--n>=0;)o+=t[n],t[n]=d(o/e),o=o%e*1e7},g=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var o=s(t[e]);n=""===n?o:n+f("0",7-o.length)+o}return n};o({target:"Number",proto:!0,forced:u((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!u((function(){h({})}))},{toFixed:function(t){var e,n,o,a,l=i(this),u=r(t),d=[0,0,0,0,0,0],h="",C="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return s(l);if(l<0&&(h="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*v(2,69,1))-69)<0?l*v(2,-e,1):l/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(d,0,n),o=u;o>=7;)m(d,1e7,0),o-=7;for(m(d,v(10,o,1),0),o=e-1;o>=23;)y(d,1<<23),o-=23;y(d,1<<o),m(d,1,1),y(d,2),C=g(d)}else m(d,0,n),m(d,1<<-e,0),C=g(d)+f("0",u);return C=u>0?h+((a=C.length)<=u?"0."+f("0",u-a)+C:p(C,0,a-u)+"."+p(C,a-u)):h+C}})},9601:function(t,e,n){var o=n(2109),a=n(1574);o({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},4603:function(t,e,n){var o=n(9781),a=n(7854),r=n(1702),i=n(4705),l=n(9587),u=n(8880),c=n(8006).f,s=n(7976),d=n(7850),f=n(1340),p=n(4706),h=n(2999),v=n(2626),m=n(8052),y=n(7293),g=n(2597),C=n(9909).enforce,b=n(6340),I=n(5112),w=n(9441),P=n(7168),S=I("match"),O=a.RegExp,L=O.prototype,x=a.SyntaxError,_=r(L.exec),j=r("".charAt),E=r("".replace),T=r("".indexOf),D=r("".slice),k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,B=/a/g,N=/a/g,F=new O(B)!==B,A=h.MISSED_STICKY,M=h.UNSUPPORTED_Y,U=o&&(!F||A||w||P||y((function(){return N[S]=!1,O(B)!=B||O(N)==N||"/a/i"!=O(B,"i")})));if(i("RegExp",U)){for(var $=function(t,e){var n,o,a,r,i,c,h=s(L,this),v=d(t),m=void 0===e,y=[],b=t;if(!h&&v&&m&&t.constructor===$)return t;if((v||s(L,t))&&(t=t.source,m&&(e=p(b))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),b=t,w&&"dotAll"in B&&(o=!!e&&T(e,"s")>-1)&&(e=E(e,/s/g,"")),n=e,A&&"sticky"in B&&(a=!!e&&T(e,"y")>-1)&&M&&(e=E(e,/y/g,"")),P&&(r=function(t){for(var e,n=t.length,o=0,a="",r=[],i={},l=!1,u=!1,c=0,s="";o<=n;o++){if("\\"===(e=j(t,o)))e+=j(t,++o);else if("]"===e)l=!1;else if(!l)switch(!0){case"["===e:l=!0;break;case"("===e:_(k,D(t,o+1))&&(o+=2,u=!0),a+=e,c++;continue;case">"===e&&u:if(""===s||g(i,s))throw new x("Invalid capture group name");i[s]=!0,r[r.length]=[s,c],u=!1,s="";continue}u?s+=e:a+=e}return[a,r]}(t),t=r[0],y=r[1]),i=l(O(t,e),h?this:L,$),(o||a||y.length)&&(c=C(i),o&&(c.dotAll=!0,c.raw=$(function(t){for(var e,n=t.length,o=0,a="",r=!1;o<=n;o++)"\\"!==(e=j(t,o))?r||"."!==e?("["===e?r=!0:"]"===e&&(r=!1),a+=e):a+="[\\s\\S]":a+=e+j(t,++o);return a}(t),n)),a&&(c.sticky=!0),y.length&&(c.groups=y)),t!==b)try{u(i,"source",""===b?"(?:)":b)}catch(t){}return i},q=c(O),R=0;q.length>R;)v($,O,q[R++]);L.constructor=$,$.prototype=L,m(a,"RegExp",$,{constructor:!0})}b("RegExp")},8386:function(t,e,n){var o=n(9781),a=n(2999).MISSED_STICKY,r=n(4326),i=n(7045),l=n(9909).get,u=RegExp.prototype,c=TypeError;o&&a&&i(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===r(this))return!!l(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},3123:function(t,e,n){"use strict";var o=n(2104),a=n(6916),r=n(1702),i=n(7007),l=n(9670),u=n(8554),c=n(7850),s=n(4488),d=n(6707),f=n(1530),p=n(7466),h=n(1340),v=n(8173),m=n(1589),y=n(7651),g=n(2261),C=n(2999),b=n(7293),I=C.UNSUPPORTED_Y,w=4294967295,P=Math.min,S=[].push,O=r(/./.exec),L=r(S),x=r("".slice),_=!b((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));i("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=h(s(this)),i=void 0===n?w:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!c(t))return a(e,r,t,i);for(var l,u,d,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,y=new RegExp(t.source,p+"g");(l=a(g,y,r))&&!((u=y.lastIndex)>v&&(L(f,x(r,v,l.index)),l.length>1&&l.index<r.length&&o(S,f,m(l,1)),d=l[0].length,v=u,f.length>=i));)y.lastIndex===l.index&&y.lastIndex++;return v===r.length?!d&&O(y,"")||L(f,""):L(f,x(r,v)),f.length>i?m(f,0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:a(e,this,t,n)}:e,[function(e,n){var o=s(this),i=u(e)?void 0:v(e,t);return i?a(i,e,o,n):a(r,h(o),e,n)},function(t,o){var a=l(this),i=h(t),u=n(r,a,i,o,r!==e);if(u.done)return u.value;var c=d(a,RegExp),s=a.unicode,v=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(I?"g":"y"),m=new c(I?"^(?:"+a.source+")":a,v),g=void 0===o?w:o>>>0;if(0===g)return[];if(0===i.length)return null===y(m,i)?[i]:[];for(var C=0,b=0,S=[];b<i.length;){m.lastIndex=I?0:b;var O,_=y(m,I?x(i,b):i);if(null===_||(O=P(p(m.lastIndex+(I?b:0)),i.length))===C)b=f(i,b,s);else{if(L(S,x(i,C,b)),S.length===g)return S;for(var j=1;j<=_.length-1;j++)if(L(S,_[j]),S.length===g)return S;b=C=O}}return L(S,x(i,C)),S}]}),!_,I)},6755:function(t,e,n){"use strict";var o,a=n(2109),r=n(1470),i=n(1236).f,l=n(7466),u=n(1340),c=n(3929),s=n(4488),d=n(4964),f=n(1913),p=r("".startsWith),h=r("".slice),v=Math.min,m=d("startsWith");a({target:"String",proto:!0,forced:!!(f||m||(o=i(String.prototype,"startsWith"),!o||o.writable))&&!m},{startsWith:function(t){var e=u(s(this));c(t);var n=l(v(arguments.length>1?arguments[1]:void 0,e.length)),o=u(t);return p?p(e,o,n):h(e,n,n+o.length)===o}})},3210:function(t,e,n){"use strict";var o=n(2109),a=n(3111).trim;o({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return a(this)}})},7347:function(t){t.exports=function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,n){var o=n(4)(n(1),n(5),null,null);t.exports=o.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,n,o){return n*(1-Math.pow(2,-10*t/o))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,o.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,o.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,o.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,o.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,o.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals);var e=(t+="").split("."),n=e[0],o=e.length>1?this.decimal+e[1]:"",a=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;a.test(n);)n=n.replace(a,"$1"+this.separator+"$2");return this.prefix+n+o+this.suffix}},destroyed:function(){(0,o.cancelAnimationFrame)(this.rAF)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(0));e.default=o.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=0,a="webkit moz ms o".split(" "),r=void 0,i=void 0;if("undefined"==typeof window)e.requestAnimationFrame=r=function(){},e.cancelAnimationFrame=i=function(){};else{e.requestAnimationFrame=r=window.requestAnimationFrame,e.cancelAnimationFrame=i=window.cancelAnimationFrame;for(var l=void 0,u=0;u<a.length&&(!r||!i);u++)l=a[u],e.requestAnimationFrame=r=r||window[l+"RequestAnimationFrame"],e.cancelAnimationFrame=i=i||window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"];r&&i||(e.requestAnimationFrame=r=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-o)),a=window.setTimeout((function(){t(e+n)}),n);return o=e+n,a},e.cancelAnimationFrame=i=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=r,e.cancelAnimationFrame=i},function(t,e){t.exports=function(t,e,n,o){var a,r=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(a=t,r=t.default);var l="function"==typeof r?r.options:r;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),n&&(l._scopeId=n),o){var u=Object.create(l.computed||null);Object.keys(o).forEach((function(t){var e=o[t];u[t]=function(){return e}})),l.computed=u}return{esModule:a,exports:r,options:l}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])},2005:function(t){"use strict";t.exports=Vue},7957:function(t){"use strict";t.exports=Vuex}},function(t){"use strict";t.O(0,[736,592],(function(){return e=3192,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=mpay.42e1baebb1458aa8c40c.js.map