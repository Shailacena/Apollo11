(self.webpackChunkpay_m=self.webpackChunkpay_m||[]).push([[592],{3565:function(e,n,t){"use strict";t.d(n,{OV:function(){return v},l$:function(){return T},d3:function(){return S},WD:function(){return _},KW:function(){return k},J_:function(){return C},oN:function(){return x},V1:function(){return D},pH:function(){return G},hS:function(){return J},Kq:function(){return W},ME:function(){return R}});t(2772),t(1539),t(9714),t(8862),t(4916),t(5306),t(2222),t(8674),t(6649),t(6078),t(2526),t(1817),t(9653),t(9070),t(7941),t(7327),t(5003),t(4747),t(9337),t(3321),t(2165),t(6992),t(8783),t(3948),t(2443),t(3680),t(3706),t(2703),t(489),t(8309),t(8304),t(7042);var r=t(2965),o=t(6176),i=t(3858),a=t(2153),u=t.n(a),c=t(9636),s=t.n(c);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{c({},"")}catch(e){c=function(e,n,t){return e[n]=t}}function s(e,n,t,o){var i=n&&n.prototype instanceof p?n:p,a=Object.create(i.prototype),u=new T(o||[]);return r(a,"_invoke",{value:I(e,t,u)}),a}function f(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var w={};function p(){}function m(){}function h(){}var v={};c(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&t.call(y,i)&&(v=y);var b=h.prototype=p.prototype=Object.create(v);function j(e){["next","throw","return"].forEach((function(n){c(e,n,(function(e){return this._invoke(n,e)}))}))}function E(e,n){function o(r,i,a,u){var c=f(e[r],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==d(l)&&t.call(l,"__await")?n.resolve(l.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):n.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){o(e,t,n,r)}))}return i=i?i.then(r,r):r()}})}function I(e,n,t){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(t.method=o,t.arg=i;;){var a=t.delegate;if(a){var u=P(a,t);if(u){if(u===w)continue;return u}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var c=f(e,n,t);if("normal"===c.type){if(r=t.done?"completed":"suspendedYield",c.arg===w)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(r="completed",t.method="throw",t.arg=c.arg)}}}function P(e,n){var t=n.method,r=e.iterator[t];if(void 0===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=void 0,P(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,w;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,w):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function O(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function N(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=c(h,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},j(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(n,t,r,o,i){void 0===i&&(i=Promise);var a=new E(s(n,t,r,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=t.call(i,"catchLoc"),c=t.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),w},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),N(t),w}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var o=r.arg;N(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:S(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),w}},e}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===d(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}var h="//api.m.jd.com",v=function(e){},g=window.location.href,y=window.location.host,b=(0,o.DP)(g),j=b.env,E=b.tId,I=b.loginScene;if(y.indexOf("beta-mpay.m.jd.com")>-1)switch(j){case"beta":h="//beta-api.m.jd.com";break;case"beta2":h="//beta-api2.m.jd.com";break;case"beta3":h="//beta-api3.m.jd.com";break;case"beta4":h="//beta-api4.m.jd.com";break;default:h="//api.m.jd.com"}var P=null,O={source:"mcashier",origin:"h5",mcashierTraceId:window.errorId||""},N=function(){var e,n=(e=l().mark((function e(n,t,a){var c,d,f,p,m,v,g,y,b,j,N,T,S;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(0,o.DP)(n),d=c.functionId,f=c.appid,p=E?"&scval=".concat(E):"",m=(0,o.Do)("wq_auth_token"),v=(0,o.Do)("pt_pin"),g=(0,o.Do)("pt_key"),y=(0,o.Do)("wq_skey"),b=(0,o.Do)("wq_uin"),j=w(w({},t),O),!(0,o.Xe)()||v&&g||!m||(j=w({loginType:"1",loginWQBiz:"mcashier"},j)),(0,o.GP)()&&I&&"13"===I&&(j=w({loginType:"13",loginWQBiz:"mcashier_qq"},j),f="mcashier_qq"),I&&"11"===I&&y&&b&&(j=w({loginType:"11",loginWQBiz:"mcashier"},j)),N={functionId:d,appid:f,body:u()(JSON.stringify(j)).toString()||""},null==P&&(P=new i.Z({appId:"303a7",debug:!1,preRequest:!0})),P&&P.sign&&"function"==typeof P.sign){e.next=17;break}return window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.code,750,"接口加固PSing为空",{url:n,params:t,time:new Date,errorId:window.errorId}),s().text("网络异常，请稍后再试"),e.abrupt("return");case 17:return e.next=19,P.sign(N);case 19:return T=e.sent,S={body:JSON.stringify(j),"x-api-eid-token":window.jsToken,h5st:encodeURI(T.h5st)},!(0,o.Xe)()||v&&g||!m||(S=w({loginType:"1",loginWQBiz:"mcashier"},S)),(0,o.GP)()&&I&&"13"===I&&(S=w({loginType:"13",loginWQBiz:"mcashier_qq"},S),n=n&&n.replace("&appid=mcashier","&appid=mcashier_qq")),I&&"11"===I&&y&&b&&(S=w({loginType:"11",loginWQBiz:"mcashier"},S)),e.next=26,(0,r.v_)("".concat(h).concat(n).concat(p),S,w({page:"pay"},a));case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){m(i,r,o,a,u,"next",e)}function u(e){m(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}(),T=function(e){return N("/client.action?functionId=platPayChannel&appid=mcashier",e)},S=function(e,n){return N("/client.action?functionId=platBaiTiaoCalculateRate&appid=mcashier",e,n)},_=function(e){return N("/client.action?functionId=platCreditCardCalculateRate&appid=mcashier",e)},k=function(e){return N("/client.action?functionId=platBankCardCouponInfo&appid=mcashier",e)},C=function(e){return N("/client.action?functionId=platJDPayAcc&appid=mcashier",e)},x=function(e){return N("/client.action?functionId=platWapWXPay&appid=mcashier",e)},D=function(e){return N("/client.action?functionId=platWXGzhPay&appid=mcashier",e)},G=function(e){return N("/client.action?functionId=platWXMiniPay&appid=mcashier",e)},J=function(e,n){return N("/client.action?functionId=platUnionPay&appid=mcashier",e,n)},W=function(e){return N("/client.action?functionId=platPayResult&appid=mcashier",e)},R=function(e){return N("/client.action?functionId=platBaitiaoCouponInfo&appid=mcashier",e)}},8824:function(e,n,t){"use strict";t(8862),t(6649),t(6078),t(2526),t(1817),t(1539),t(9653),t(9070),t(7941),t(7327),t(5003),t(4747),t(9337),t(3321),t(2165),t(6992),t(8783),t(3948);var r=t(6176);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==o(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===o(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=t(1875),s=(0,r.DP)(window.location.href).appId,d=void 0===s?"":s,l={log:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.url&&(t.url=encodeURIComponent(t.url));var r={appId:"mcashier",source:"new-cashier",events:[{type:"event",eventTime:(new Date).getTime(),pageId:"NewCashier_Home",eventId:e,data:JSON.stringify(n),ext:JSON.stringify(a({businessId:d,referer:document&&document.referrer,ua:navigator&&navigator.userAgent},t))}]};c({method:"post",withCredentials:!0,body:"body=".concat(JSON.stringify(r)),uri:"//api.m.jd.com/api?functionId=platEventCollect&appid=mcashier",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Encoding":"gzip"}},(function(){}))}};n.Z=l},2965:function(e,n,t){"use strict";t.d(n,{U2:function(){return p},v_:function(){return m}});t(1539),t(8674),t(6649),t(6078),t(2526),t(1817),t(9653),t(9070),t(7941),t(7327),t(5003),t(4747),t(9337),t(3321),t(2165),t(6992),t(8783),t(3948);var r=t(9669),o=t.n(r),i=t(129),a=t.n(i),u=(t(2772),t(9636)),c=t.n(u),s=t(8824),d=function(e){var n,t,r,o,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:{},d=null!==(t=null==u?void 0:u.errorCode)&&void 0!==t?t:"",l=null!==(r=null==u?void 0:u.errorMsg)&&void 0!==r?r:"",f=(null!==(o=null==e?void 0:e.config)&&void 0!==o?o:"").url,w=void 0===f?"":f;switch(delete e.request,d){case"-1":a&&window.noNetWorkShow(),i&&c().text(l||"暂时无法获取支付信息，请重试或选择其他支付方式"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,l||"服务器内部错误",{response:e,time:new Date,errorId:window.errorId});break;case"-100":a&&window.noNetWorkShow(),i&&c().text(l),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,l||"订单已取消",{response:e,time:new Date,errorId:window.errorId});break;case"-101":a&&window.noNetWorkShow(),i&&c().text(l),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,l||"该订单已支付成功或取消",{response:e,time:new Date,errorId:window.errorId});break;case"-2":a&&window.noNetWorkShow(),i&&c().text(l||"暂时无法获取支付信息，请重试或选择其他支付方式"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,l||"订单状态异常或当前订单类型不支持支付",{response:e,time:new Date,errorId:window.errorId});break;case"-3":a&&window.noNetWorkShow(),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"风控异常",{response:e,time:new Date,errorId:window.errorId});break;case"-4":a&&window.noNetWorkShow(),i&&c().text(l),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"当前请求用户pin（cookie） 与 payId缓存pin 校验不一致",{response:e,time:new Date,errorId:window.errorId});break;case"-5":a&&window.noNetWorkShow(),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"当前用户pin与订单pin不一致",{response:e,time:new Date,errorId:window.errorId});break;case"1":a&&window.noNetWorkShow(),i&&c().text(l),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,l||"参数错误",{response:e,time:new Date,errorId:window.errorId});break;case"2":a&&window.noNetWorkShow(),i&&c().text(l),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,l||"请求链接的functionId不存在",{response:e,time:new Date,errorId:window.errorId});break;case"3":a&&window.noNetWorkShow(),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"未登陆错误",{response:e,time:new Date,errorId:window.errorId});break;case"1312":window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"白条优惠券失效",{response:e,time:new Date,errorId:window.errorId});break;default:window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"业务不可用其他异常",{response:e,time:new Date,errorId:window.errorId})}s.Z&&s.Z.log("interface-complete",u,{url:w,mcashierTraceId:window.errorId||"",errorCode:d,errorMsg:l})};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==l(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===l(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){o().get(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){w(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({params:n},t)).then((function(e){r(e.data)})).catch((function(e){i(e)}))}))}function m(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o().defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",new Promise((function(r,i){o().post(e,a().stringify(n),t).then((function(e){r(e.data)})).catch((function(e){i(e)}))}))}o().defaults.timeout=3e3,o().defaults.withCredentials=!0,o().defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",o().interceptors.request.use((function(e){return e}),(function(e){return Promise.error(e)})),o().interceptors.response.use((function(e){var n,t;if(200===e.status)switch(null!==(n=null==e||null===(t=e.config)||void 0===t?void 0:t.page)&&void 0!==n?n:""){case"pay":return function(e){var n,t,r,o,i,a,u,c,l=(null!==(n=null==e?void 0:e.config)&&void 0!==n?n:"").url,f=void 0===l?"":l,w=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{},p=null!==(r=null==w?void 0:w.errorCode)&&void 0!==r?r:"",m=null!==(o=null==w?void 0:w.errorMsg)&&void 0!==o?o:"";return"0"===e.data.code?p||m?null!==(i=null==e||null===(a=e.config)||void 0===a?void 0:a.notHandleError)&&void 0!==i&&i?(d(e,!1,!1),Promise.reject(e)):(d(e),Promise.reject(e)):(s.Z&&s.Z.log("interface-success",{},{url:f,mcashierTraceId:window.errorId||""}),Promise.resolve(e)):((null!==(u=null==e||null===(c=e.config)||void 0===c?void 0:c.notHandleError)&&void 0!==u?u:"")||(window.noNetWorkShow(),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.net,2,"网关接口异常",{response:e,time:new Date,errorId:window.errorId}),s.Z&&s.Z.log("interface-fail",w,{url:f,mcashierTraceId:window.errorId||""})),Promise.reject(e))}(e);case"otherPay":return function(e){var n,t=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:{};if("0"===e.data.code){var r,o,i=null!==(r=null==t?void 0:t.errorCode)&&void 0!==r?r:"",a=null!==(o=null==t?void 0:t.errorMsg)&&void 0!==o?o:"";if(i||a){switch(i){case"-1":window.noNetWorkShow(a||"暂时无法获取支付信息，请重试或选择其他支付方式(-1)"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"服务器内部错误",{data:t,time:new Date,errorId:window.errorId});break;case"-2":window.noNetWorkShow(a||"暂时无法获取支付信息，请重试或选择其他支付方式(-2)"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"订单状态异常或当前订单类型不支持支付",{data:t,time:new Date,errorId:window.errorId});break;case"-3":window.noNetWorkShow("风控异常(-3)"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"风控异常",{data:t,time:new Date,errorId:window.errorId});break;case"-4":window.noNetWorkShow(a||"当前请求用户pin（cookie） 与 payId缓存pin 校验不一致(-4)"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"当前请求用户pin（cookie） 与 payId缓存pin 校验不一致",{data:t,time:new Date,errorId:window.errorId});break;case"-5":window.noNetWorkShow("当前用户与下单用户不一致"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"当前用户pin与订单pin不一致",{data:t,time:new Date,errorId:window.errorId});break;case"1":window.noNetWorkShow(a||"参数错误"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"参数错误",{data:t,time:new Date,errorId:window.errorId});break;case"2":window.noNetWorkShow(a||"请求链接的functionId不存在"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"请求链接的functionId不存在",{data:t,time:new Date,errorId:window.errorId});break;case"3":case"5":return Promise.resolve(e);default:window.noNetWorkShow("支付不可用其他异常"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.business,250,"支付不可用其他异常",{data:t,time:new Date,errorId:window.errorId})}return Promise.reject(e)}return Promise.resolve(e)}return window.noNetWorkShow("网关接口异常"),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.net,2,"网关接口异常",{data:t,time:new Date,errorId:window.errorId}),Promise.reject(e)}(e);default:return window.noNetWorkShow(),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.net,2,"接口page入参不对",{response:e,time:new Date,errorId:window.errorId}),Promise.reject(e)}}),(function(e){var n,t;switch(null!==(n=null==e||null===(t=e.config)||void 0===t?void 0:t.page)&&void 0!==n?n:""){case"pay":return function(e){var n,t,r,o,i,a,u,d,l="接口404类型异常: ".concat(e),f=(null!==(n=null==e?void 0:e.config)&&void 0!==n?n:"").url,w=void 0===f?"":f,p=null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"";return s.Z&&s.Z.log("interface-fail",{},{url:w,mcashierTraceId:window.errorId||"",message:p}),p.indexOf("Network Error")>-1?((null!==(r=null==e||null===(o=e.config)||void 0===o?void 0:o.url)&&void 0!==r?r:"").indexOf("platPayChannel")>-1&&window.noNetWorkShow(),c().text("网络异常，稍后再试"),Promise.reject(p)):p.indexOf("timeout")>-1?((null!==(i=null==e||null===(a=e.config)||void 0===a?void 0:a.url)&&void 0!==i?i:"").indexOf("platPayChannel")>-1&&window.noNetWorkShow(),c().text("超时啦，刷新试试吧"),Promise.reject(p)):p.indexOf("Request aborted")>-1?((null!==(u=null==e||null===(d=e.config)||void 0===d?void 0:d.url)&&void 0!==u?u:"").indexOf("platPayChannel")>-1&&window.noNetWorkShow(),c().text("网络异常，稍后再试"),Promise.reject(p)):(l&&window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.net,2,l,{data:e,time:new Date,errorId:window.errorId}),Promise.reject(e.response))}(e);case"otherPay":return function(e){var n,t="接口404类型异常: ".concat(e),r=null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"";return r.indexOf("Network Error")>-1?(window.noNetWorkShow("网络异常，稍后再试"),Promise.reject(r)):r.indexOf("timeout")>-1?(window.noNetWorkShow("超时啦，刷新试试吧"),Promise.reject(r)):r.indexOf("Request aborted")>-1?(window.noNetWorkShow("网络异常，稍后再试"),Promise.reject(r)):(t&&window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.net,2,t,{data:e,time:new Date,errorId:window.errorId}),Promise.reject(e.response))}(e);default:return window.noNetWorkShow(),window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.net,2,"接口page入参不对",{response:e,time:new Date,errorId:window.errorId}),Promise.reject(e)}}))},1259:function(e,n,t){"use strict";t(2772),t(8862);var r=function(){var e=window.location.href,n={},t=e.indexOf("?");if(t>=0){var r=e.substring(t+1).split("&");if(!r&&r.indexOf("=")>0)n[(i=r[o].split("="))[0]]=i[1];if(r&&r.length>0)for(var o=r.length-1;o>=0;o--){var i;n[(i=r[o].split("="))[0]]=i[1]}}return n},o={sendPv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{var n=new MPing.inputs.PV({page_id:"Cashier_Home"})||{};n.page_param=JSON.stringify(e);var t=r()||{};n.json_param=JSON.stringify({appid:t.appId});var o=new MPing;o&&o.send&&o.send(n)}catch(e){window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.others,750,"埋点sendpv上报异常",{data:e,exception:JSON.stringify(e),time:new Date,errorId:window.errorId})}},eventClick:function(e,n,t,o,i,a){try{var u=new MPing.inputs.Click(e)||{};if(n){var c=n.indexOf("?");u.page_name=-1!=c?n.substr(0,c):n}null!=t&&null!=t&&(u.event_param=t+""),null!=o&&""!=o&&null!=o&&(u.event_level=o+""),null!=i&&null!=i&&(u.page_param=i+""),null!=a&&null!=a&&(u.changetag=a+"");var s=r()||{};u.json_param=JSON.stringify({appid:s.appId}),u.updateEventSeries&&u.updateEventSeries();var d=new MPing;d&&d.send&&d.send(u)}catch(n){window.jmfe.jsagentReport(window.jmfe.JSAGENT_EXCEPTION_TYPE.others,750,"埋点click上报异常",{data:{e:n,event_id:e},time:new Date,errorId:window.errorId})}}};n.Z=o},6176:function(e,n,t){"use strict";t.d(n,{DP:function(){return r},T4:function(){return o},FO:function(){return i},Xe:function(){return a},GP:function(){return u},Do:function(){return c},SH:function(){return s}});t(2772),t(7042),t(1539),t(4747),t(4048),t(9653),t(4678),t(4916),t(4723),t(7601),t(129);var r=function(e){var n=e.indexOf("?");if(-1===n)return{};var t=e.slice(n+1).split("&"),r={};return null==t||t.forEach((function(e){var n=e.split("=")[0],t=e.split("=")[1];r[n]=t})),r},o=function(e){"string"!=typeof e&&(e+="");var n="",t="",r="",o=e.indexOf(".");return Number.isNaN(parseFloat(e.substring(0,1)))?(n=e.substring(0,1),-1===o?t=e.substring(1):(t=e.substring(1,o),r=e.substring(o+1))):-1===o?t=e.substring(0):(t=e.substring(0,o),r=e.substring(o+1)),{moneyFlag:n,interNum:t,floatNum:r}},i=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},a=function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("micromessenger")||-1!==e.indexOf("qq/")},u=function(){var e=navigator.userAgent.toLowerCase();return!!/qq\/([\d\.]+)*/i.test(e)},c=function(e){for(var n=document.cookie.split("; "),t=0;t<n.length;t++){var r=n[t].split("=");if(r[0]===e)return r[1]}return""},s=function(e,n){return!(!e.uniqueChannelId&&n.uniqueChannelId||e.uniqueChannelId&&!n.uniqueChannelId||e.uniqueChannelId&&n.uniqueChannelId&&e.uniqueChannelId!==n.uniqueChannelId)&&(!(!e.code&&n.code||e.code&&!n.code||e.code&&n.code&&e.code!==n.code)&&!(!e.channelId&&n.channelId||e.channelId&&!n.channelId||e.channelId&&n.channelId&&e.channelId!==n.channelId))}},2480:function(){},4654:function(){}}]);
//# sourceMappingURL=common.e22289f0e18c35f8533b.js.map