window.onerror=function(e,t,r,o,n){var i,a=window;if(o=o||a.event&&a.event.errorCharacter||0,n&&n.stack){var c=n.stack.toString();-1===c.indexOf(e)&&(c="msg:"+e+" stack:"+c),e=c.replace(/\n/g,"")}else if(arguments.callee){for(var s=[e],d=arguments.callee.caller,m=3;d&&0<--m&&(s.push(d.toString()),d!==d.caller);)d=d.caller;e=s=s.join(",")}i=JSON.stringify(e)+(t?";URL:"+t:"")+(r?";Line:"+r:"")+(o?";Column:"+o:""),console.log("ERROR:"+i);function p(e){if(a._last_err_msg){if(-1<a._last_err_msg.indexOf(e))return 1;a._last_err_msg+="|"+e}else a._last_err_msg=e}if(!p(e)){function l(e){return e.replace(/^(https?:)?(\/\/)*/,"").split("?")[0]}function u(t){setTimeout(function(){var e={Content:encodeURIComponent(t),t:Math.random(),callback:"webmonitorbadjscb"};window.traceid&&(e.traceid=window.traceid),JD&&JD._webmonitorReport("pingou_webmonitor_badjs",e);try{jmfe&&jmfe.jsagentReportException(new Error(t+(window.traceid?"--traceid="+window.traceid:"")))}catch(e){}},1e3)}if(function(e){var t=window.GLOBAL_WXSQ_HEADERCONFIG.BADJSFILTERRULE||[];try{for(var r=0,o=t.length;r<o;r++){var n=t[r];if(Math.floor(100*Math.random())<n.ratio){var i=new RegExp(n.regex),a="ua"==n.type?window.navigator.userAgent:e;if(i.test(a))return!1}}}catch(e){console.error("badjs过滤转换正则异常",e)}return!0}(i))try{var g=0<=i.indexOf("servererror:")?{ignore:!1,content:i}:function(e){if(window.GLOBAL_ONERROR_CUSTOM&&window.GLOBAL_ONERROR_CUSTOM.rules&&0<window.GLOBAL_ONERROR_CUSTOM.rules.length)for(var t=window.GLOBAL_ONERROR_CUSTOM.rules,r=!1,o=0;o<t.length;o++){var n=t[o],i=n.rule;n.reportType=n.reportType||"custom";var a=window.navigator.userAgent,c="ua"==t[o].target?a:e;if(i&&("function"==typeof i?r=i(e,a):"string"==typeof i?r=-1<c.indexOf(i):"[object RegExp]"===Object.prototype.toString.call(i)&&(r=i.test(c)),r)){var s={ignore:"ignore"==n.reportType,content:e};return s.ignore||(n.format&&"function"==typeof n.format&&(s.content=n.format(e,a)),"badjs"!=n.reportType&&(s.content="custom: "+s.content)),s}}return{ingore:!1,content:e}}(i);if(!g.ignore&&(u(g.content),window._BADJSCHECKRPT))try{setTimeout(function(){JD&&JD.report.umpBiz({bizid:55,operation:_BADJSCHECKRPT.operation,result:"1",source:"0",message:""})},1e3)}catch(e){console.log("onerror:badjs handler-umpBiz throw exception")}}catch(e){p(e.message)||u("config error:"+e.message),console.log("onerror:badjs handler throw exception")}if(0<=i.indexOf("servererror:"))try{var f={cgi:"",path:"",code:"jsonp",msg:"jsonp请求异常",network:""};f.cgi=l(n.stack.replace("servererror:","")),f.path=l(window.location.href).replace(/(\/product\/)+[0-9]*(.html)+/,"/product/sku.html"),f.network=JD?JD.cookie.get("network"):null,setTimeout(function(){f.cgi&&f.path&&JD&&JD._webmonitorReport("webmonitor_cgi",{cgi:encodeURIComponent(f.cgi),path:f.path,msg:f.msg,code:f.code,network:f.network?f.network:"unknow",callback:"webmonitorcgicb"})},1e3)}catch(e){p(e.message)||u("config error:"+e.message),console.log("onerror:cgi handler throw exception")}return!1}},window.onunhandledrejection=function(e){var t=e.reason||"Promise no reject message details";"string"==typeof t&&(t=new Error(t)),window.onerror("","","","",t),e&&e.preventDefault&&e.preventDefault()},window.bp_bizid="jx_h5_common",function(){var b={},p=["img11.360buyimg.com","img15.360buyimg.com"],i=[],a=null,e=!0,t=[];window.addEventListener("pageshow",function(){e||t.forEach(function(e){e&&e()}),e=!1},!1),b.page={onNavigateBack:function(e){if("function"!=typeof e)return!1;t.push(e)}},b.getTopDomain=function(e){return(e=e||document.domain).split(".").slice(-2).join(".")},b.isJdDomain=function(){var e=location.href.replace(location.hash,"");if((J(e)||O(e))&&1==window._fdGray){var t=window._fd||b.url.getUrlParam("_fd",e);if("jdw"===t||"jdm"===t)return!0;if("jx"===t)return!1}return"jd.com"===b.getTopDomain()},b.isJxDomain=function(){var e=location.href.replace(location.hash,"");if((J(e)||O(e))&&1==window._fdGray){var t=window._fd||b.url.getUrlParam("_fd",e);if("jx"===t)return!0;if("jdw"===t||"jdm"===t)return!1}return"jingxi.com"===b.getTopDomain()},b.send=function(e,t){var r=(new Date).getTime(),o="_COUNTRD"+r++;try{window[o]=new Image,window[o].src=e,t&&t.onLoad&&(window[o].onload=window[o].onerror=t.onLoad)}catch(e){}};var r,o,n,c,s,d,m,l,u,g={},f=["Z","A","B","C","D","E","F","G","H","I"];function w(e){var t=window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=t.substr(t.indexOf("?")+1).match(r);return null!=o?o[2]:""}function h(e,t){return e<<t|e>>>32-t}function _(e,t){var r,o,n,i,a;return n=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(r=1073741824&e)&(o=1073741824&t)?2147483648^a^n^i:r|o?1073741824&a?3221225472^a^n^i:1073741824^a^n^i:a^n^i}function v(e,t,r,o,n,i,a){var c;return e=_(e,_(_((c=t)&r|~c&o,n),a)),_(h(e,i),t)}function j(e,t,r,o,n,i,a){var c;return e=_(e,_(_(t&(c=o)|r&~c,n),a)),_(h(e,i),t)}function x(e,t,r,o,n,i,a){return e=_(e,_(_(t^r^o,n),a)),_(h(e,i),t)}function D(e,t,r,o,n,i,a){return e=_(e,_(_(r^(t|~o),n),a)),_(h(e,i),t)}function y(e){var t,r="",o="";for(t=0;t<=3;t++)r+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return r}function k(e){var t=e.match(/(?:https?:)?\/\/(?:(?:(?:wq(?:m?item)?\.jd\.(?:com|hk)|(?:m\.jingxi\.com))\/m?item\/(?:jx)?view)|(?:wqs\.jd\.com\/item\/jd\.shtml)|(?:item\.m\.jd\.com\/item\/jxview)).*[?&](?:sku|skuId|wareId)=(\d+)/i);if((t=(t=t||e.match(/(?:https?:)?\/\/(?:(?:item\.jd\.com\/|(?:(?:m?item(?:\.m)?\.(?:jd|paipai)\.(?:com|hk)|(?:m|mitem)\.(?:yiyaojd|jkcsjd)\.com)\/product\/)))(\d+)\.html/i))||e.match(/(?:https?:)?\/\/(?:m?item(?:\.m)?\.(?:jd|jkcsjd)\.(?:com|hk)\/ware\/view\.action).*[?&]wareId=(\d+)/i))&&t[1]){var r=e.replace(/^[^?]*\??/i,"").replace(/[?&]?sku=\d*/gi,"").split("#"),o=r[0]||"",n=r[1]||"";return o&&0!=o.indexOf("&")&&(o="&"+o),{sku:t[1],otherps:o,hashps:n}}return{sku:"",otherps:""}}function J(e){return!!k(e).sku}function O(e){return/(?:https?:)?\/\/(?:(?:wq(?:shop)?\.jd\.com|shop\.m\.jd\.com)\/mshop\/(?:gethomepage|GetShopIntroduce)|shop\.m\.jd\.com\/shopv2\/mzpage|wq\.jd\.com\/shopv2\/(?:wqpage|mzpage|jxpage)|m\.jingxi\.com\/shopv2\/(?:wqpage|mzpage|jxpage)|shop\.m\.jd\.com\/?\?)/.test(e)}function I(e,t){if(!window.GLOBAL_WXSQ_HEADERCONFIG||!window.GLOBAL_WXSQ_HEADERCONFIG.ITEMSHOPTRANSFORMRULE)return e;var r=window.GLOBAL_WXSQ_HEADERCONFIG.ITEMSHOPTRANSFORMRULE.filter(function(e){return e.page===t&&"yes"===e.open&&(-1!==e.scene.indexOf(b.device.scene)||-1!==e.scene.indexOf("all"))});if(!r.length)return e;for(var o=0,n=r.length;o<n;o++){var i=r[o],a=new RegExp(i.targetRegex),c=e.match(a);if(c&&i.targetUrl){var s="";if("item"==t&&c[1]){var d=e.replace(/^[^?]*\??/i,"").replace(/[?&]?sku=\d*/gi,"").split("#"),m=d[0]||"",p=d[1]||"",l=(m||"")+(p?"#"+p:"");/\$1/.test(i.targetUrl)?(s=i.targetUrl.replace(/\$1/,c[1]),s+="?"+l):(s=i.targetUrl+(-1<i.targetUrl.indexOf("?")?"&":"?")+"sku="+c[1],s+="&"+l)}else s=e.replace(a,i.targetUrl);return s}}return e}function A(){var e=window.GLOBAL_WXSQ_HEADERCONFIG.ADAPT_JX_PIN||"",t=window.GLOBAL_WXSQ_HEADERCONFIG.ADAPT_JX_SCENE||"",r=b.cookie.get("pin")||b.cookie.get("pwdt_id")||b.cookie.get("pt_pin"),o=-1!==e.indexOf("|"+r+"|"),n=-1!==t.indexOf(JD.device.scene)||-1!==t.indexOf("all");return o||n}function S(e){if(!e||!e.bizId||!e.operateId)return"";var t,r,o="",n=e.operateId,i=e.bizId,a=e.isServer||0,c=new Date,s=new Date("2017/01/01"),d=parseInt((c.getTime()-s.getTime())/1e3);t=1e3*parseInt(100*Math.random())+c.getMilliseconds();try{return n&=2047,i&=63,r=1073741823&d,t=(t&=32767).toString(2),n=n.toString(2),i=i.toString(2),r=r.toString(2),t="000000000000000".substr(0,15-t.length)+t,n="00000000000".substr(0,11-n.length)+n,i="000000".substr(0,6-i.length)+i,o=function(e,t){var r,o,n=0,i=[],a=e.length,c=t.length,s=Math.max(a,c);for(r=0;r<s;r++)10<=(o=(0<a-r?+e.charAt(a-r-1):0)+(0<c-r?+t.charAt(c-r-1):0)+n)?(n=1,i.push(o%10)):(n=0,i.push(o));return i.reverse().join("")}(function(e,t){var r,o,n=parseInt(e,2),i="0",a=[],c=Math.pow(2,t)+"";for(o=c.length-1;-1<o;o--)r=c[o],a.push(n*r+"");for(o=0;o<a.length;o++)i=P(i,a[o],o);return i}("0"+r,33),parseInt(a+i+n+t,2)+""),window.traceid=o}catch(e){}}function P(e,t,r){return+e.substr(0,e.length-r)+ +t+e.substr(e.length-r)}function q(){var e=(new Date).getTime()+String(Math.random()).substr(2,7);return b.cookie.set("jxsid",e,1440,"/",b.getTopDomain()),e}function C(e){if("string"==typeof e&&20===e.length){var t=e.substr(0,13);if(new Date(+t).getTime()==t){var r=e.substr(13,7);if(/^\d{7}$/.test(r))return 1}}}b.sendJs=function(e,t){var i=!1,r=document.createElement("script");function o(){r&&(r.onload=r.onreadystatechange=r.onerror=null,r.parentNode&&r.parentNode.removeChild(r),r=null)}t=t||{},r.charset=t.charset||"utf-8",r.onload=r.onreadystatechange=function(){!/loaded|complete/i.test(this.readyState)&&-1!=navigator.userAgent.toLowerCase().indexOf("msie")||(t.onLoad&&t.onLoad(),i||t.ignoreError||(t.onError&&t.onError(),window.onerror("","","","",{stack:"servererror:"+(e||"").split("?")[0]})),o())},r.onerror=function(){window.__reloadResource&&__reloadResource(r),t.onError&&t.onError(),o()},e=function(t){var r,o,n;if(["wq.360buyimg.com/data/ppms/js/ppms"].some(function(e){return new RegExp(e).test(t)}))return i=!0,t;var e=t.replace(/callback=([^&]+)/,function(e,t){return"callback="+(o=function(e){g[e]?g[e]+=1:g[e]=1;return e+function(e){for(var t=(e+"").split(""),r=[],o=0;o<t.length;o++)r.push(f[t[o]]);return r.join("")}(g[e])}(r=t))});r&&window[r]?(t=e,n=window[r],window[o]=function(e){i=!0,n(e)}):i=!0;return t}(e),r.src=b.url.getCgiUrl(e),t.defer&&(r.defer="defer"),t.async&&(r.async="async"),t.crossorigin&&r.setAttribute("crossorigin","true"),document.getElementsByTagName("head")[0].appendChild(r)},b.sendJsByDomain=function(e){b.sendJs(e.url,{onError:e.onError,onLoad:e.onLoad,defer:e.defer,async:e.async,crossorigin:e.crossOrigin})},b._webmonitorReport=function(e,t){var r=t||{};r.referer=location.href.split("#")[0],window[r.callback]=function(){},b.sendJs(b.url.getColorUrl()+"?functionId="+e+"&appid=jx_h5&client=jxh5&clientVersion=1.2.5&body="+encodeURIComponent(JSON.stringify(r)),{ignoreError:!0})},b.device={isAndroid:/(Android);?[\s\/]+([\d.]+)?/i.test(window.navigator.userAgent),retina:1.5<=window.devicePixelRatio,sticky:(n="-webkit-sticky",(c=document.createElement("i")).style.position=n,o=c.style.position,c=null,o===n),scene:(r=navigator.userAgent.toLowerCase(),/jdapp;/.test(r)?"jdapp":/(jdpingou|jxtj\/jx);/.test(r)?"jdpingou":/jdltapp;/.test(r)?"jdltapp":/jdjr/.test(r)?"jdjr":/skapp/.test(r)?"skapp":/jdltapp;/.test(r)||!/(css|cs)\.jd\.com/.test(location.host)&&"ms27cba806"!=w("appCode")?/jxj\/([.\d])*/.test(r)?"jxj":/micromessenger(\/[\d\.]+)*/.test(r)&&/wxwork/.test(r)||/(^|^(so|p|home|item|coupon|s|shop)\.)m\.jd\.com|m\.yiyaojd\.com|mitem\.jd\.hk/.test(location.host)||/[?&]sceneval=2/.test(location.search)&&/\.jd\.com/.test(location.host)||"jdm"==w("_fd")&&(J(location.href)||O(location.href))?"jdm":-1<r.indexOf("micromessenger")?"weixin":/qq\/([\d\.]+)*/.test(r)?"qq":"mobile":"tjm"),isMixWebView:/jxtj\/(tj|jx);/i.test(window.navigator.userAgent),webp:!1,getNetwork:function(o){try{var e=navigator.userAgent.toLowerCase(),t=b.device.scene;if(/qq\/([\d\.]+)*/.test(e))b.sqapi.ready(function(){try{mqq.device.getNetworkType(function(e){var t,r=!0;switch(+e){case 0:t=e,r=!1;break;case 1:t="wifi";break;case 2:t="2G";break;case 3:t="3G";break;case 4:t="4G"}r&&b.cookie.set("network",t,5,"/",b.getTopDomain()),o(String(t))})}catch(e){}});else if(-1<e.indexOf("micromessenger"))b.wxapi.ready(function(){wx.getNetworkType({success:function(e){var t=e.networkType,r=!0;/wifi/i.test(t)?t="wifi":/4g|3g+/i.test(t)?t="4g":/3g/i.test(t)?t="3g":/2g/i.test(t)?t="2g":r=!1,r&&b.cookie.set("network",t,5,"/",b.getTopDomain()),o(String(t))},fail:function(e){o("unknown")}})},!1,function(){o("unknown")});else if("jdapp"==t||"jdpingou"==t){var r=(e=navigator.userAgent.toLowerCase()).split(";")[5];window.JDAppUnite&&JDAppUnite.getNetWorkType?(window.getNetWorkCallback=function(e){o(e)},JDAppUnite.getNetWorkType("getNetWorkCallback")):-1<e.indexOf("supportJDSHWK/1")||1==window._is_jdsh_wkwebview?(window.getNetWorkCallback=function(e){o(e)},window.webkit.messageHandlers.JDAppUnite.postMessage({method:"getNetWorkType",params:"getNetWorkCallback",callBackName:null,callBackId:null})):o(r&&r.replace("network/","")||"network")}else o("unknown")}catch(e){o("unknown")}},checkHttpsSupport:function(){return!0}},b.performance={scaleRate:(s=b.device.isAndroid?720:640,d=2*screen.width,(m=640)<d&&d<=720?m=720:720<d&&d<=750?m=750:750<d&&(m=1080),m/s),getScaleImgDpg:function(e,t,r,o){(e=e||"")&&!/^(https?:)?\/\//i.test(e)&&(e="//img10.360buyimg.com/mobilecms/"+e),e=e.replace(/\!.*$|(?:(?:\.dpg)?(?:\.webp)?)$/,"");var n=/jfs\//.test(e),i=/com\/n\d{1,2}\//.test(e),a=/\.(jpg|jpeg)$/.test(e),c=/\.png$/.test(e);if(/(m|img\d{1,2})\.360buyimg\.com/.test(e)&&(a||c)&&(n||i)){var s=parseInt(t*b.performance.scaleRate,10),d=parseInt(r*b.performance.scaleRate,10);e=b.performance.calcImgSize(e,s,d),a?JD.device.webp?e=e+(o?"!cc_"+s+"x"+d:"")+"!q70.dpg.webp":a&&(e=e+(o?"!cc_"+s+"x"+d:"")+"!q70.dpg"):b.device.webp&&(e+=".webp")}if(p.length){var m=(e.match(/img\d{1,2}\.360buyimg\.com/)||[])[0];m&&-1<p.indexOf(m)&&(e=e.replace(m,b.url.getValidImageDomain()))}return(e=e.replace(/\/n\d+\/(s\d+x\d+_)/,"/mobilecms/$1"))?e.replace(/^https?:/,""):""},useScaleImg:function(){var e=b.cookie.get("network"),t=b.device.retina;return"wifi"!=e||!t},getScaleImg:function(e,t,r,o,n){(e=e||"")&&!/^(https?:)?\/\//i.test(e)&&(e="//img10.360buyimg.com/mobilecms/"+e),e=e.replace(/\!.*$|(?:(?:\.dpg)?(?:\.webp)?)$/,"");var i=/jfs\//.test(e),a=/com\/n\d{1,2}\//.test(e),c=/\.(jpg|jpeg)$/.test(e),s=/\.png$/.test(e);if(/(m|img\d{1,2})\.360buyimg\.com/.test(e)&&(c||s)&&(i||a)&&(e=b.performance.calcImgSize(e,t,r),o&&(e+=o),c&&(e+=n||"!q70",e+=".dpg"),b.device.webp&&(e+=".webp")),p.length){var d=(e.match(/img\d{1,2}\.360buyimg\.com/)||[])[0];d&&-1<p.indexOf(d)&&(e=e.replace(d,b.url.getValidImageDomain()))}return(e=e.replace(/\/n\d+\/(s\d+x\d+_)/,"/mobilecms/$1"))?e.replace(/^https?:/,""):""},calcImgSize:function(e,t,r){var o=/jfs\//.test(e),n=/com\/n\d{1,2}\//.test(e);if(!t&&!r)return e;if(t&&!r&&(r=t),!t&&r&&(t=r),o)e=/\/s\d{1,4}x\d{1,4}_jfs\//.test(e)?e.replace(/\/s\d{1,4}x\d{1,4}_jfs\//,"/s"+t+"x"+r+"_jfs/"):e.replace(/\/jfs\//,"/s"+t+"x"+r+"_jfs/");else if(n){e=/com\/n\d{1,2}\/s\d{1,4}x\d{1,4}/.test(e)?e.replace(/(com\/n\d{1,2})\/s\d{1,4}x\d{1,4}/,"$1/s"+t+"x"+r):e.replace(/(com\/n\d{1,2})\//,"$1/s"+t+"x"+r+"_")}return e},gray:function(){var e=b.cookie.get("visitkey");return e?e.substr(-1)<5:Math.random()<.5}},b.img={scaleRate:b.performance.scaleRate,getScaleImgDpg:b.performance.getScaleImgDpg,useScaleImg:b.performance.useScaleImg,getScaleImg:b.performance.getScaleImg,getImgUrl:b.performance.getScaleImg},b.report={itil:function(e){return!1},badJs:function(e){e&&e.stack?e=e.stack.toString():"object"==typeof e&&window.JSON&&window.JSON.stringify&&(e=JSON.stringify(e));var t={Content:e,t:Math.random(),callback:"webmonitorbadjscb"};b._webmonitorReport("pingou_webmonitor_badjs",t)},umpBiz:function(e,t,r){var o;if(void 0!==(t=t||window.GLOBAL_UMP_PERCENT_NEW)&&Math.floor(10*Math.random())>t)return!1;if(e instanceof Array){o=[];for(var n=0;n<e.length;n++)o.push(e[n].bizid+"|"+e[n].operation+"|"+e[n].result+"|"+e[n].source+"|"+encodeURIComponent(String(e[n].message).replace(/,/g," "))+(window.traceid?"|"+traceid:""));o=o.join(",")}else if(o=e.bizid+"|"+e.operation+"|"+e.result+"|"+e.source+"|"+encodeURIComponent(String(e.message).replace(/,/g," "))+(window.traceid?"|"+traceid:""),e&&e.notCombo)return b._webmonitorReport("pingou_webmonitor_biz",{contents:o,t:Math.random(),callback:"webmonitorbizcb"}),!1;r?b._webmonitorReport("pingou_webmonitor_biz",{contents:o,t:Math.random(),callback:"webmonitorbizcb"}):i.push(o),a=a||setTimeout(function(){b._webmonitorReport("pingou_webmonitor_biz",{contents:i.join(","),t:Math.random(),callback:"webmonitorbizcb"}),i=[],a=null},1e3)},imageLoadError:function(e){console.error("JD.report.imageLoadError已废弃")},pv:function(e){console.error("JD.report.pv已废弃,请使用公共上报组件wa")},rd:function(e){console.error("JD.report.rd已废弃,请使用公共上报组件wa")}},b.cookie={get:function(e){var t=new RegExp("(^| )"+e+"(?:=([^;]*))?(;|$)"),r=document.cookie.match(t);if(!r||!r[2])return"";function o(e){return(/(%[0-9A-F]{2}){2,}/.test(e)?decodeURIComponent:unescape)(e)}var n=r[2];try{var i=b.mBase64&&b.mBase64.isInWhitelist(e)||"";if(i){if(e===i)return o(b.mBase64.decode(n));var a=new RegExp("(^| )"+i+"(?:=([^;]*))?(;|$)"),c=document.cookie.match(a);if(c&&c[2]){var s=c[2];return o(b.mBase64.decode(s))}}return o(n)}catch(e){return unescape(n)}},set:function(e,t,r,o,n,i){var a=new Date;r=r||null,o=o||"/",n=n||null,i=i||!1;if("jingxi.com"===b.getTopDomain()&&"jd.com"===n){n="jingxi.com",console.error("当前页面根域名是jingxi.com，JD.cookie.set接收到jd.com的参数，已强制更改为jingxi.com，请尽快做适配更改");try{console.warn((new Error).stack.split("\n")[2])}catch(e){}}var c=escape(t);if(!(!!b.mBase64&&b.mBase64.isInBlacklist(e))){function s(e,t){r&&a.setMinutes(a.getMinutes()+parseInt(r)),document.cookie=e+"="+t+(r?";expires="+a.toGMTString():"")+(o?";path="+o:"")+(n?";domain="+n:"")+(i?";secure":"")}var d=b.mBase64&&b.mBase64.isInWhitelist(e)||"";if(d)if(e===d)c=b.mBase64.encode(c);else s(d,b.mBase64.encode(c));s(e,c)}},del:function(e,t,r,o){if(null!=this.get(e)){var n=new Date;n.setMinutes(n.getMinutes()-1e3),t=t||"/",document.cookie=e+"=;expires="+n.toGMTString()+(t?";path="+t:"")+(r?";domain="+r:"")+(o?";secure":"")}}},b.preload={},b.md5={getHash:function(e){var t,r,o,n,i,a,c,s,d,m=Array();for(m=function(e){for(var t,r=e.length,o=r+8,n=16*(1+(o-o%64)/64),i=Array(n-1),a=0,c=0;c<r;)a=c%4*8,i[t=(c-c%4)/4]=i[t]|e.charCodeAt(c)<<a,c++;return a=c%4*8,i[t=(c-c%4)/4]=i[t]|128<<a,i[n-2]=r<<3,i[n-1]=r>>>29,i}(e=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t+=String.fromCharCode(o):(127<o&&o<2048?t+=String.fromCharCode(o>>6|192):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128)),t+=String.fromCharCode(63&o|128))}return t}(e)),a=1732584193,c=4023233417,s=2562383102,d=271733878,t=0;t<m.length;t+=16)a=v(r=a,o=c,n=s,i=d,m[t+0],7,3614090360),d=v(d,a,c,s,m[t+1],12,3905402710),s=v(s,d,a,c,m[t+2],17,606105819),c=v(c,s,d,a,m[t+3],22,3250441966),a=v(a,c,s,d,m[t+4],7,4118548399),d=v(d,a,c,s,m[t+5],12,1200080426),s=v(s,d,a,c,m[t+6],17,2821735955),c=v(c,s,d,a,m[t+7],22,4249261313),a=v(a,c,s,d,m[t+8],7,1770035416),d=v(d,a,c,s,m[t+9],12,2336552879),s=v(s,d,a,c,m[t+10],17,4294925233),c=v(c,s,d,a,m[t+11],22,2304563134),a=v(a,c,s,d,m[t+12],7,1804603682),d=v(d,a,c,s,m[t+13],12,4254626195),s=v(s,d,a,c,m[t+14],17,2792965006),c=v(c,s,d,a,m[t+15],22,1236535329),a=j(a,c,s,d,m[t+1],5,4129170786),d=j(d,a,c,s,m[t+6],9,3225465664),s=j(s,d,a,c,m[t+11],14,643717713),c=j(c,s,d,a,m[t+0],20,3921069994),a=j(a,c,s,d,m[t+5],5,3593408605),d=j(d,a,c,s,m[t+10],9,38016083),s=j(s,d,a,c,m[t+15],14,3634488961),c=j(c,s,d,a,m[t+4],20,3889429448),a=j(a,c,s,d,m[t+9],5,568446438),d=j(d,a,c,s,m[t+14],9,3275163606),s=j(s,d,a,c,m[t+3],14,4107603335),c=j(c,s,d,a,m[t+8],20,1163531501),a=j(a,c,s,d,m[t+13],5,2850285829),d=j(d,a,c,s,m[t+2],9,4243563512),s=j(s,d,a,c,m[t+7],14,1735328473),c=j(c,s,d,a,m[t+12],20,2368359562),a=x(a,c,s,d,m[t+5],4,4294588738),d=x(d,a,c,s,m[t+8],11,2272392833),s=x(s,d,a,c,m[t+11],16,1839030562),c=x(c,s,d,a,m[t+14],23,4259657740),a=x(a,c,s,d,m[t+1],4,2763975236),d=x(d,a,c,s,m[t+4],11,1272893353),s=x(s,d,a,c,m[t+7],16,4139469664),c=x(c,s,d,a,m[t+10],23,3200236656),a=x(a,c,s,d,m[t+13],4,681279174),d=x(d,a,c,s,m[t+0],11,3936430074),s=x(s,d,a,c,m[t+3],16,3572445317),c=x(c,s,d,a,m[t+6],23,76029189),a=x(a,c,s,d,m[t+9],4,3654602809),d=x(d,a,c,s,m[t+12],11,3873151461),s=x(s,d,a,c,m[t+15],16,530742520),c=x(c,s,d,a,m[t+2],23,3299628645),a=D(a,c,s,d,m[t+0],6,4096336452),d=D(d,a,c,s,m[t+7],10,1126891415),s=D(s,d,a,c,m[t+14],15,2878612391),c=D(c,s,d,a,m[t+5],21,4237533241),a=D(a,c,s,d,m[t+12],6,1700485571),d=D(d,a,c,s,m[t+3],10,2399980690),s=D(s,d,a,c,m[t+10],15,4293915773),c=D(c,s,d,a,m[t+1],21,2240044497),a=D(a,c,s,d,m[t+8],6,1873313359),d=D(d,a,c,s,m[t+15],10,4264355552),s=D(s,d,a,c,m[t+6],15,2734768916),c=D(c,s,d,a,m[t+13],21,1309151649),a=D(a,c,s,d,m[t+4],6,4149444226),d=D(d,a,c,s,m[t+11],10,3174756917),s=D(s,d,a,c,m[t+2],15,718787259),c=D(c,s,d,a,m[t+9],21,3951481745),a=_(a,r),c=_(c,o),s=_(s,n),d=_(d,i);return(y(a)+y(c)+y(s)+y(d)).toLowerCase()}},b.url={isItemUrl:J,isShopUrl:O,setHash:function(e){setTimeout(function(){location.hash=e},0)},getHash:function(e){var t=e||location.hash;return t?t.replace(/.*#/,""):""},getHashParam:function(e){var t=this.getHash().match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),"i");return null!=t?t[2]:""},getUrlParam:function(e,t){var r=t||window.location.search,o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=r.substr(r.indexOf("?")+1).match(o);return null!=n?n[2]:""},removeUrlParam:function(e,t){var r=t||window.location.href,o=r.split("#"),n=o[1],i=o[0].split("?"),a=i.slice(1).join("?");if(!a)return r;a="&"+a;var c=new RegExp("&"+e+"=[^&]*","i");return a=a.replace(c,"").replace(/^&/,""),i[0]+(a?"?"+a:"")+(n?"#"+n:"")},parseUrl:function(e){var i=document.createElement("a");return{source:i.href=e,protocol:i.protocol.replace(":",""),host:i.hostname,port:i.port,query:i.search,params:function(){for(var e,t={},r=i.search.replace(/^\?/,"").split("&"),o=r.length,n=0;n<o;n++)r[n]&&(t[(e=r[n].split("="))[0]]=e[1]);return t}(),file:(i.pathname.match(/([^\/?#]+)$/i)||[,""])[1],hash:i.hash.replace("#",""),path:i.pathname.replace(/^([^\/])/,"/$1"),relative:(i.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:i.pathname.replace(/^\//,"").split("/")}},addRd:function(e,t){e=e.replace(/？/g,"?");var r=/(\?|&)ptag=[^&#]*/i,o=/\?/.test(e);return hasAnchor=-1<e.indexOf("#"),e=r.test(e)?e.replace(r,"$1PTAG="+t):hasAnchor?e.replace("#",(o?"&":"?")+"PTAG="+t+"#"):e+(o?"&":"?")+"PTAG="+t},addUrlParam:function(e,t){var r=e.split("#"),o=r[1];e.indexOf("?");for(var n in e=r[0],t){var i=new RegExp("([?&])"+n+"=[^&]*(&|$)","i");i.test(e)?e=e.replace(i,"$1"+n+"="+t[n]+"$2"):e+=(-1<e.indexOf("?")?"&":"?")+n+"="+t[n]}return o&&(e=e+"#"+o),e},smartboxUrl:"//wq.360buyimg.com/js/common/dest/jd.smartbox.min.js?t=201604071912",homeUrl:window.GLOBAL_WXSQ_HEADERCONFIG?"weixin"!=b.device.scene?window.GLOBAL_WXSQ_HEADERCONFIG.sqHome:window.GLOBAL_WXSQ_HEADERCONFIG.wxHome:"",getValidImageDomain:function(e){var t=p.concat();e&&-1==t.indexOf(e)&&t.push(e);var r=["img10.360buyimg.com","img11.360buyimg.com","img12.360buyimg.com","img13.360buyimg.com","img14.360buyimg.com","img20.360buyimg.com","img30.360buyimg.com"].filter(function(e){return-1==t.indexOf(e)});return r.length?r[Math.floor(Math.random()*r.length)]:""},getItemUrl:function(e,t){var r=!1,o=b.isJdDomain(),n=b.isJxDomain(),i=o&&("jdm"==b.device.scene||"jdapp"==b.device.scene),a="",c=b.url.getUrlParam("_fd",e),s=b.url.getUrlParam("_fd");if(t.adaptFd?a=t.adaptFd:t.adaptDomain&&(a=c||s||""),i){var d=parseInt(window.GLOBAL_WXSQ_HEADERCONFIG.STATIC_ITEM_LINK_M||0,10);r=parseInt((b.cookie.get("visitkey")||"0").substr(-1),10)<d}else{var m=parseInt(window.GLOBAL_WXSQ_HEADERCONFIG.STATIC_ITEM_LINK||0,10);r=parseInt((b.cookie.get("visitkey")||"0").substr(-1),10)<m}var p="jx"==t.adaptDomain||"jd"!=t.adaptDomain&&n&&!J(location.href)&&!O(location.href),l=k(e);l.otherps=l.otherps.replace(/\&_fd=[^&#]*/gi,"");var u="?sku="+l.sku+(l.otherps||"")+(a?"&_fd="+a:"")+(l.hashps?"#"+l.hashps:"");return r?e=p?"//st.jingxi.com/item/jd.shtml"+u:"//wqs.jd.com/item/jd.shtml"+u:(o||n)&&t.adaptItem&&function(e){var t=e.match(/(?:https?:)?\/\/(?:(?:(?:wq(?:m?item)?\.jd\.com|(?:m\.jingxi\.com))\/m?item\/(?:jx)?view)|(?:wqs\.jd\.com\/item\/jd\.shtml)|(?:item\.m\.jd\.com\/item\/jxview)).*[?&](?:sku|skuId|wareId)=(\d+)/i);if(t||(t=e.match(/(?:https?:)?\/\/(?:item\.jd\.com\/|(?:m?item(?:\.m)?\.(?:jd|paipai)\.com)\/product\/)(\d+)\.html/i)),t=t||e.match(/(?:https?:)?\/\/m?item(?:\.m)?\.jd\.com\/ware\/view\.action.*[?&]wareId=(\d+)/i),t&&t[1])return 1;return}(e)&&(e=p?"//m.jingxi.com/item/view"+u:i?(u=(l.otherps||"").replace(/^\&/,"?")+(a?(l.otherps?"&":"?")+"_fd="+a:"")+(l.hashps?"#"+l.hashps:""),"//item.m.jd.com/product/"+l.sku+".html"+u):"//wq.jd.com/item/view"+u),e=I(e,"item")},getShopUrl:function(e,t){var r=b.isJdDomain(),o=b.isJxDomain(),n=r&&("jdm"==b.device.scene||"jdapp"==b.device.scene),i="",a=b.url.getUrlParam("_fd",e),c=b.url.getUrlParam("_fd");t.adaptFd?i=t.adaptFd:t.adaptDomain&&(i=a||c||"");var s="jx"==t.adaptDomain||"jd"!=t.adaptDomain&&o&&!J(location.href)&&!O(location.href);if((r||o)&&t.adaptShop){var d=e.replace(/^[^?]*\??/i,"").split("#"),m=d[0]||"",p=d[1]||"";i&&(m+="&_fd="+i),p&&(m+="#"+p),e=s?"//m.jingxi.com/shopv2/jxpage?"+m:n?"//shop.m.jd.com/shopv2/mzpage?"+m:"//wq.jd.com/shopv2/wqpage?"+m}return e=I(e,"shop")},getPageUrl:function(e,t){var r=b.url.getUrlParam("__pgzx");if(1==r&&/\/\/wqs\.jd\.com\/pingou\/item\.shtml?/.test(e)&&(e=b.url.addUrlParam(e,{__pgzx:r})),"jdjr"==b.device.scene&&/^(https?:)?\/\/wqs?\.jd\.com/i.test(location.href)){var o=e.match(/^(https?:)?\/\/item\.m\.jd\.com\/(product\/(\d+)\.html|ware\/view\.action.*[?&]wareId=(\d+))/i);if(o)e="//wqitem.jd.com/item/view?sku="+(o[o.length-1]||o[o.length-2])+"&"+(e.split("?")[1]||"")}if("jdm"==b.device.scene){var n=e.match(/(?:https?:)?\/\/(?:wq(?:m?item)?\.jd\.(com|hk)\/m?item\/view).*[?&]sku=(\d+)/i);if(n)e="//item.m.jd."+(n[1]||"com")+"/product/"+n[2]+".html?"+(e.split("?")[1]||"");else/^(https?:)?\/\//.test(e)&&(e=b.url.addUrlParam(e,{sceneval:2}))}return"jdpingou"==b.device.scene&&(e=function(e){if(function(e){return/(?:https?:)?\/\/(?:(?:(?:wq(?:sou)?\.jd\.com|m\.jingxi\.com)\/search\/searchn)|(?:wqs\.jd\.com\/search\/index)).*[?&]key=([^&#]*)/i.test(e)}(e)){var t=b.url.getUrlParam("key",e);t&&(e=b.url.addUrlParam(e,{keyword:t}))}return e}(e=e.replace(/^(https?:)?\/\/(pro|prodev)\.m\.jd\.com\/(wq|mall|mini)/i,function(e,t,r,o){return e.replace(o,"jx")}))),("qq"==b.device.scene||"weixin"==b.device.scene&&b.wxapp&&0==b.wxapp.getWxappType())&&(e=e.replace(/^(https?:)?\/\/((h5\.m\.jd\.com\/active\/)|((pro|prodev)\.m\.jd\.com\/(mall|mini)\/active\/)|((pro|prodev)\.jd\.com\/mall\/active\/))/i,"//pro.m.jd.com/wq/active/")),/^(https?:)?\/\//.test(e)&&(e=b.url.addUrlParam(e,{jxsid:b.jxsid.get(),appCode:b.getAppCode()})),e=function(a,e){if(!A())return a;e=e||{};var t=b.isJdDomain(),r=b.isJxDomain(),o=J(a),n=O(a);o?a=b.url.getItemUrl(a,e):n&&(a=b.url.getShopUrl(a,e));o||n||(r?!l("jx")&&/^(?:https?:)?\/\/(wq|wqshop|shop\.m|wqactive|wqs|wqsd|wqsh)\.jd\.com\/(?!mm\/).*/i.test(a)&&(a=a.replace("//wq.jd.com","//m.jingxi.com").replace("//wqshop.jd.com","//m.jingxi.com").replace("//shop.m.jd.com","//m.jingxi.com").replace("//wqactive.jd.com","//act.jingxi.com").replace("//wqs.jd.com","//st.jingxi.com").replace("//wqsd.jd.com","//actst.jingxi.com").replace("//wqsh.jd.com","//actst.jingxi.com")):t&&l("jd"));r&&(/^(?:https?:)?\/\/pro\.m\.jd\.com\/wq\/active\//.test(a)&&(a=a.replace("//pro.m.jd.com/wq/","//pro.jingxi.com/jx/")),2!=b.wxapp.getWxappType()&&4!=b.wxapp.getWxappType()||!/^(?:https?:)?\/\/pro\.jingxi\.com\/jx\//.test(a)||(a=a.replace("//pro.jingxi.com/jx/","//pro.jingxi.com/mini/"),a=b.url.addUrlParam(a,{wxAppName:"jx"})));var i=b.url.getUrlParam("sceneval",a),c=b.url.parseUrl(a).host,s=b.getTopDomain(c),d=b.url.getUrlParam("sceneval");"jingxi.com"==s&&"2"==i&&(a=b.url.removeUrlParam("sceneval",a));c.match(/^(wq|wqs|wqdeal|wqsou|wqitem|wqshop|wqactive|wqsd|wqsh)\.jd\.com/i)&&"2"!=i&&"2"==d&&(a=b.url.addUrlParam(a,{sceneval:"2"}));var m=b.url.getUrlParam("_fd",a),p=b.url.getUrlParam("_fd");p&&!m&&(o||n)&&(a=b.url.addUrlParam(a,{_fd:p}));return a;function l(e){var t=a.split("?")[1]||"";t=t&&"?"+t;var r=window.GLOBAL_WXSQ_HEADERCONFIG.DOMAINTRANSFORMRULE||[];try{for(var o=0,n=r.length;o<n;o++){var i=r[o];if("yes"===i.open)if(new RegExp(i.targetRegex).test(a)){if("jd"===e)return a=i.jdUrl+t;if("jx"===e)return a=i.jxUrl+t}}}catch(e){console.error("京东场域名转换正则异常",e)}}}(e,t)},getImageUrl:function(e){return e},getCgiUrl:function(e){return e=b.url.adaptJxCgi(e),/^(https?:)?\/\/wq\.360buyimg\.com/.test(e)||(e=b.url.addUrlParam(e,{appCode:b.getAppCode()}),/^(cs|css)\.jd\.com/i.test(location.host)&&(e=b.url.addUrlParam(e,{sceneval:2})),"13"==b.url.getLoginType()&&(e=b.url.addUrlParam(e,{loginType:"13"}))),e},getLoginType:function(){var e=b.device.scene;return 4==b.wxapp.getWxappType()||"2"==b.url.getUrlParam("sceneval")||"qq"!=e&&"weixin"!=e?"2":b.url.hitPtkeyLogin()?"13":"11"},hitPtkeyLogin:function(){var e="qq"!=b.device.scene,t=window.GLOBAL_WXSQ_HEADERCONFIG.SQ_PTKEY_URL_BLACKLIST.some(function(e){return-1<location.href.indexOf(e)}),r=/^(cs|css)\.jd\.com/i.test(location.host);if(e||t||r)return!1;var o=b.cookie.get("visitkey"),n=window.GLOBAL_WXSQ_HEADERCONFIG.sq_ptkey_rate,i=window.GLOBAL_WXSQ_HEADERCONFIG.sq_ptkey_whitelist;return o&&-1<i.indexOf(o)||100<=n||0<n&&o&&o.substr(-2)<n},useWqLogin:function(){return"11"==b.url.getLoginType()},getPinBindUrl:function(){return"13"==b.url.getLoginType()?"https://plogin.m.jd.com/cgi-bin/ml/dupgrade?appid=2181&client_type=qq":"https://wqs.jd.com/my/bindpopupv2/index.shtml"},adaptJxCgi:function(e){if(!e||!A())return e;var t,r="jingxi.com"===b.getTopDomain(),o=J(location.href)||O(location.href),n=(t=location.href,/(?:https?:)?\/\/(?:(?:item\.jd\.com\/|(?:(?:m?item(?:\.m)?\.(?:jd|paipai)\.(?:com|hk)|(?:m|mitem)\.(?:yiyaojd|jkcsjd)\.com)\/product\/)))(\d+)\.html/i.test(t)||/(?:https?:)?\/\/(?:m?item(?:\.m)?\.(?:jd|jkcsjd)\.(?:com|hk)\/ware\/view\.action).*[?&]wareId=(\d+)/i.test(t));if(!r&&!o)return e;var i=e.replace(/^https?:/,""),a=function(e){for(var t=["//m.jingxi.com/","//wq.jd.com/","//wqpay1.jd.com/","//wqpay2.jd.com/","//wqpay3.jd.com/","//wqdeal.jd.com/","//wqdeal1.jd.com/","//wqdeal2.jd.com/","//wqcoss.jd.com/","//wqcoss1.jd.com/","//wqcoss2.jd.com/","//wqitem.jd.com/","//wqitem.jd.hk/","//wq.jd.hk/","//wq.jkcsjd.com/","//wqsou.jd.com/","//wqshop.jd.com/"],r=0,o=t.length;r<o;r++){var n=t[r];if(0===e.indexOf(n))return n}return""}(i);if(!a||function(e){for(var t=["//wq.jd.com/mlogin/wxv3/login_BJ","//wq.jd.com/mlogin/wxv3/LoginQBApp_H5","//plogin.m.jd.com/user/","//passport.m.jd.com/user/","//wqs.jd.com/bjd/tologin.html","//wq.jd.com/pinbind/pintokenredirect"],r=0,o=t.length;r<o;r++){var n=t[r];if(0===e.indexOf(n))return 1}return}(i))return i;r&&(i="//m.jingxi.com/"+i.replace(a,""));var c=b.url.getUrlParam("sceneval",i.split("#")[0]),s=/micromessenger|qq\/([\d\.]+)*/i.test(navigator.userAgent);return o&&window._fd&&("jdm"!=window._fd&&s?"2"!=c||n||(i=b.url.removeUrlParam("sceneval",i)):i=b.url.addUrlParam(i,{sceneval:2})),!o&&r&&(s?"2"==c&&(i=b.url.removeUrlParam("sceneval",i)):i=b.url.addUrlParam(i,{sceneval:2})),i},getColorUrl:function(){var e="api.m.jd.com",t=window.location.host;return/\.jingxi\.com/.test(t)?e="api.jingxi.com":/\.jd\.hk/.test(t)&&(e="color.jd.hk"),"//"+e+"/api"},getStaticDisRec:function(e){return console.warn("getStaticDisRec已废弃，请尽快移除使用。"),e}},b.events=function(){var n,r,o,i,a,c;return n=this,i={},a={},c=function(){},{listen:r=function(e,t){i[e]?i[e].push(t||c):i[e]=[t||c],a[e]&&t.apply(n,a[e])},one:function(e,t){return o(e),r(e,t)},remove:o=function(e){i[e]=void 0,a[e]=void 0},trigger:function(){var e=[].shift.call(arguments),t=i[e];if(t&&t.length)for(var r=0,o=t.length;r<o;r++){t[r].apply(n,arguments)}else a[e]=arguments}}}(),b.modulejs={ready:function(){}},b.sqapi={ready:function(e){window.mqq?e&&e.call(null):b.events.listen("sq_api_ready",e)}},b.wxapi=function(){if(-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger")){function t(){n&&window.wx&&b.events.trigger(r,n)}var n,r="wx_cfg_init",i="wx_js_load",a=!1;return{ready:function(e,t,r){if(t){n=n&&null;function o(){b.events.trigger("wx_sign_get",!0)}window.wx?o():b.events.listen(i,o)}n&&window.wx&&a?e&&e.call(null,n):e&&b.events.listen("wx_api_ready",e),r&&b.events.listen("wx_api_error",r)},signatureReady:function(e){n=e,t()},getSignature:function(){return n},jsReady:function(e){b.events.listen(r,e),b.events.trigger(i),b.events.remove(i),t()},wxReady:function(){a=!0}}}}(),b.calendar={},b.foot={init:function(){},get:function(){}},b.qqbrower={openUrlInWechat:function(){}},b.GLOBAL_CONFIG={ARR_DELAY_PPMS:[],COMBOLOAD:{ppms:[],css:[]}},b.log={add:function(){},add2:function(){},add3:function(){},get:function(){},report:function(){}},b.store={_ready:function(e,t){var r=[e].concat(Array.prototype.slice.call(t));b.store._exeStore?b.store._exeStore.apply(null,r):b.events.listen("event_store_quene",function(){b.store._exeStore.apply(null,r)})},getValue:function(e,t,r){return this._ready("getValue",arguments)},setHistory:function(t){window.wgStorage?wgStorage.set(t,!0):window.wgStorageReady=function(e){e.set(t,!0)}},setValue:function(e,t,r,o,n){return this._ready("setValue",arguments)},get:function(e,t,r,o){return this._ready("get",arguments)},set:function(e,t,r,o,n){return this._ready("set",arguments)},del:function(e,t,r,o){return this._ready("del",arguments)},comboLoad:function(e,t){var r="[object Array]"===Object.prototype.toString.call(e)?e:[e];b.store._comboLoad?b.store._comboLoad(r,t):b.GLOBAL_CONFIG.COMBOLOAD[t]=b.GLOBAL_CONFIG.COMBOLOAD[t].concat(r)},getItem:function(e,t,r,o){return this._ready("getItem",arguments)},setItem:function(e,t,r,o,n,i){return this._ready("setItem",arguments)},delItem:function(e,t,r,o){return this._ready("delItem",arguments)}},b.traceid=(window.initTraceid&&S(window.initTraceid),{get:S}),b.jxsid=(u=l="",{get:function(){return u||(l=l||function(){var e=b.url.getUrlParam("jxsid");if(C(e))return e;if(document.referrer){var t=b.url.getUrlParam("jxsid",document.referrer);if(C(t))return t}var r=b.cookie.get("jxsid");return C(r)?r:""}())||(l=q())},reset:function(){return u=q()}}),b.cgi={getCgiRccoveryUrl:function(e){return e},getCallback:function(){return console.error("JD.cgi.getCallback已废弃，请尽快移除调用"),"cb"+String(Math.random()).substr(2,7)}},b.disasterRecovery={batchkeyword:{},brandspecial:{},categoryentry:{},console_log_report:{},cpc:{},cpcnew:{},cpt:{},keywordsearch:{},mart:{},materialQuery:{},mportal:{},multiMart:{},ranklist:{},seckill:{},spematerial:{}},b.wxapp=function(){function t(){b.cookie&&b.cookie.del("wxapp_type","/",b.getTopDomain()),c=0}function r(e){b.wxapi?b.wxapi.ready(function(){(o="miniprogram"==window.__wxjs_environment?1:0)||t(),e&&e(o)}):"qq"==b.device.scene&&s?b.events.listen("qqjssdk_init",function(){JD.wxapp.isWxappForceApi(e)}):(s&&d?o=3:(o=0,t()),e&&e(o))}var e=navigator.userAgent,o=0,n=b.url?b.url.getUrlParam("miniprogram"):"",i=b.url?b.url.getHashParam("wxa_level"):"",a=b.url?b.url.getHashParam("cookie"):"",c=b.cookie&&b.cookie.get("wxapp_type")||0,s=/miniProgram/i.test(e),d=/Kwai|KUAISHOU|NEBULA/i.test(e),m=/jdmp;/.test(e),p=/(?:https?:)?\/\/(?:(?:(?:wq(?:m?item)?\.jd\.(?:com|hk)|(?:m\.jingxi\.com))\/m?item\/view)|(?:wqs\.jd\.com\/item\/jd\.shtml)|(?:item\.m\.jd\.com\/item\/jxview)).*[?&]sku=(\d+)/i,l=/(?:https?:)?\/\/(?:(?:item\.jd\.com\/|(?:(?:m?item(?:\.m)?\.(?:jd|paipai)\.(?:com|hk)|(?:m|mitem)\.(?:yiyaojd|jkcsjd)\.com)\/product\/)))(\d+)\.html/i,u=/(?:https?:)?\/\/(?:m?item(?:\.m)?\.(?:jd|jkcsjd)\.(?:com|hk)\/ware\/view\.action).*[?&]wareId=(\d+)/i,g=/(?:https?:)?\/\/(?:wqs\.jd\.com|st\.jingxi\.com)\/my\/index/i,f=/(?:https?:)?\/\/(?:(?:(?:wq(?:sou)?\.jd\.com|m\.jingxi\.com)\/search\/searchn)|(?:wqs\.jd\.com\/search\/index)).*[?&]key=([^&#]*)/i,w=/(?:https?:)?\/\/(?:(?:(?:wq(?:deal)?\.jd\.com|m\.jingxi\.com)\/deal\/mshopcart\/mycart)|(?:wqs\.jd\.com\/my\/cart\/jdshopcart))/i,h=/(?:https?:)?\/\/(?:(?:(?:wq(?:deal2?)?\.jd|m\.jingxi)\.com\/deal\/(?:confirmorder|msubmit)\/(?!adview))|(?:(?:wqs\.jd|st\.jingxi)\.com\/order\/wq\.confirm\.shtml))([^?]*)/i,_=/(?:https?:)?\/\/(?:wqs\.jd\.com|st\.jingxi\.com)\/pingou\/item\.shtml.*[?&]sku=(\d+)/i,v=/(?:https?:)?\/\/(?:wqs\.jd\.com|st\.jingxi\.com)\/pingou\/detail\.shtml(\?[^?]*)/i,j=/(?:https?:)?\/\/(?:wqs\.jd\.com|st\.jingxi\.com)\/shoppingv2\/shopping\.html[^#]*(\#wq.gwq)?/i,x=/(?:https?:)?\/\/(?:wq.jd.com|m\.jingxi\.com)\/(?:mcoss\/)?wxportal\/(?:index|mainentry).*/i,D=/(?:https?:)?\/\/union-click\.jd\.com\//i,y={index:"/pages/index/index",detail:"/pages/gold/item/pages/detail/index",my:"/pages/my/index/index",cart:"/pages/cart/cart/cart",carttab:"/pages/cart/cart/index",search:"/pages/search/list/list",pgsearch:"/pages/pingou_second/search/search",buy:"/pages/pay/index/index",account:"/pages/my/account/account",pgitem:"/pages/item/detail/detail",pgdetail:"/pages/pingou/detail/index",shop:"/pages/shop/index/index",gwqpage:"/pages/gwq/index",category:"/pages/cate/cate",pgmy:"/pages/pingou/account/index",coupon:"/pages/my/coupon/coupon",proxy:"/pages/union/proxy/proxy"},k=i=i||(b.url?b.url.getUrlParam("wxa_level"):"");if(k=(k=k||(b.cookie?b.cookie.get("wxa_level"):""))?parseInt(k,10):1,b.cookie&&b.cookie.set("wxa_level",k,1440,"/",b.getTopDomain()),b.url.getUrlParam("jxsid")||0==c||document.referrer&&!(history.length<=2&&/^https?:\/\/weixin110\.qq\.com\//.test(document.referrer))||t(),(a=a||(b.url?b.url.getUrlParam("cookie"):""))||c||"undefined"===(c=b.url&&b.url.getUrlParam("wxapp_type")||0)&&b.url.getUrlParam("headRD")&&(c=17),a&&window.JSON){var J={};try{J=window.JSON.parse(decodeURIComponent(a))}catch(e){J={}}J.wxapp_type&&(c=J.wxapp_type)}return(s||c||i)&&(o="qq"==b.device.scene?2:1,s&&d&&(o=3)),o<3&&!m&&r(),{wxappType:c||0,getWxappType:function(){return c||0},urls:y,transform:{index:function(e){return e.match(x)?y.index:""},detail:function(e,t){var r=e.match(p);if(r=(r=r||e.match(l))||e.match(u)){var o=/ispg=1/.test(e),n=[],i="",a="";if(t&&(i=t.getAttribute("item_name"),a=t.getAttribute("item_cover")),!i){var c=e.match(/name=([^&#]*)/);c&&1<c.length&&c[1]&&(i=c[1])}if(!a){var s=e.match(/cover=([^&#]*)/);s&&1<s.length&&s[1]&&(a=s[1])}if(i&&n.push("name="+i),a){var d=decodeURIComponent(a);a=/^(https?:)?\/\//.test(d)?(d=d.replace(/^http:/,"https:"),/^\/\//.test(d)&&(d="https:"+d),encodeURIComponent(d)):encodeURIComponent("https:"+b.img.getScaleImg(d,350,350)),n.push("cover="+a)}return(o?y.pgitem:y.detail)+"?sku="+r[1]+(0<n.length?"&"+n.join("&"):"")}return""},myindex:function(e){return e.match(g)?y.my:""},search:function(e){var t=e.match(f);if(!t)return"";var r=(e.split("?")[1]||"").replace(/(^|[?&])key=[^&#]*/g,"").replace(/^&+/,""),o=t?y.search+"?key="+t[1]:"";return 2!=c&&4!=c||(o=t?y.pgsearch+"?key="+t[1]:""),o+(r?"&"+r:"")},cart:function(e){return e.match(w)?y.cart:""},pgitem:function(e){var t=e.match(_);return t?y.pgitem+"?sku="+t[1]:""},pgdetail:function(e){var t=e.match(v);return t?y.pgdetail+t[1]:""},gwqpage:function(e){var t=e.match(j);return t&&!t[1]?y.gwqpage:""},cpslink:function(e){return D.test(e)?y.proxy+"?spreadUrl="+encodeURIComponent(e):""},buy:function(e){var t=e.match(h);if(t){var r=[],o="";o=e.replace(h,""),(t[1]?"global"==t[1]:!!o.match(/globalbuy=/i))&&r.push("category=global");var n=o.match(/commlist=([^&]*)/i);if(n){var i=n[1].split(",");r.push("sku="+i[3]||i[0]),r.push("num="+i[2]||"1"),7<i.length&&r.push("zp="+i[7]),r.push("commlist="+n[1])}var a=o.match(/ybcommlist=([^&]*)/i);a&&r.push("ybcommlist="+a[1]);var c=o.match(/activeid=([^&]*)/i),s=o.match(/bizkey=([^&]*)/i),d=o.match(/bizval=([^&]*)/i);return c&&r.push("activeid="+c[1]),s&&r.push("bizkey="+s[1]),d&&r.push("bizval="+d[1]),y.buy+"?"+r.join("&")}return""}},isWxappEnv:function(){return o},isWxappForceApi:r,isWxapp:function(e){if(n){var t=parseInt(n,10);e&&e(t||0)}else o?e&&e(o):r(e)},goto:function(e,t){var r=e.replace(/\?.*$/,""),o=0===r.indexOf(y.index)||~r.indexOf(y.my)||~r.indexOf(y.pgmy)||~r.indexOf(y.gwqpage)||~r.indexOf(y.category)||~r.indexOf(y.carttab)?"switchTab":"navigateTo",n=function(e){for(var t=~e.indexOf("?")?"&":"?",r=["PPRD_P","__wga","__jdv","unpl","wq_addr","pinStatus","defaultHeadId","gHeadAddressId","gHeadPlanId"],o={},n=0,i=r.length;n<i;++n){var a=r[n];if("PPRD_P"==a){for(var c=[],s=["EA","CT","UUID","LOGID","GROUP","WDSTAG"],d=b.cookie.get(a)||"",m=0,p=s.length;m<p;++m){var l=s[m],u=new RegExp("(^|[~\\W])"+l+"\\.([^-]*)","i"),g=d.match(u);g&&1<g.length&&c.push(l+"."+g[2])}o[a]=c.join("-")}else o[a]=b.cookie.get(a)||""}return e+t+"cookie="+encodeURIComponent(JSON.stringify(o))+"&wdref="+encodeURIComponent(location.href)}(e);"switchTab"!=o&&(8<=k?o="redirectTo":t&&(o=t)),m&&window.jd&&window.jd.miniProgram?window.jd.miniProgram[o]({url:n}):b.wxapi&&b.wxapi.ready(function(){window.wx&&window.wx.miniProgram?window.wx&&window.wx.miniProgram&&window.wx.miniProgram[o]({url:n}):window.WeixinJSBridge&&window.WeixinJSBridge&&window.WeixinJSBridge.invoke("invokeMiniProgramAPI",{name:o,arg:{url:n}})})}}}(),b.getAppCode=function(){var e=navigator.userAgent,t="appCode",r={JX_APP:"msd1188198",JX_H5:"msc588d6d5",WX_JX_MP:"msc9ed9e31",WX_JXT_MP:"msb6d87f40",WX_JX_H5:"msd95910c4",WX_PY_MP:"msa9df5ace",WX_PP_MP:"msb08b9dfc",WX_QQG_MP:"ms06cdb4eb",WX_JX_JDMP:"msaf2a6e1e",WX_PP_JDMP:"msd1d0957f",SQ_JX_H5:"ms4da91f56",KS_JX_MP:"msea746919",JD_PP_MP:"mscab69710",JD_M:"ms0ca95114",TJ_M:"ms27cba806",TJ_APP:"ms2362fc9e"},o=function(){{if("jdpingou"==b.device.scene&&-1===e.indexOf("jdmp;"))return r.JX_APP;if(/KUAISHOU|NEBULA/i.test(e))return r.JX_KS_MP;if(/jdltapp;/.test(e))return r.TJ_APP;if(/(css|cs)\.jd\.com/.test(location.host))return r.TJ_M}}();if(o)return o;var n=b.url.getUrlParam(t)||b.cookie.get(t);if(n)return n;var i,a,c,s,d,m,p=(i=/micromessenger/i.test(e),a=/qq\/([\d\.]+)*/i.test(e),c="jdapp"===b.device.scene,s="jdm"===b.device.scene,d=b.cookie.get("wxapp_type"),m={2:r.WX_JX_MP,4:r.WX_JXT_MP,17:r.WX_PP_MP,18:r.WX_QQG_MP,34:r.WX_PY_MP},i&&1<m[d]?m[d]:c&&"17"==d?r.JD_PP_MP:i?r.WX_JX_H5:a?r.SQ_JX_H5:s?r.JD_M:r.JX_H5);return b.cookie.set(t,p,0,"/",b.getTopDomain()),p},function(){var r=b.getTopDomain();b.cookie.set("retina",b.device.retina?1:0,43200,"/",r);var e=b.device.scene,o={1:5,2:12,3:23};b.cookie.set("cid",{weixin:1,qq:2,mobile:3,jdpingou:4,jxj:6,wxwork:7,jdapp:8,jdm:9,jdjr:10,skapp:11}[e]||3,43200,"/",r),b.wxapp.isWxapp(function(e){if(e){var t=o[e]||5;b.cookie.set("cid",t,null,"/",r)}}),"wqs.jd.com"==location.host&&b.cookie.del("wq_skey","/","wqs.jd.com")}(),function(){var e=navigator.userAgent.toLowerCase(),t=b.getTopDomain();if("1"==b.cookie.get("webp"))b.device.webp=!0;else if(-1!==e.indexOf("webp/"))b.device.webp=!0,b.cookie.set("webp",1,5256e3,"/",t);else if("0"==b.cookie.get("webp"))b.device.webp=!1;else{var r=new Image,o=setTimeout(function(){r.onload=r.onerror=null,r=null},500);r.onload=function(){clearTimeout(o),b.device.webp=0<r.width&&0<r.height,b.cookie.set("webp",b.device.webp?1:0,5256e3,"/",t)},r.onerror=function(){clearTimeout(o),b.cookie.set("webp",0,5256e3,"/",t),b.device.webp=!1},r.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}}(),b.GLOBAL_CONFIG.NOW=b.url.getUrlParam("debugtime")?new Date(decodeURIComponent(b.url.getUrlParam("debugtime"))):new Date,b.cookie.get("wq_code")&&(b.cookie.get("sq_open_id")||b.cookie.get("open_id")&&b.cookie.get("wq_unionid")||b.send("//wq.jd.com/mcoss/openid/getopenid?t="+Math.random(),{onLoad:function(){setTimeout(function(){b.events.trigger("EVENT_SET_OPENID")},50)}})),function(){if("jdltapp"==b.device.scene||b.device.isMixWebView)try{window.__getJdltappAddr=function(e){try{var t=JSON.parse(e);if(console.log("__getJdltappAddr callback",t),"0"!=t.status||!t.data||"0"==t.data.provinceId)return t.data||b.cookie.set("wq_addr")||b.cookie.set("wq_addr","0|1_72_55673_0|北京市_朝阳区_六里屯街道_||",999999,"/",b.getTopDomain()),console.warn("_getJdltappAddr status:",t.status," data: ",t.data);var r=t.data,o=[];o[0]=r.addressId,o[1]=[r.provinceId,r.cityId,r.countyId,r.townId].join("_"),o[2]=[r.provinceName,r.cityName,r.countyName,r.townName].join("_"),o[3]=r.fullAddress,o[4]=[r.lat,r.lng].join(","),console.log("wq_addr:",o),b.cookie.set("wq_addr",o.join("|"),999999,"/",b.getTopDomain())}catch(e){console.warn("JSON.parse:",e)}};var e=b.device.isAndroid,t=e?"router://com.jingdong.common.ui.address.JDAddressRouterH5/getCacheAddress":"router://JDBAddressCacheManagerModule/getCacheAddress";e&&window.JDAppUnite&&window.JDAppUnite.callRouterModuleWithParams?window.JDAppUnite.callRouterModuleWithParams(JSON.stringify({routerURL:t,callBackName:"__getJdltappAddr"})):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.JDAppUnite?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:JSON.stringify({routerURL:t,callBackName:"__getJdltappAddr"})}):console.warn("window.JDAppUnite not ready!")}catch(e){console.warn("__getJdltappAddr:",e)}}();try{document.referrer&&sessionStorage.setItem("refer",document.referrer)}catch(e){}window.JD=b}(),function(t,e){t.waObjectName=e,t.wa=t.wa||function(){for(var e=0;e<arguments.length;e++)"object"==typeof arguments[e]&&(arguments[e]=JSON.parse(JSON.stringify(arguments[e])));(t.wa.q=t.wa.q||[]).push(arguments)},t.wa.l=+new Date}(window,"wa"),function(s){function e(e){if(s&&s.JD&&s.JD.device&&s._unsearch){var t=1==e?"11":"14";"weixin"==s.JD.device.scene?t=1==e?"9":"12":"qq"==s.JD.device.scene&&(t=1==e?"10":"13");try{s.jd&&s.jd.smartbox&&1==s.jd.smartbox._status?s.JD.report.umpBiz({bizid:"36",operation:t,result:"0",source:"0",message:"smartbox component loaded success("+e+")"}):s.JD.report.umpBiz({bizid:"36",operation:t,result:"1",source:"0",message:"smartbox component loaded fail("+e+")"})}catch(e){}}}if(s.closeSearchEntrance=s.GLOBAL_WXSQ_HEADERCONFIG.CLOSE_SMARTBOX,s.closeSearchEntrance_m=s.GLOBAL_WXSQ_HEADERCONFIG.CLOSE_SMARTBOX_M,s.smartboxGrayStrategy=parseInt(s.GLOBAL_WXSQ_HEADERCONFIG.SMARTBOX_GRAY||99,10),s.smartboxGrayMtoStatic=parseInt(s.GLOBAL_WXSQ_HEADERCONFIG.SMARTBOX_GRAY_M||0,10),s._staticItemLinkRate=parseInt(s.GLOBAL_WXSQ_HEADERCONFIG.STATIC_ITEM_LINK||0,10),s._staticItemLinkMRate=parseInt(s.GLOBAL_WXSQ_HEADERCONFIG.STATIC_ITEM_LINK_M||0,10),s._searchWhiteList=s.GLOBAL_WXSQ_HEADERCONFIG.SEARCH_WHITE_LIST,s.__itemGray=parseInt((JD.cookie.get("visitkey")||"0").substr(-1),10)<s._staticItemLinkRate,s.__itemMGray=parseInt((JD.cookie.get("visitkey")||"0").substr(-1),10)<s._staticItemLinkMRate,s.getItemLink=function(e,t){var r=/\/mm\//.test(e)?e:e.replace("//wq.jd.com/","//wqitem.jd.com/"),o="//wqitem.jd.com/item/view";if(parseInt(e)==e){var n=o+"?sku=";window.__itemGray&&(n="//wqs.jd.com/item/jd.shtml?sku="),r=n+e}else window.__itemGray&&(r=r.replace(o,"//wqs.jd.com/item/jd.shtml"));var i=s.JD.url.getUrlParam("sceneval");return i&&(r=s.JD.url.addUrlParam(r,{sceneval:i})),t&&(r=s.JD.url.addUrlParam(r,{ptag:t})),r},s.getMItemLink=function(e,t){var r="";if(parseInt(e)==e)r=window.__itemMGray?"//wqs.jd.com/item/jd.shtml?sku="+e:"//item.m.jd.com/product/"+e+".html";else{if(/\/\/(?:wq|wqs|wqitem|wqmitem)\.jd\.com\//.test(r=e)){var o=s.JD.url.getUrlParam("sku",r);r=r.replace(/\/\/(?:wq|wqs|wqitem|wqmitem)\.jd\.com.*sku=\d+\&?/,"//item.m.jd.com/product/"+o+".html?")}if(window.__itemMGray){var n=r.match(/\/(\d+)\./);n&&0<n.length&&(r="//wqs.jd.com/item/jd.shtml?sku="+n[1]),r=s.JD.url.addUrlParam(r,{sceneval:"2"})}}if(r&&!window.__itemMGray){var i=s.JD.url.getUrlParam("sid",r),a=s.JD.url.getUrlParam("sf",r);i||(r=s.JD.url.addUrlParam(r,{sid:s.JD.cookie.get("sid")})),a||(r=s.JD.url.addUrlParam(r,{sf:"newM"}))}var c=s.JD.url.getUrlParam("sceneval");return c&&(r=s.JD.url.addUrlParam(r,{sceneval:c})),t&&(r=s.JD.url.addUrlParam(r,{ptag:t})),r},window.setTimeout(function(){e(1)},2e3),window.setTimeout(function(){e(2)},5e3),s.closeSearchEntrance){var t=document.querySelector(".mod_searchbar");t&&(t.style.display="none")}var r;!s._unsearch||s._unsearch.customSearchBar||/\/\/(?:wqs?(?:ou)?\.jd\.com|m\.jingxi\.com)\/(?:search\/|searchv3\/jxpage)/.test(location.href)||(r="//wq.360buyimg.com/js/common/dest/wq.headsearchbar.min.js?t="+(window.GLOBAL_WXSQ_HEADERCONFIG?window.GLOBAL_WXSQ_HEADERCONFIG.SMARTBOX:"201903201038"),s.JD&&s.JD.sendJs(r))}(window),function(k){var i,a,e,n,c,t,j={},d="",s=!1,m=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function J(e){var t,r,o,n,i,a,c;for(a=e.length,i=0,c="";i<a;){for(;t=m[255&e.charCodeAt(i++)],i<a&&-1==t;);if(-1==t)break;for(;r=m[255&e.charCodeAt(i++)],i<a&&-1==r;);if(-1==r)break;c+=String.fromCharCode(t<<2|(48&r)>>4);do{if(61==(o=255&e.charCodeAt(i++)))return c;o=m[o]}while(i<a&&-1==o);if(-1==o)break;c+=String.fromCharCode((15&r)<<4|(60&o)>>2);do{if(61==(n=255&e.charCodeAt(i++)))return c;n=m[n]}while(i<a&&-1==n);if(-1==n)break;c+=String.fromCharCode((3&o)<<6|n)}return c}if(k.JD&&k.JD.wxapp&&0<k.JD.wxapp.getWxappType())k.JD.wxapp.isWxapp(function(e){if(e)try{!function(){var t={PPRD_P:4320,visitkey:518400,__wga:259200,__jdv:1440,__jda:1440,unpl:1440,wq_addr:999999,wxapp_type:0,wxapp_openid:518400,wxapp_version:518400,pinStatus:4320,appkey:0,customerinfo:0,source:0,buildtime:518400,share_cpin:43200,share_open_id:43200,share_gpin:43200,channel:43200,erp:43200,source_module:43200,defaultHeadId:43200,gHeadAddressId:43200,gHeadPlanId:43200,gSId:43200,gDSId:43200};window.GLOBAL_WXSQ_HEADERCONFIG&&window.GLOBAL_WXSQ_HEADERCONFIG.WXAPPCOOKIESYNCS&&window.GLOBAL_WXSQ_HEADERCONFIG.WXAPPCOOKIESYNCS.forEach(function(e){t[e.keyName]=e.duration});var e=JD.wxapp.getWxappType(),r=JD.url.getHashParam("cookie");r=r||JD.url.getUrlParam("cookie");var o=JD.url.getHash()||"",n="",i=o.match(/sens=([^&#]*)/gi);if(i&&0<i.length){var a=i[i.length-1].match(/sens=([^&#]*)/i);a&&1<a.length&&(n=a[1])}if(n||(n=JD.url.getUrlParam("sens")),(r||n)&&k.JSON){var c={},s={};try{c=k.JSON.parse(decodeURIComponent(r))}catch(e){c={}}try{s=k.JSON.parse(decodeURIComponent(n))}catch(e){s={}}!function(e,t){e=e||{},t=t||{};for(var r in t)e[r]=t[r]}(c,s);var d={},m=c.nip||"";for(var p in m&&delete c.nip,c){var l=c[p];switch(p){case"md5_pin":var u=k.JD.cookie.get("pin")||k.JD.cookie.get("jdpin")||"",g=decodeURIComponent(J(m));if(u&&k.JD.md5.getHash(u)!==l){var f=k.JD.getTopDomain();k.JD.cookie.del("wq_skey","/",f),k.JD.cookie.del("wq_auth_token","/",f),k.JD.cookie.del("wid","/",f),k.JD.cookie.del("wq_uin","/",f),k.JD.cookie.del("pin","/",f),k.JD.cookie.del("jdpin","/",f),m&&k.JD.md5.getHash(g)===l&&k.JD.cookie.set("pin",g,43200,"/",k.JD.getTopDomain())}else!u&&m&&k.JD.md5.getHash(g)===l&&k.JD.cookie.set("pin",g,43200,"/",k.JD.getTopDomain());break;case"PPRD_P":var w=k.JD.cookie.get("PPRD_P")||"";w=b("EA",l,w),w=b("CT",l,w),w=b("UUID",l,w),w=b("LOGID",l,w),w=b("GROUP",l,w),w=b("WDSTAG",l,w),k.JD.cookie.set(p,w,0===t[p]?null:t[p]||1440,"/",k.JD.getTopDomain()),d[p]=w;break;default:k.JD.cookie.set(p,l,0===t[p]?null:t[p]||1440,"/",k.JD.getTopDomain()),d[p]=l}}k.SYNCH_COOKIE&&k.SYNCH_COOKIE(d)}if(k.JD.url.getUrlParam("wxapp_type")){var h=k.JD.url.getUrlParam("headRD"),_=k.JD.url.getUrlParam("headLocRD"),v=k.JD.url.getUrlParam("headPlanRD");e&&k.JD.cookie.set("wxapp_type",e,0,"/",k.JD.getTopDomain()),k.JD.cookie.set("defaultHeadId",h,43200,"/",k.JD.getTopDomain()),k.JD.cookie.set("gHeadAddressId",_,43200,"/",k.JD.getTopDomain()),k.JD.cookie.set("gHeadPlanId",v,43200,"/",k.JD.getTopDomain()),k.SYNCH_COOKIE&&k.SYNCH_COOKIE({defaultHeadId:h,gHeadAddressId:_,gHeadPlanId:v})}k.JD.getAppCode();var j=JD.url.getHashParam("wxappSeries");if(j||(j=JD.url.getUrlParam("wxappSeries")),j&&k.JSON){var x={};try{x=k.JSON.parse(decodeURIComponent(j))}catch(e){x={}}x.uuid&&k.JD.cookie.set("wxapp_uuid",x.uuid,525600,"/",k.JD.getTopDomain())}var D=JD.url.getHashParam("wdref");if(D||(D=JD.url.getUrlParam("wdref")),D)try{window.sessionStorage.setItem("refer",decodeURIComponent(D))}catch(e){console.log("setItem fail")}if(r){var y=location.href.replace(/\&?(cookie|sens|wdref|wxa_level)=[^&#]*/gi,"").replace(/[#&]+$/,"");try{y=JD.url.addUrlParam(y,{cookie:encodeURIComponent(JSON.stringify({wxapp_type:e}))})}catch(e){console.log("readd curUrl cookie fail")}history.replaceState(null,null,y)}}(),e<3&&(d=!(s=!0),t=document.body||document,m=0,t.addEventListener("touchstart",function(e){d=!0},!0),t.addEventListener("touchmove",function(e){d=!1},!0),t.addEventListener("touchend",function(e){if(d){var t=f(e.target),r=t?g(t,!0):"",o="",n="";if(r){var i=l(r,JD.wxapp.getWxappType(),t);if(i&&(n=i.url||"",o=i.type||""),n)n=w(r,n),s&&(s=!1,window.setTimeout(function(){s=!0},500),t.setAttribute("bingowxa",!0),/^(https?:)?\/\//.test(r)&&1==JD.url.getUrlParam("nowxa",r)?p(function(e){"0"===JD.url.getUrlParam("showFootNav")?wx.miniProgram.navigateTo({url:"/pages/h5/index?encode_url="+encodeURIComponent(e||r)}):location.href=e||r},e,t,r):p(function(e){JD.wxapp.goto(e||n,o)},e,t,n)),e.preventDefault();else if("0"===JD.url.getUrlParam("showFootNav")&&window.wx&&wx.miniProgram){var a=JD.url.removeUrlParam("nativeConfig",r),c=(new Date).getTime();1e3<=c-m&&(m=c,/^https?/.test(a)||(a="https:"+a),console.info("navigateTo targetUrl:",a),t.setAttribute("bingowxa",!0),p(function(e){wx.miniProgram.navigateTo({url:"/pages/h5/index?encode_url="+encodeURIComponent(e||a)})},e,t,a)),e.preventDefault()}else window._jx_before_jump_handler_&&(e.preventDefault(),p(function(e){location.href=e||r},e,t,r))}}},!0),r())}catch(e){}var s,d,t,m});else if(k.JD&&k.JD.device&&"jdpingou"==k.JD.device.scene)try{a=!(i=!0),(e=document.body||document).addEventListener("touchstart",function(e){a=!0},!0),e.addEventListener("touchmove",function(e){a=!1},!0),e.addEventListener("touchend",function(e){if(a){var t=f(e.target),r=t?g(t,!1):"";if(r){function o(e){if("0"===JD.url.getUrlParam("showFootNav")&&window.PGJsSdk&&window.PGJsSdk.jumpTo){var t={url:e};window.PGJsSdk.jumpTo(JSON.stringify(t))}else window.location.href=e}var n=function(e){var t=/(?:https?:)?\/\/(?:(?:(?:wq(?:m?item)?\.jd\.(?:com)|(?:m\.jingxi\.com))\/m?item\/view)|(?:wqs\.jd\.com\/item\/jd\.shtml))[^?]*/i,r="",o="",n=/(?:https?:)?\/\/(?:item\.m\.jd|m\.jingxi)\.com\/item\/jxview[^?]*/i.test(e),i="https://item.m.jd.com/item/jxview";if(t.test(e))r=e.replace(t,i);else{var a=e.match(/(?:https?:)?\/\/(?:(?:item\.jd\.com\/|(?:(?:m?item(?:\.m)?\.(?:jd|paipai)\.(?:com)|(?:m|mitem)\.(?:yiyaojd|jkcsjd)\.com)\/product\/)))(\d+)\.html/i);if(a=a||e.match(/(?:https?:)?\/\/(?:m?item(?:\.m)?\.(?:jd|jkcsjd)\.(?:com|hk)\/ware\/view\.action).*[?&]wareId=(\d+)/i)){var c=e.replace(/^[^?]*\??/i,"").replace(/[?&]?sku=\d*/gi,"");c&&0!=c.indexOf("&")&&(c="&"+c),r=i+"?sku="+a[1]+c,o=a[1]}}if((r||n)&&(o=o||JD.url.getUrlParam("sku",e))&&d&&-1!=d.indexOf("|"+o+"|")&&(r=e,n)){var s=e.replace(/^[^?]*\??/i,"").replace(/[?&]?sku=\d*/gi,"").replace(/^&/,"");return"https://item.m.jd.com/product/"+o+".html"+(s?"?"+s:"")}return""}(r);n?(i&&(i=!1,window.setTimeout(function(){i=!0},500),p(function(e){o(e||n)},e,t,n)),e.preventDefault()):window._jx_before_jump_handler_&&(e.preventDefault(),p(function(e){o(e||r)},e,t,r))}}},!0),window.showPageData36978=function(e){e.data&&0<e.data.length&&(d="|"+e.data[0].skus+"|")},JD.sendJs("//wq.360buyimg.com/data/ppms/js/ppms.pagev36978.jsonp")}catch(e){}if("jdltapp"==k.JD.device.scene)try{c=!(n=!0),(t=document.body||document).addEventListener("touchstart",function(e){c=!0},!0),t.addEventListener("touchmove",function(e){c=!1},!0),t.addEventListener("touchend",function(e){if(c){var t=f(e.target),r=t?g(t,!1):"";if(r){var o=function(e){var t="",r=e.match(/(?:https?:)?\/\/(?:(?:(?:wq(?:m?item)?\.jd\.(?:com|hk)|(?:m\.jingxi\.com))\/m?item\/view)|(?:wqs\.jd\.com\/item\/jd\.shtml)|(?:item\.m\.jd\.com\/item\/jxview)).*[?&]sku=(\d+)/i);if(r||(r=e.match(/(?:https?:)?\/\/(?:(?:item\.jd\.com\/|(?:(?:m?item(?:\.m)?\.(?:jd|paipai)\.(?:com|hk)|(?:m|mitem)\.(?:yiyaojd|jkcsjd)\.com)\/product\/)))(\d+)\.html/i)),r=r||e.match(/(?:https?:)?\/\/(?:m?item(?:\.m)?\.(?:jd|jkcsjd)\.(?:com|hk)\/ware\/view\.action).*[?&]wareId=(\d+)/i),r&&r[1]){var o=e.replace(/^[^?]*\??/i,"").replace(/[?&]?sku=\d*/gi,"");o&&0!=o.indexOf("&")&&(o="&"+o),t=r[1]}return t}(r);o?(n&&(n=!1,window.setTimeout(function(){n=!0},500),p(function(){!function(e){var t="openLtappIframeId",r="openjdlite://virtual?params="+encodeURIComponent('{"category":"jump","des":"productDetail","skuId":"'+e+'"}');if(s)document.querySelector("#"+t).src=r;else{var o=document.createElement("iframe");o.id=t,o.src=r,document.body.appendChild(o),document.getElementById(t).style.display="none",document.getElementById(t).style.width="0px",document.getElementById(t).style.height="0px",s=!0}}(o)},e,t)),e.preventDefault()):window._jx_before_jump_handler_&&(e.preventDefault(),p(function(e){location.href=e||r},e,t,r))}}},!0)}catch(e){}function b(e,t,r){var o=new RegExp("(^|[~\\W])"+e+"\\.([^-]*)","i"),n=t.match(o),i=r.match(o);return i&&0<i.length?r=n&&1<n.length?r.replace(o,"$1"+e+"."+n[2]):r.replace(o,""):n&&1<n.length&&(r+=(r?"-":"")+e+"."+n[2]),r}function p(t,e,r,o){var n=!1;window._jx_before_jump_handler_?(window._jx_before_jump_handler_(e,r,function(e){n||(n=!0,t(e))},o),setTimeout(function(){n||(n=!0,t(o))},1200)):(n=!0,t(o))}function l(e,t,r){var o="",n="",i=0==(t=t||JD.wxapp.getWxappType())?"1":t;if(i<2&&(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=JD.wxapp.transform.detail(e,r))||JD.wxapp.transform.index(e))||JD.wxapp.transform.myindex(e))||JD.wxapp.transform.search(e))||JD.wxapp.transform.cart(e))||JD.wxapp.transform.buy(e))||JD.wxapp.transform.pgitem(e))||JD.wxapp.transform.pgdetail(e))||JD.wxapp.transform.gwqpage(e))||JD.wxapp.transform.cpslink(e)),!n){var a=function(e,t){t=t||JD.wxapp.getWxappType();for(var r=j[0==t?"1":t]||[],o=r.length,n=0;n<o;++n){var i=r[n],a=null;a=1==i.regmatch?new RegExp(i.url.replace(/\\\\/g,"\\")):new RegExp(i.url.replace(/([\\\.\*\?\+\^\$\-\[\]\(\)\{\}])/g,"\\$1"));var c=e.match(a);if(c){var s=~i.wxappurl.indexOf("?")?"&":"?",d=[];if(i.params)for(var m=i.params.split("|"),p=0,l=m.length;p<l;++p){var u=m[p];if(/=/.test(u)){h=u.split("=");var g=parseInt(h[1].replace(/^\$/,"")||"0",10);0<g&&d.push(h[0]+"="+c[g])}else{var f=u,w=u,h=u.split(":");1<h.length&&(f=h[0],w=h[1]);var _=new RegExp("[?&]"+f+"=([^&#]*)"),v=e.match(_);v&&d.push(w+"="+v[1])}}return{url:i.wxappurl+(0<d.length?s+d.join("&"):""),jtype:i.jumptype}}}return""}(e,i);a&&(n=a.url||"",o=a.jtype||"")}return!n&&/^\/?pages\//.test(e)&&/^pages/.test(n=e)&&(n="/"+n),{url:n,type:o}}var u=["data-href","data-href-self","data-url","data-tourl","tourl","target_href","target","link"];function g(e,t){var r="",o="",n="a"==e.tagName.toLowerCase();if(n&&e.href&&!/^javascript/i.test(e.href))r=e.href,o="href";else for(var i=0,a=u.length;i<a;++i){var c=u[i];if((!n||"target"!=c)&&(r=e.getAttribute(c))){o=c;break}}if(r&&t)try{!function(e,t,r){if(!t)return;if(!/\/\/(?:pro(?:dev)?\.m\.jd\.com|h5\.m\.jd\.com|h5static\.m\.jd\.com)\//.test(r)&&!/\/\/(?:sale\.jd\.com)\/(?:act|wq|m|app)\//.test(r))return;/\/\/(?:pro(?:dev)?\.m\.jd\.com)\/(?:wq|mall)\//.test(r)&&(r=r.replace(/\/(?:wq|mall)\//,"/mini/"));var o=r.split("#"),n=o[0],i=1<o.length?o[1]:"",a=~r.indexOf("?")?"&":"?";n+=a+"wxAppName=jd"+(i?"#"+i:""),"href"==t?e.href=n:e.setAttribute(t,n)}(e,o,r)}catch(e){}return r}function f(e){for(var t=0;e&&e.tagName&&t<10;){if(e.getAttribute("nowxa"))return null;if("a"==e.tagName.toLowerCase()&&e.href&&!/^javascript/i.test(e.href))return e;for(var r=0,o=u.length;r<o;++r){var n=u[r];if(e.getAttribute(n))return e}e=e.parentNode,t++}return null}function r(t,r){var e=0==(t=t||JD.wxapp.getWxappType())?"1":t,o={1:"34020",2:"34022",4:"34022",3:"34274",17:"tfh5rgjqyv7mqvskslqwi"};o[e]&&(j[t]?r&&r():(window["showPageData"+o[e]]=function(e){e.data&&0<e.data.length?j[t]=e.data:j[t]=[],r&&r()},JD.sendJs("//wq.360buyimg.com/data/ppms/js/ppms.pagev"+o[e]+".jsonp")))}function w(e,t){for(var r=t,o=["ptag","pps"],n=0,i=o.length;n<i;++n){var a=o[n],c=new RegExp("[?&]"+a+"=","i");if(!c.test(t)&&c.test(e)){var s=new RegExp("[?&]"+a+"=([^&#]*)","i"),d=e.match(s),m=~r.indexOf("?")?"&":"?";d&&1<d.length&&(r+=m+a+"="+d[1])}}return r}k.JD.wxapp.transformUrl=function(e,n){e.wxappType||(e.wxappType=JD.wxapp.getWxappType());var i=0==e.wxappType?"1":e.wxappType,a=e.url;r(i,function(){var e=1,t="",r="",o=l(a,i);o&&(r=o.url||"",t=o.type||""),r&&(r=w(a,r),e=0),n&&n(e,r||a,t)})}}(window),function(i){var e,t,r,o,n,p=["QWYOREUOCDSIOHF)#U*HF&!(&)(H)RH)%","HWYOREF)#U*Q)(H)RCDSHF&!(&)%UOIOH"];try{var a=(e=i.location.href.replace(i.location.hash,""),t=document.cookie.match(/visitkey=([^;]*)/),r=t&&t[1]?t[1]:"",o=i.navigator.userAgent,function(e){if(i.btoa)return i.btoa(e);for(var t,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),o=[],n=0;n<e.length;n+=3)3===(t=e.substr(n,3).split("").map(function(e){return e.charCodeAt()})).length?o.push(r[63&t[0]>>>2],r[63&(t[0]<<4|t[1]>>>4)],r[63&(t[1]<<2|t[2]>>>6)],r[63&t[2]]):2===t.length?o.push(r[63&t[0]>>>2],r[63&(t[0]<<4|t[1]>>>4)],r[63&t[1]<<2],"="):1===t.length&&o.push(r[63&t[0]>>>2],r[63&t[0]<<4],"=","=");return o.join("")}(function(e,t,r){for(var o="",n=0,i=0;i<t.pick.length;i++){var a=t.pick[i];n+=Math.pow(2,a),o+=e[a]}o+=p[parseInt(r)-1];for(var c=t.divisor,s=t.remainder,d=[r,n.toString().length,n,c,s],m=s;m<o.length;m+=c)d.push(o[m]);return d.join("")}(n=[e,e.length,r,o,o.length,"23FrfsYf274dafnUfa-2-4B24534K21V"],function(e){for(var t=[],r=0;r<e;r++)t.push(r);var o=Math.floor(10*Math.random());return o<5&&(o+=5),{pick:t,divisor:o,remainder:Math.floor(Math.random()*o)%o}}(n.length),"01")));i.JD&&i.JD.cookie&&i.JD.cookie.set("wqmnx1",a,60,"/",i.JD.getTopDomain())}catch(e){console.log("js token err")}}(window),function(r){r.JD&&r.JD.wxapp&&r.JD.wxapp.isWxapp(function(e){if(e){var t=r.JD&&r.JD.url&&r.JD.url.getUrlParam("__appid__");t&&r.JD&&r.JD.store.setItem("mpp-appid",t,86400,function(){},"wqs.jd.com",!0)}})}(window),function(o){var e=location.host.match(/[^\.]+\.com/);if("jd.com"==(e=e?e[0]:location.host))var t="jingxi.com";else t="jd.com";var r=[],n=!1,i=!1;function a(){"complete"==document.readyState&&c()}function c(){if(!o.GLOBAL_SYN_COOKIE_NOUSE&&!o.JD.url.getUrlParam("_noasync_cookie")){var r=location.host.match(/[^\.]+\.com/);r=r?r[0]:location.host,o.JD&&o.JD.wxapp&&o.JD.wxapp.isWxapp(function(e){if(!e&&"jdjr"!=o.JD.device.scene){var t=document.createElement("iframe");t.src="//"+("jingxi.com"==r?"wqs.jd.com":"st.jingxi.com")+"/_async_cookie.html?_t=1&_fromiframe=1",t.id="_syniframe",t.style.cssText="width: 1px; height: 1px; opacity: 0;position: absolute;left: -100px;",document.body.appendChild(t)}})}}function s(e){if(e instanceof Array){var r={};e.forEach(function(e){for(var t in e)r[t]=e[t]}),e=r}if(i&&/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(navigator.userAgent))if(-1==location.href.indexOf("_gotcookie_"))if(/safari/i.test(navigator.userAgent)){var t=navigator.userAgent.match(/iPhone OS\s*(\d+_\d+)/);t&&2<=t[1].split("_").length?(t=t[1].split("_"),(!/^\d+$/.test(t[0])||!/^\d+$/.test(t[1])||0<t[0]-13||t[0]-13==0&&0<=t[1]-4?d:m)(e)):d(e)}else m(e);else d(e);else d(e)}function d(e){document.getElementById("_syniframe")&&document.getElementById("_syniframe").contentWindow.postMessage(e,"*")}function m(e){setTimeout(function(){location.replace("//"+("jd.com"==t?"wqs.jd.com":"st.jingxi.com")+"/_jumpcookie.html?_t="+Math.random()+"&ascookie="+encodeURIComponent(JSON.stringify(e))+"&realrefer="+encodeURIComponent(document.referrer))},0)}"complete"==document.readyState?c():(document.removeEventListener("readystatechange",a),document.addEventListener("readystatechange",a)),o.addEventListener("message",function(e){e&&e.data&&void 0!==e.data.nocookie&&(n=!0,e&&e.data&&e.data.nocookie&&(i=e.data.nocookie),r&&r.length&&s(r))}),o.SYNCH_COOKIE=function(e){if(n)try{s(e)}catch(e){console.log(e)}else r.push(e)}}(window),window._unsearch&&window.JD&&JD.sendJs("//wq.360buyimg.com/js/common/dest/wq.unitySearchbar.min.js?t="+(window.GLOBAL_WXSQ_HEADERCONFIG?window.GLOBAL_WXSQ_HEADERCONFIG.SMARTBOX:"2020082014000")),function(){var e=JD.url.getUrlParam("from"),t=JD.url.getUrlParam("utm_campaign"),r=document.referrer,o=window.JD.cookie.get("__jdv"),n="",i=[],a=(window.HIDE_DOWNLOAD_GUIDER_IN_CPS||[])[0]||{};if(a.unionid&&(i=a.unionid.replace(/\s/g,"").split(",")),"cps"===e&&t)(d=t.match(/^t_(\d+)_?/))&&d[1]&&(n=d[1]);else if(/jingfen\.jd\.com/.test(r)&&o)for(var c=o.split("|"),s=0;s<c.length;s++){var d;if(c[s])(d=c[s].match(/^t_(\d+)_?/))&&d[1]&&(n=d[1])}n&&0<=i.indexOf(n)&&JD.cookie.set("isCPS","1",30,"/",window.JD.getTopDomain())}(),function(s){s.jxsid_sync_load=!1;var d={visitkey:5184e3,__wga:518400,PPRD_P:4320,__jdv:4320,__jdb:4320,__jda:5184e3,__jxjda:5184e3,_mkjdcn:4320,_mjds:4320,_mjdcl:4320,_mkjdcnsl:4320,unpl:4320,jxsid_s_u:1440,jxsid_s_t:1440,isCPS:30,wq_skey:43200,wq_uin:43200,wxapp_type:0,wq_addr:43200},m={unpl:1,_mkjdcn:1,_mjds:1,_mjdcl:1,_mkjdcnsl:1},p=document.domain.split(".").slice(-2).join("."),n=document.referrer||"",i=JD.url.getUrlParam("sid_tkn")||"",e=Number(s.GLOBAL_WXSQ_HEADERCONFIG.jxsidSyncGray)||0,t=JD.cookie.get("visitkey"),l=a(p)&&(100<=e||0<e&&t&&t%100<e);function a(e){return"jingxi.com"==e||"jd.com"==e}function r(){try{if(!l)return;var e=JD.jxsid.get()||"";if(!n&&i&&e)c(e,i);else if(n){var t=/^http(s)?\:\/\/wq\.jd\.com\/wxapp\/pages\/h5\/index$/i.test(n),r=(JD.url.parseUrl(n).host||"").split(".").slice(-2).join("."),o=a(r);e&&o&&p!=r&&!t&&c(e,"")}}catch(e){JD.report.umpBiz({bizid:318,operation:25,result:1,source:0,message:e})}}function c(e,t){s.jxsid_sync_load=!0;var r="jxsidCallback";window[r]=function(e){e&&(0===e.errcode?function(e){if(e){var t=JD.cookie.get("jxsid_s_t")||0;if(-1==e.jxsid_s_t||Number(e.jxsid_s_t)>Number(t)){-1==e.jxsid_s_t&&(e.jxsid_s_t=(new Date).getTime());var r="jingxi.com"==e.ky;for(var o in e){var n=m[o]&&r;e.hasOwnProperty(o)&&!n&&d.hasOwnProperty(o)&&e[o]&&(r&&"__jda"==o&&"jd.com"==p?JD.cookie.set("__jx__jda",e[o],d[o],"/",p):("__jxjda"!=o||r&&"jd.com"==p)&&JD.cookie.set(o,e[o],d[o],"/",p))}}else JD.report.umpBiz({bizid:318,operation:22,result:1,source:0,message:"校验不通过"});var i=document.referrer.split("?")[0]||"";e.jxsid_s_u!=i&&JD.report.umpBiz({bizid:318,operation:24,result:1,source:0,message:e.jxsid_s_u+"_"+i})}}(e.data):100<e.errcode&&e.errcode<1e3&&JD.report.umpBiz({bizid:318,operation:23,result:1,source:0,message:e.errcode})),o()},JD.sendJs(JD.url.getColorUrl()+"?functionId=crosssitesync.download&appid=jx_jxpp_h5&client="+("jdpingou"==JD.device.scene?"jxapp":"jxh5")+"&loginType="+("weixin"==JD.device.scene?11:"qq"==JD.device.scene?13:2)+"&clientVersion=1.2.5&body="+JSON.stringify({jxsid:e,sid_tkn:t,callback:r})+"&t="+String(Math.random()).substr(2,7),{defer:!0,async:!0,onLoad:function(){JD.report.umpBiz({bizid:318,operation:21,result:0,source:0,message:""})},onError:function(){o(),JD.report.umpBiz({bizid:318,operation:21,result:1,source:0,message:""})}})}function o(){!function(){if("jd.com"!=p)return;var e=JD.cookie.get("__jx__jda"),t=JD.cookie.get("__jda");if(t&&e){var r=t.split("."),o=e.split(".");6==r.length&&6==o.length&&r[1]==o[1]&&Number(o[4])>Number(r[4])&&JD.cookie.set("__jda",e,d.__jda,"/",p)}else!t&&e&&JD.cookie.set("__jda",e,d.__jda,"/",p);JD.cookie.set("__jx__jda","",-1,"/",p)}(),JD.jxsid.reset(),s.__waReportLoad&&s.__waReportLoad(),s.__unifyReportLoad&&s.__unifyReportLoad(),s.jxsid_sync_load=!1,JD.events.trigger("jxsid_sync_ready")}r(),s.$jxSidSync={getJxSidCache:r,syncCookie:function(){var e;if(l)try{var t=(new Date).getTime(),r=location.protocol+"//"+location.host+location.pathname;if(JD.cookie.set("jxsid_s_t",t,1440,"/",p),JD.cookie.set("jxsid_s_u",r,1440,"/",p),e=JD.md5.getHash(JD.cookie.get("visitkey")+JD.cookie.get("__jda")+JD.cookie.get("jxsid_s_t")),JD.sendJs(JD.url.getColorUrl()+"?functionId=crosssitesync.upload&appid=jx_jxpp_h5&client="+("jdpingou"==JD.device.scene?"jxapp":"jxh5")+"&loginType="+("weixin"==JD.device.scene?11:"qq"==JD.device.scene?13:2)+"&clientVersion=1.2.5&body="+JSON.stringify({jxsid:JD.jxsid.get(),mdcheck:e})+"&t="+String(Math.random()).substr(2,7),{defer:!0,async:!0}),s.SYNCH_COOKIE){var o={};for(var n in d){var i="jingxi.com"==p,a=m[n]&&i;if(d.hasOwnProperty(n)&&!a){var c=JD.cookie.get(n);c&&(i&&"__jda"==n?o.__jx__jda=c:"__jxjda"==n&&!i||(o[n]=c))}}s.SYNCH_COOKIE(o)}}catch(e){JD.report.umpBiz({bizid:318,operation:26,result:1,source:0,message:e})}}}}(window),function(){var e=JD.cookie.get("visitkey"),t=JD.getTopDomain();if(!e){window.headLoadPPVisitKey=function(e){e&&e.visitkey&&JD.cookie.set("visitkey",e.visitkey,5256e4,"/",t)};var r="jingxi.com"==t,o="//"+(r?"api.jingxi.com":"api.m.jd.com")+"/api?functionId=crosssitesync.syncvisitkey&appid=jx_jxpp_h5&client=jxapp&loginType="+JD.url.getLoginType()+"&clientVersion=1.2.5&body="+encodeURIComponent(JSON.stringify({from_domain:r?"jingxi.com":"jd.com",callback:"headLoadPPVisitKey"}))+"&cthr=1&_th="+Math.random();JD.sendJs(o,{onLoad:function(){JD.report.umpBiz({bizid:318,operation:36,result:0,source:0,message:""})},onError:function(){JD.report.umpBiz({bizid:318,operation:36,result:1,source:0,message:""})}})}}(),function(e){var m=["K","L","M","N","O","P","Q","R","S","T","A","B","C","D","E","F","G","H","I","J","U","V","W","X","Y","Z","a","b","c","d","o","p","q","r","s","t","u","v","w","x","e","f","g","h","i","j","k","l","m","n","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],p=l(128,void 0);function l(e,t){for(var r=[],o=0;o<e;++o)r[o]=t;return r}function t(e){var t=[],r=u(e),o=l(r.length,0);!function(){for(var e=0,t=m.length-1;e<=t;++e)p[e]=-1;for(e=0,t=m.length-1;e<=t;++e)p[m[e].charCodeAt(0)]=e}();var n=0;for(n=0;n<=r.length-1;++n){var i=r[n];o[n]=p[i]}for(n=0;n<=o.length-1;n+=4){var a=l(3,0),c=0,s=0;for(s=0;s<=2;++s)if(n+s+1<=o.length-1&&0<=o[n+s+1]){var d=(255&o[n+s+1])>>>2+2*(2-(s+1));a[s]=(255&o[n+s])<<2+2*s&255|d,++c}for(s=0;s<=c-1;++s)t.push(a[s])}return function(e){if("string"==typeof e)return e;for(var t="",r=e,o=0,n=r.length;o<n;o++){var i=r[o].toString(2),a=i.match(/^1+?(?=0)/);if(a&&8==i.length){for(var c=a[0].length,s=r[o].toString(2).slice(7-c),d=1;d<c;d++)s+=r[d+o].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),o+=c-1}else t+=String.fromCharCode(r[o])}return t}(t)}function u(e){for(var t=[],r=0,o=e?e.length:0,n=0;n<o;n++)65536<=(r=e.charCodeAt(n))&&r<=1114111?(t.push(r>>18&7|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(63&r|128)):2048<=r&&r<=65535?(t.push(r>>12&15|224),t.push(r>>6&63|128),t.push(63&r|128)):128<=r&&r<=2047?(t.push(r>>6&31|192),t.push(63&r|128)):t.push(255&r);return t}if(e.JD){var r={};window.GLOBAL_WXSQ_HEADERCONFIG&&window.GLOBAL_WXSQ_HEADERCONFIG.MBASE64COOKIESWL&&window.GLOBAL_WXSQ_HEADERCONFIG.MBASE64COOKIESWL.forEach(function(e){r[e.keyName]=e.tarName||e.keyName}),e.JD.mBase64={isInWhitelist:function(e){return r[e]},isInBlacklist:function(e){var t=!1;if(window.PGJsSdk&&window.PGJsSdk.getBlackCookieList)try{for(var r=window.PGJsSdk.getBlackCookieList(),o=JSON.parse(r),n=0,i=o.length;n<i;++n)if(o[n]===e){t=!0;break}}catch(e){}return t},encode:function(e){return function(e){for(var t=[],r=u(e),o=0;o<=r.length-1;o+=3){var n,i=l(4,0),a=0;for(n=0;n<=2;++n)a=o+n<=r.length-1?(i[n]=(255&r[o+n])>>>2+2*n|a,((255&r[o+n])<<2+2*(2-n)&255)>>>2):(i[n]=a,64);for(i[3]=a,n=0;n<=3;++n)i[n]<=63?t.push(m[i[n]]):t.push("=")}return t.join("")}(e)},decode:function(e){return t(e)}}}}(window);