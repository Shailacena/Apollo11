!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).jmfe={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n=function(e){return e&&e.Math===Math&&e},o=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i=function(e){try{return!!e()}catch(e){return!0}},a=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),c=a,s=Function.prototype,u=s.apply,l=s.call,f="object"==typeof Reflect&&Reflect.apply||(c?l.bind(u):function(){return l.apply(u,arguments)}),d=a,p=Function.prototype,h=p.call,v=d&&p.bind.bind(h,h),m=d?v:function(e){return function(){return h.apply(e,arguments)}},g=m,y=g({}.toString),w=g("".slice),b=function(e){return w(y(e),8,-1)},S=b,k=m,A=function(e){if("Function"===S(e))return k(e)},T="object"==typeof document&&document.all,j=void 0===T&&void 0!==T?function(e){return"function"==typeof e||e===T}:function(e){return"function"==typeof e},O={},I=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),_=a,R=Function.prototype.call,C=_?R.bind(R):function(){return R.apply(R,arguments)},P={},E={}.propertyIsEnumerable,N=Object.getOwnPropertyDescriptor,x=N&&!E.call({1:2},1);P.f=x?function(e){var t=N(this,e);return!!t&&t.enumerable}:E;var U,J,D=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},M=i,B=b,L=Object,q=m("".split),H=M((function(){return!L("z").propertyIsEnumerable(0)}))?function(e){return"String"===B(e)?q(e,""):L(e)}:L,F=function(e){return null==e},W=F,V=TypeError,X=function(e){if(W(e))throw new V("Can't call method on "+e);return e},z=H,G=X,K=function(e){return z(G(e))},Q=j,Y=function(e){return"object"==typeof e?null!==e:Q(e)},Z={},ee=Z,te=o,re=j,ne=function(e){return re(e)?e:void 0},oe=function(e,t){return arguments.length<2?ne(ee[e])||ne(te[e]):ee[e]&&ee[e][t]||te[e]&&te[e][t]},ie=m({}.isPrototypeOf),ae="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ce=o,se=ae,ue=ce.process,le=ce.Deno,fe=ue&&ue.versions||le&&le.version,de=fe&&fe.v8;de&&(J=(U=de.split("."))[0]>0&&U[0]<4?1:+(U[0]+U[1])),!J&&se&&(!(U=se.match(/Edge\/(\d+)/))||U[1]>=74)&&(U=se.match(/Chrome\/(\d+)/))&&(J=+U[1]);var pe=J,he=pe,ve=i,me=o.String,ge=!!Object.getOwnPropertySymbols&&!ve((function(){var e=Symbol("symbol detection");return!me(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&he&&he<41})),ye=ge&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,we=oe,be=j,Se=ie,ke=Object,Ae=ye?function(e){return"symbol"==typeof e}:function(e){var t=we("Symbol");return be(t)&&Se(t.prototype,ke(e))},Te=String,je=function(e){try{return Te(e)}catch(e){return"Object"}},Oe=j,Ie=je,_e=TypeError,Re=function(e){if(Oe(e))return e;throw new _e(Ie(e)+" is not a function")},Ce=Re,Pe=F,Ee=function(e,t){var r=e[t];return Pe(r)?void 0:Ce(r)},Ne=C,xe=j,Ue=Y,Je=TypeError,De={exports:{}},Me=o,Be=Object.defineProperty,Le=o,qe=function(e,t){try{Be(Me,e,{value:t,configurable:!0,writable:!0})}catch(r){Me[e]=t}return t},He="__core-js_shared__",Fe=De.exports=Le[He]||qe(He,{});(Fe.versions||(Fe.versions=[])).push({version:"3.37.1",mode:"pure",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var We=De.exports,Ve=function(e,t){return We[e]||(We[e]=t||{})},Xe=X,ze=Object,Ge=function(e){return ze(Xe(e))},$e=Ge,Ke=m({}.hasOwnProperty),Qe=Object.hasOwn||function(e,t){return Ke($e(e),t)},Ye=m,Ze=0,et=Math.random(),tt=Ye(1..toString),rt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+tt(++Ze+et,36)},nt=Ve,ot=Qe,it=rt,at=ge,ct=ye,st=o.Symbol,ut=nt("wks"),lt=ct?st.for||st:st&&st.withoutSetter||it,ft=function(e){return ot(ut,e)||(ut[e]=at&&ot(st,e)?st[e]:lt("Symbol."+e)),ut[e]},dt=C,pt=Y,ht=Ae,vt=Ee,mt=function(e,t){var r,n;if("string"===t&&xe(r=e.toString)&&!Ue(n=Ne(r,e)))return n;if(xe(r=e.valueOf)&&!Ue(n=Ne(r,e)))return n;if("string"!==t&&xe(r=e.toString)&&!Ue(n=Ne(r,e)))return n;throw new Je("Can't convert object to primitive value")},gt=TypeError,yt=ft("toPrimitive"),wt=function(e,t){if(!pt(e)||ht(e))return e;var r,n=vt(e,yt);if(n){if(void 0===t&&(t="default"),r=dt(n,e,t),!pt(r)||ht(r))return r;throw new gt("Can't convert object to primitive value")}return void 0===t&&(t="number"),mt(e,t)},bt=wt,St=Ae,kt=function(e){var t=bt(e,"string");return St(t)?t:t+""},At=Y,Tt=o.document,jt=At(Tt)&&At(Tt.createElement),Ot=function(e){return jt?Tt.createElement(e):{}},It=Ot,_t=!I&&!i((function(){return 7!==Object.defineProperty(It("div"),"a",{get:function(){return 7}}).a})),Rt=I,Ct=C,Pt=P,Et=D,Nt=K,xt=kt,Ut=Qe,Jt=_t,Dt=Object.getOwnPropertyDescriptor;O.f=Rt?Dt:function(e,t){if(e=Nt(e),t=xt(t),Jt)try{return Dt(e,t)}catch(e){}if(Ut(e,t))return Et(!Ct(Pt.f,e,t),e[t])};var Mt=i,Bt=j,Lt=/#|\.prototype\./,qt=function(e,t){var r=Ft[Ht(e)];return r===Vt||r!==Wt&&(Bt(t)?Mt(t):!!t)},Ht=qt.normalize=function(e){return String(e).replace(Lt,".").toLowerCase()},Ft=qt.data={},Wt=qt.NATIVE="N",Vt=qt.POLYFILL="P",Xt=qt,zt=Re,Gt=a,$t=A(A.bind),Kt=function(e,t){return zt(e),void 0===t?e:Gt?$t(e,t):function(){return e.apply(t,arguments)}},Qt={},Yt=I&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Zt=Y,er=String,tr=TypeError,rr=function(e){if(Zt(e))return e;throw new tr(er(e)+" is not an object")},nr=I,or=_t,ir=Yt,ar=rr,cr=kt,sr=TypeError,ur=Object.defineProperty,lr=Object.getOwnPropertyDescriptor,fr="enumerable",dr="configurable",pr="writable";Qt.f=nr?ir?function(e,t,r){if(ar(e),t=cr(t),ar(r),"function"==typeof e&&"prototype"===t&&"value"in r&&pr in r&&!r.writable){var n=lr(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:dr in r?r.configurable:n.configurable,enumerable:fr in r?r.enumerable:n.enumerable,writable:!1})}return ur(e,t,r)}:ur:function(e,t,r){if(ar(e),t=cr(t),ar(r),or)try{return ur(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new sr("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var hr=Qt,vr=D,mr=I?function(e,t,r){return hr.f(e,t,vr(1,r))}:function(e,t,r){return e[t]=r,e},gr=o,yr=f,wr=A,br=j,Sr=O.f,kr=Xt,Ar=Z,Tr=Kt,jr=mr,Or=Qe,Ir=function(e){var t=function(r,n,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,o)}return yr(e,this,arguments)};return t.prototype=e.prototype,t},_r=function(e,t){var r,n,o,i,a,c,s,u,l,f=e.target,d=e.global,p=e.stat,h=e.proto,v=d?gr:p?gr[f]:gr[f]&&gr[f].prototype,m=d?Ar:Ar[f]||jr(Ar,f,{})[f],g=m.prototype;for(i in t)n=!(r=kr(d?i:f+(p?".":"#")+i,e.forced))&&v&&Or(v,i),c=m[i],n&&(s=e.dontCallGetSet?(l=Sr(v,i))&&l.value:v[i]),a=n&&s?s:t[i],(r||h||typeof c!=typeof a)&&(u=e.bind&&n?Tr(a,gr):e.wrap&&n?Ir(a):h&&br(a)?wr(a):a,(e.sham||a&&a.sham||c&&c.sham)&&jr(u,"sham",!0),jr(m,i,u),h&&(Or(Ar,o=f+"Prototype")||jr(Ar,o,{}),jr(Ar[o],i,a),e.real&&g&&(r||!g[i])&&jr(g,i,a)))},Rr=Math.ceil,Cr=Math.floor,Pr=Math.trunc||function(e){var t=+e;return(t>0?Cr:Rr)(t)},Er=function(e){var t=+e;return t!=t||0===t?0:Pr(t)},Nr=Er,xr=Math.max,Ur=Math.min,Jr=function(e,t){var r=Nr(e);return r<0?xr(r+t,0):Ur(r,t)},Dr=Er,Mr=Math.min,Br=function(e){var t=Dr(e);return t>0?Mr(t,9007199254740991):0},Lr=Br,qr=function(e){return Lr(e.length)},Hr=K,Fr=Jr,Wr=qr,Vr=function(e){return function(t,r,n){var o=Hr(t),i=Wr(o);if(0===i)return!e&&-1;var a,c=Fr(n,i);if(e&&r!=r){for(;i>c;)if((a=o[c++])!=a)return!0}else for(;i>c;c++)if((e||c in o)&&o[c]===r)return e||c||0;return!e&&-1}},Xr={includes:Vr(!0),indexOf:Vr(!1)},zr={},Gr=Qe,$r=K,Kr=Xr.indexOf,Qr=zr,Yr=m([].push),Zr=function(e,t){var r,n=$r(e),o=0,i=[];for(r in n)!Gr(Qr,r)&&Gr(n,r)&&Yr(i,r);for(;t.length>o;)Gr(n,r=t[o++])&&(~Kr(i,r)||Yr(i,r));return i},en=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tn=Zr,rn=en,nn=Object.keys||function(e){return tn(e,rn)},on=Ge,an=nn;_r({target:"Object",stat:!0,forced:i((function(){an(1)}))},{keys:function(e){return an(on(e))}});var cn=Z.Object.keys,sn={};sn[ft("toStringTag")]="z";var un="[object z]"===String(sn),ln=un,fn=j,dn=b,pn=ft("toStringTag"),hn=Object,vn="Arguments"===dn(function(){return arguments}()),mn=ln?dn:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=hn(e),pn))?r:vn?dn(t):"Object"===(n=dn(t))&&fn(t.callee)?"Arguments":n},gn=mn,yn=String,wn=function(e){if("Symbol"===gn(e))throw new TypeError("Cannot convert a Symbol value to a string");return yn(e)},bn={},Sn=I,kn=Yt,An=Qt,Tn=rr,jn=K,On=nn;bn.f=Sn&&!kn?Object.defineProperties:function(e,t){Tn(e);for(var r,n=jn(t),o=On(t),i=o.length,a=0;i>a;)An.f(e,r=o[a++],n[r]);return e};var In,_n=oe("document","documentElement"),Rn=rt,Cn=Ve("keys"),Pn=function(e){return Cn[e]||(Cn[e]=Rn(e))},En=rr,Nn=bn,xn=en,Un=zr,Jn=_n,Dn=Ot,Mn=Pn("IE_PROTO"),Bn=function(){},Ln=function(e){return"<script>"+e+"</"+"script>"},qn=function(e){e.write(Ln("")),e.close();var t=e.parentWindow.Object;return e=null,t},Hn=function(){try{In=new ActiveXObject("htmlfile")}catch(e){}var e,t;Hn="undefined"!=typeof document?document.domain&&In?qn(In):((t=Dn("iframe")).style.display="none",Jn.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ln("document.F=Object")),e.close(),e.F):qn(In);for(var r=xn.length;r--;)delete Hn.prototype[xn[r]];return Hn()};Un[Mn]=!0;var Fn=Object.create||function(e,t){var r;return null!==e?(Bn.prototype=En(e),r=new Bn,Bn.prototype=null,r[Mn]=e):r=Hn(),void 0===t?r:Nn.f(r,t)},Wn={},Vn=Zr,Xn=en.concat("length","prototype");Wn.f=Object.getOwnPropertyNames||function(e){return Vn(e,Xn)};var zn={},Gn=m([].slice),$n=b,Kn=K,Qn=Wn.f,Yn=Gn,Zn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];zn.f=function(e){return Zn&&"Window"===$n(e)?function(e){try{return Qn(e)}catch(e){return Yn(Zn)}}(e):Qn(Kn(e))};var eo={};eo.f=Object.getOwnPropertySymbols;var to=mr,ro=function(e,t,r,n){return n&&n.enumerable?e[t]=r:to(e,t,r),e},no=Qt,oo=function(e,t,r){return no.f(e,t,r)},io={},ao=ft;io.f=ao;var co,so,uo,lo=Z,fo=Qe,po=io,ho=Qt.f,vo=function(e){var t=lo.Symbol||(lo.Symbol={});fo(t,e)||ho(t,e,{value:po.f(e)})},mo=C,go=oe,yo=ft,wo=ro,bo=function(){var e=go("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=yo("toPrimitive");t&&!t[n]&&wo(t,n,(function(e){return mo(r,this)}),{arity:1})},So=mn,ko=un?{}.toString:function(){return"[object "+So(this)+"]"},Ao=un,To=Qt.f,jo=mr,Oo=Qe,Io=ko,_o=ft("toStringTag"),Ro=function(e,t,r,n){var o=r?e:e&&e.prototype;o&&(Oo(o,_o)||To(o,_o,{configurable:!0,value:t}),n&&!Ao&&jo(o,"toString",Io))},Co=j,Po=o.WeakMap,Eo=Co(Po)&&/native code/.test(String(Po)),No=o,xo=Y,Uo=mr,Jo=Qe,Do=De.exports,Mo=Pn,Bo=zr,Lo="Object already initialized",qo=No.TypeError,Ho=No.WeakMap;if(Eo||Do.state){var Fo=Do.state||(Do.state=new Ho);Fo.get=Fo.get,Fo.has=Fo.has,Fo.set=Fo.set,co=function(e,t){if(Fo.has(e))throw new qo(Lo);return t.facade=e,Fo.set(e,t),t},so=function(e){return Fo.get(e)||{}},uo=function(e){return Fo.has(e)}}else{var Wo=Mo("state");Bo[Wo]=!0,co=function(e,t){if(Jo(e,Wo))throw new qo(Lo);return t.facade=e,Uo(e,Wo,t),t},so=function(e){return Jo(e,Wo)?e[Wo]:{}},uo=function(e){return Jo(e,Wo)}}var Vo={set:co,get:so,has:uo,enforce:function(e){return uo(e)?so(e):co(e,{})},getterFor:function(e){return function(t){var r;if(!xo(t)||(r=so(t)).type!==e)throw new qo("Incompatible receiver, "+e+" required");return r}}},Xo=b,zo=Array.isArray||function(e){return"Array"===Xo(e)},Go=m,$o=j,Ko=De.exports,Qo=Go(Function.toString);$o(Ko.inspectSource)||(Ko.inspectSource=function(e){return Qo(e)});var Yo=Ko.inspectSource,Zo=m,ei=i,ti=j,ri=mn,ni=Yo,oi=function(){},ii=oe("Reflect","construct"),ai=/^\s*(?:class|function)\b/,ci=Zo(ai.exec),si=!ai.test(oi),ui=function(e){if(!ti(e))return!1;try{return ii(oi,[],e),!0}catch(e){return!1}},li=function(e){if(!ti(e))return!1;switch(ri(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return si||!!ci(ai,ni(e))}catch(e){return!0}};li.sham=!0;var fi=!ii||ei((function(){var e;return ui(ui.call)||!ui(Object)||!ui((function(){e=!0}))||e}))?li:ui,di=zo,pi=fi,hi=Y,vi=ft("species"),mi=Array,gi=function(e){var t;return di(e)&&(t=e.constructor,(pi(t)&&(t===mi||di(t.prototype))||hi(t)&&null===(t=t[vi]))&&(t=void 0)),void 0===t?mi:t},yi=function(e,t){return new(gi(e))(0===t?0:t)},wi=Kt,bi=H,Si=Ge,ki=qr,Ai=yi,Ti=m([].push),ji=function(e){var t=1===e,r=2===e,n=3===e,o=4===e,i=6===e,a=7===e,c=5===e||i;return function(s,u,l,f){for(var d,p,h=Si(s),v=bi(h),m=ki(v),g=wi(u,l),y=0,w=f||Ai,b=t?w(s,m):r||a?w(s,0):void 0;m>y;y++)if((c||y in v)&&(p=g(d=v[y],y,h),e))if(t)b[y]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:Ti(b,d)}else switch(e){case 4:return!1;case 7:Ti(b,d)}return i?-1:n||o?o:b}},Oi={forEach:ji(0),map:ji(1),filter:ji(2),some:ji(3),every:ji(4),find:ji(5),findIndex:ji(6),filterReject:ji(7)},Ii=_r,_i=o,Ri=C,Ci=m,Pi=I,Ei=ge,Ni=i,xi=Qe,Ui=ie,Ji=rr,Di=K,Mi=kt,Bi=wn,Li=D,qi=Fn,Hi=nn,Fi=Wn,Wi=zn,Vi=eo,Xi=O,zi=Qt,Gi=bn,$i=P,Ki=ro,Qi=oo,Yi=Ve,Zi=zr,ea=rt,ta=ft,ra=io,na=vo,oa=bo,ia=Ro,aa=Vo,ca=Oi.forEach,sa=Pn("hidden"),ua="Symbol",la=aa.set,fa=aa.getterFor(ua),da=Object.prototype,pa=_i.Symbol,ha=pa&&pa.prototype,va=_i.RangeError,ma=_i.TypeError,ga=_i.QObject,ya=Xi.f,wa=zi.f,ba=Wi.f,Sa=$i.f,ka=Ci([].push),Aa=Yi("symbols"),Ta=Yi("op-symbols"),ja=Yi("wks"),Oa=!ga||!ga.prototype||!ga.prototype.findChild,Ia=function(e,t,r){var n=ya(da,t);n&&delete da[t],wa(e,t,r),n&&e!==da&&wa(da,t,n)},_a=Pi&&Ni((function(){return 7!==qi(wa({},"a",{get:function(){return wa(this,"a",{value:7}).a}})).a}))?Ia:wa,Ra=function(e,t){var r=Aa[e]=qi(ha);return la(r,{type:ua,tag:e,description:t}),Pi||(r.description=t),r},Ca=function(e,t,r){e===da&&Ca(Ta,t,r),Ji(e);var n=Mi(t);return Ji(r),xi(Aa,n)?(r.enumerable?(xi(e,sa)&&e[sa][n]&&(e[sa][n]=!1),r=qi(r,{enumerable:Li(0,!1)})):(xi(e,sa)||wa(e,sa,Li(1,qi(null))),e[sa][n]=!0),_a(e,n,r)):wa(e,n,r)},Pa=function(e,t){Ji(e);var r=Di(t),n=Hi(r).concat(Ua(r));return ca(n,(function(t){Pi&&!Ri(Ea,r,t)||Ca(e,t,r[t])})),e},Ea=function(e){var t=Mi(e),r=Ri(Sa,this,t);return!(this===da&&xi(Aa,t)&&!xi(Ta,t))&&(!(r||!xi(this,t)||!xi(Aa,t)||xi(this,sa)&&this[sa][t])||r)},Na=function(e,t){var r=Di(e),n=Mi(t);if(r!==da||!xi(Aa,n)||xi(Ta,n)){var o=ya(r,n);return!o||!xi(Aa,n)||xi(r,sa)&&r[sa][n]||(o.enumerable=!0),o}},xa=function(e){var t=ba(Di(e)),r=[];return ca(t,(function(e){xi(Aa,e)||xi(Zi,e)||ka(r,e)})),r},Ua=function(e){var t=e===da,r=ba(t?Ta:Di(e)),n=[];return ca(r,(function(e){!xi(Aa,e)||t&&!xi(da,e)||ka(n,Aa[e])})),n};Ei||(pa=function(){if(Ui(ha,this))throw new ma("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?Bi(arguments[0]):void 0,t=ea(e),r=function(e){var n=void 0===this?_i:this;n===da&&Ri(r,Ta,e),xi(n,sa)&&xi(n[sa],t)&&(n[sa][t]=!1);var o=Li(1,e);try{_a(n,t,o)}catch(e){if(!(e instanceof va))throw e;Ia(n,t,o)}};return Pi&&Oa&&_a(da,t,{configurable:!0,set:r}),Ra(t,e)},Ki(ha=pa.prototype,"toString",(function(){return fa(this).tag})),Ki(pa,"withoutSetter",(function(e){return Ra(ea(e),e)})),$i.f=Ea,zi.f=Ca,Gi.f=Pa,Xi.f=Na,Fi.f=Wi.f=xa,Vi.f=Ua,ra.f=function(e){return Ra(ta(e),e)},Pi&&Qi(ha,"description",{configurable:!0,get:function(){return fa(this).description}})),Ii({global:!0,constructor:!0,wrap:!0,forced:!Ei,sham:!Ei},{Symbol:pa}),ca(Hi(ja),(function(e){na(e)})),Ii({target:ua,stat:!0,forced:!Ei},{useSetter:function(){Oa=!0},useSimple:function(){Oa=!1}}),Ii({target:"Object",stat:!0,forced:!Ei,sham:!Pi},{create:function(e,t){return void 0===t?qi(e):Pa(qi(e),t)},defineProperty:Ca,defineProperties:Pa,getOwnPropertyDescriptor:Na}),Ii({target:"Object",stat:!0,forced:!Ei},{getOwnPropertyNames:xa}),oa(),ia(pa,ua),Zi[sa]=!0;var Ja=ge&&!!Symbol.for&&!!Symbol.keyFor,Da=_r,Ma=oe,Ba=Qe,La=wn,qa=Ve,Ha=Ja,Fa=qa("string-to-symbol-registry"),Wa=qa("symbol-to-string-registry");Da({target:"Symbol",stat:!0,forced:!Ha},{for:function(e){var t=La(e);if(Ba(Fa,t))return Fa[t];var r=Ma("Symbol")(t);return Fa[t]=r,Wa[r]=t,r}});var Va=_r,Xa=Qe,za=Ae,Ga=je,$a=Ja,Ka=Ve("symbol-to-string-registry");Va({target:"Symbol",stat:!0,forced:!$a},{keyFor:function(e){if(!za(e))throw new TypeError(Ga(e)+" is not a symbol");if(Xa(Ka,e))return Ka[e]}});var Qa=zo,Ya=j,Za=b,ec=wn,tc=m([].push),rc=_r,nc=oe,oc=f,ic=C,ac=m,cc=i,sc=j,uc=Ae,lc=Gn,fc=function(e){if(Ya(e))return e;if(Qa(e)){for(var t=e.length,r=[],n=0;n<t;n++){var o=e[n];"string"==typeof o?tc(r,o):"number"!=typeof o&&"Number"!==Za(o)&&"String"!==Za(o)||tc(r,ec(o))}var i=r.length,a=!0;return function(e,t){if(a)return a=!1,t;if(Qa(this))return t;for(var n=0;n<i;n++)if(r[n]===e)return t}}},dc=ge,pc=String,hc=nc("JSON","stringify"),vc=ac(/./.exec),mc=ac("".charAt),gc=ac("".charCodeAt),yc=ac("".replace),wc=ac(1..toString),bc=/[\uD800-\uDFFF]/g,Sc=/^[\uD800-\uDBFF]$/,kc=/^[\uDC00-\uDFFF]$/,Ac=!dc||cc((function(){var e=nc("Symbol")("stringify detection");return"[null]"!==hc([e])||"{}"!==hc({a:e})||"{}"!==hc(Object(e))})),Tc=cc((function(){return'"\\udf06\\ud834"'!==hc("\udf06\ud834")||'"\\udead"'!==hc("\udead")})),jc=function(e,t){var r=lc(arguments),n=fc(t);if(sc(n)||void 0!==e&&!uc(e))return r[1]=function(e,t){if(sc(n)&&(t=ic(n,this,pc(e),t)),!uc(t))return t},oc(hc,null,r)},Oc=function(e,t,r){var n=mc(r,t-1),o=mc(r,t+1);return vc(Sc,e)&&!vc(kc,o)||vc(kc,e)&&!vc(Sc,n)?"\\u"+wc(gc(e,0),16):e};hc&&rc({target:"JSON",stat:!0,arity:3,forced:Ac||Tc},{stringify:function(e,t,r){var n=lc(arguments),o=oc(Ac?jc:hc,null,n);return Tc&&"string"==typeof o?yc(o,bc,Oc):o}});var Ic=eo,_c=Ge;_r({target:"Object",stat:!0,forced:!ge||i((function(){Ic.f(1)}))},{getOwnPropertySymbols:function(e){var t=Ic.f;return t?t(_c(e)):[]}});var Rc=Z.Object.getOwnPropertySymbols,Cc=Rc,Pc=i,Ec=pe,Nc=ft("species"),xc=function(e){return Ec>=51||!Pc((function(){var t=[];return(t.constructor={})[Nc]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Uc=Oi.filter;_r({target:"Array",proto:!0,forced:!xc("filter")},{filter:function(e){return Uc(this,e,arguments.length>1?arguments[1]:void 0)}});var Jc=o,Dc=Z,Mc=function(e,t){var r=Dc[e+"Prototype"],n=r&&r[t];if(n)return n;var o=Jc[e],i=o&&o.prototype;return i&&i[t]},Bc=Mc("Array","filter"),Lc=ie,qc=Bc,Hc=Array.prototype,Fc=function(e){var t=e.filter;return e===Hc||Lc(Hc,e)&&t===Hc.filter?qc:t},Wc={exports:{}},Vc=_r,Xc=i,zc=K,Gc=O.f,$c=I;Vc({target:"Object",stat:!0,forced:!$c||Xc((function(){Gc(1)})),sham:!$c},{getOwnPropertyDescriptor:function(e,t){return Gc(zc(e),t)}});var Kc=Z.Object,Qc=Wc.exports=function(e,t){return Kc.getOwnPropertyDescriptor(e,t)};Kc.getOwnPropertyDescriptor.sham&&(Qc.sham=!0);var Yc=Wc.exports,Zc=oe,es=Wn,ts=eo,rs=rr,ns=m([].concat),os=Zc("Reflect","ownKeys")||function(e){var t=es.f(rs(e)),r=ts.f;return r?ns(t,r(e)):t},is=I,as=Qt,cs=D,ss=function(e,t,r){is?as.f(e,t,cs(0,r)):e[t]=r},us=os,ls=K,fs=O,ds=ss;_r({target:"Object",stat:!0,sham:!I},{getOwnPropertyDescriptors:function(e){for(var t,r,n=ls(e),o=fs.f,i=us(n),a={},c=0;i.length>c;)void 0!==(r=o(n,t=i[c++]))&&ds(a,t,r);return a}});var ps=Z.Object.getOwnPropertyDescriptors,hs={exports:{}},vs=_r,ms=I,gs=bn.f;vs({target:"Object",stat:!0,forced:Object.defineProperties!==gs,sham:!ms},{defineProperties:gs});var ys=Z.Object,ws=hs.exports=function(e,t){return ys.defineProperties(e,t)};ys.defineProperties.sham&&(ws.sham=!0);var bs=hs.exports,Ss={exports:{}},ks=_r,As=I,Ts=Qt.f;ks({target:"Object",stat:!0,forced:Object.defineProperty!==Ts,sham:!As},{defineProperty:Ts});var js=Z.Object,Os=Ss.exports=function(e,t,r){return js.defineProperty(e,t,r)};js.defineProperty.sham&&(Os.sham=!0);var Is=Ss.exports,_s=Is,Rs=Is,Cs=Rs,Ps=TypeError,Es=function(e){if(e>9007199254740991)throw Ps("Maximum allowed index exceeded");return e},Ns=_r,xs=i,Us=zo,Js=Y,Ds=Ge,Ms=qr,Bs=Es,Ls=ss,qs=yi,Hs=xc,Fs=pe,Ws=ft("isConcatSpreadable"),Vs=Fs>=51||!xs((function(){var e=[];return e[Ws]=!1,e.concat()[0]!==e})),Xs=function(e){if(!Js(e))return!1;var t=e[Ws];return void 0!==t?!!t:Us(e)};Ns({target:"Array",proto:!0,arity:1,forced:!Vs||!Hs("concat")},{concat:function(e){var t,r,n,o,i,a=Ds(this),c=qs(a,0),s=0;for(t=-1,n=arguments.length;t<n;t++)if(Xs(i=-1===t?a:arguments[t]))for(o=Ms(i),Bs(s+o),r=0;r<o;r++,s++)r in i&&Ls(c,s,i[r]);else Bs(s+1),Ls(c,s++,i);return c.length=s,c}}),vo("asyncIterator"),vo("hasInstance"),vo("isConcatSpreadable"),vo("iterator"),vo("match"),vo("matchAll"),vo("replace"),vo("search"),vo("species"),vo("split");var zs=bo;vo("toPrimitive"),zs();var Gs=oe,$s=Ro;vo("toStringTag"),$s(Gs("Symbol"),"Symbol"),vo("unscopables"),Ro(o.JSON,"JSON",!0);var Ks,Qs,Ys,Zs=Z.Symbol,eu={},tu=I,ru=Qe,nu=Function.prototype,ou=tu&&Object.getOwnPropertyDescriptor,iu=ru(nu,"name"),au={EXISTS:iu,PROPER:iu&&"something"===function(){}.name,CONFIGURABLE:iu&&(!tu||tu&&ou(nu,"name").configurable)},cu=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),su=Qe,uu=j,lu=Ge,fu=cu,du=Pn("IE_PROTO"),pu=Object,hu=pu.prototype,vu=fu?pu.getPrototypeOf:function(e){var t=lu(e);if(su(t,du))return t[du];var r=t.constructor;return uu(r)&&t instanceof r?r.prototype:t instanceof pu?hu:null},mu=i,gu=j,yu=Y,wu=Fn,bu=vu,Su=ro,ku=ft("iterator"),Au=!1;[].keys&&("next"in(Ys=[].keys())?(Qs=bu(bu(Ys)))!==Object.prototype&&(Ks=Qs):Au=!0);var Tu=!yu(Ks)||mu((function(){var e={};return Ks[ku].call(e)!==e}));gu((Ks=Tu?{}:wu(Ks))[ku])||Su(Ks,ku,(function(){return this}));var ju={IteratorPrototype:Ks,BUGGY_SAFARI_ITERATORS:Au},Ou=ju.IteratorPrototype,Iu=Fn,_u=D,Ru=Ro,Cu=eu,Pu=function(){return this},Eu=m,Nu=Re,xu=Y,Uu=function(e){return xu(e)||null===e},Ju=String,Du=TypeError,Mu=function(e,t,r){try{return Eu(Nu(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}},Bu=Y,Lu=X,qu=function(e){if(Uu(e))return e;throw new Du("Can't set "+Ju(e)+" as a prototype")},Hu=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Mu(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Lu(r),qu(n),Bu(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0),Fu=_r,Wu=C,Vu=au,Xu=function(e,t,r,n){var o=t+" Iterator";return e.prototype=Iu(Ou,{next:_u(+!n,r)}),Ru(e,o,!1,!0),Cu[o]=Pu,e},zu=vu,Gu=Ro,$u=ro,Ku=eu,Qu=ju,Yu=Vu.PROPER,Zu=Qu.BUGGY_SAFARI_ITERATORS,el=ft("iterator"),tl="keys",rl="values",nl="entries",ol=function(){return this},il=function(e,t,r,n,o,i,a){Xu(r,t,n);var c,s,u,l=function(e){if(e===o&&v)return v;if(!Zu&&e&&e in p)return p[e];switch(e){case tl:case rl:case nl:return function(){return new r(this,e)}}return function(){return new r(this)}},f=t+" Iterator",d=!1,p=e.prototype,h=p[el]||p["@@iterator"]||o&&p[o],v=!Zu&&h||l(o),m="Array"===t&&p.entries||h;if(m&&(c=zu(m.call(new e)))!==Object.prototype&&c.next&&(Gu(c,f,!0,!0),Ku[f]=ol),Yu&&o===rl&&h&&h.name!==rl&&(d=!0,v=function(){return Wu(h,this)}),o)if(s={values:l(rl),keys:i?v:l(tl),entries:l(nl)},a)for(u in s)(Zu||d||!(u in p))&&$u(p,u,s[u]);else Fu({target:t,proto:!0,forced:Zu||d},s);return a&&p[el]!==v&&$u(p,el,v,{name:o}),Ku[t]=v,s},al=function(e,t){return{value:e,done:t}},cl=K,sl=function(){},ul=eu,ll=Vo,fl=(Qt.f,il),dl=al,pl="Array Iterator",hl=ll.set,vl=ll.getterFor(pl);fl(Array,"Array",(function(e,t){hl(this,{type:pl,target:cl(e),index:0,kind:t})}),(function(){var e=vl(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,dl(void 0,!0);switch(e.kind){case"keys":return dl(r,!1);case"values":return dl(t[r],!1)}return dl([r,t[r]],!1)}),"values");ul.Arguments=ul.Array;sl(),sl(),sl();var ml={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gl=o,yl=Ro,wl=eu;for(var bl in ml)yl(gl[bl],bl),wl[bl]=wl.Array;var Sl=Zs,kl=ft,Al=Qt.f,Tl=kl("metadata"),jl=Function.prototype;void 0===jl[Tl]&&Al(jl,Tl,{value:null}),vo("asyncDispose"),vo("dispose"),vo("metadata");var Ol=Sl,Il=m,_l=oe("Symbol"),Rl=_l.keyFor,Cl=Il(_l.prototype.valueOf),Pl=_l.isRegisteredSymbol||function(e){try{return void 0!==Rl(Cl(e))}catch(e){return!1}};_r({target:"Symbol",stat:!0},{isRegisteredSymbol:Pl});for(var El=Ve,Nl=oe,xl=m,Ul=Ae,Jl=ft,Dl=Nl("Symbol"),Ml=Dl.isWellKnownSymbol,Bl=Nl("Object","getOwnPropertyNames"),Ll=xl(Dl.prototype.valueOf),ql=El("wks"),Hl=0,Fl=Bl(Dl),Wl=Fl.length;Hl<Wl;Hl++)try{var Vl=Fl[Hl];Ul(Dl[Vl])&&Jl(Vl)}catch(e){}var Xl=function(e){if(Ml&&Ml(e))return!0;try{for(var t=Ll(e),r=0,n=Bl(ql),o=n.length;r<o;r++)if(ql[n[r]]==t)return!0}catch(e){}return!1};_r({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Xl}),vo("customMatcher"),vo("observable"),_r({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Pl}),_r({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Xl}),vo("matcher"),vo("metadataKey"),vo("patternMatch"),vo("replaceAll");var zl=Ol,Gl=zl,$l=m,Kl=Er,Ql=wn,Yl=X,Zl=$l("".charAt),ef=$l("".charCodeAt),tf=$l("".slice),rf=function(e){return function(t,r){var n,o,i=Ql(Yl(t)),a=Kl(r),c=i.length;return a<0||a>=c?e?"":void 0:(n=ef(i,a))<55296||n>56319||a+1===c||(o=ef(i,a+1))<56320||o>57343?e?Zl(i,a):n:e?tf(i,a,a+2):o-56320+(n-55296<<10)+65536}},nf={codeAt:rf(!1),charAt:rf(!0)}.charAt,of=wn,af=Vo,cf=il,sf=al,uf="String Iterator",lf=af.set,ff=af.getterFor(uf);cf(String,"String",(function(e){lf(this,{type:uf,string:of(e),index:0})}),(function(){var e,t=ff(this),r=t.string,n=t.index;return n>=r.length?sf(void 0,!0):(e=nf(r,n),t.index+=e.length,sf(e,!1))}));var df=io.f("iterator"),pf=df;function hf(e){return hf="function"==typeof Gl&&"symbol"==typeof pf?function(e){return typeof e}:function(e){return e&&"function"==typeof Gl&&e.constructor===Gl&&e!==Gl.prototype?"symbol":typeof e},hf(e)}var vf=io.f("toPrimitive");function mf(e){var t=function(e,t){if("object"!=hf(e)||!e)return e;var r=e[vf];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hf(t)?t:t+""}function gf(e,t,r){return(t=mf(t))in e?Cs(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_r({target:"Array",stat:!0},{isArray:zo});var yf=Z.Array.isArray,wf=yf;var bf=mn,Sf=Ee,kf=F,Af=eu,Tf=ft("iterator"),jf=function(e){if(!kf(e))return Sf(e,Tf)||Sf(e,"@@iterator")||Af[bf(e)]},Of=jf,If=Of,_f=I,Rf=zo,Cf=TypeError,Pf=Object.getOwnPropertyDescriptor,Ef=_f&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}()?function(e,t){if(Rf(e)&&!Pf(e,"length").writable)throw new Cf("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Nf=Ge,xf=qr,Uf=Ef,Jf=Es;_r({target:"Array",proto:!0,arity:1,forced:i((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=Nf(this),r=xf(t),n=arguments.length;Jf(r+n);for(var o=0;o<n;o++)t[r]=arguments[o],r++;return Uf(t,r),r}});var Df=Mc("Array","push"),Mf=ie,Bf=Df,Lf=Array.prototype,qf=function(e){var t=e.push;return e===Lf||Mf(Lf,e)&&t===Lf.push?Bf:t},Hf=qf;var Ff=_r,Wf=zo,Vf=fi,Xf=Y,zf=Jr,Gf=qr,$f=K,Kf=ss,Qf=ft,Yf=Gn,Zf=xc("slice"),ed=Qf("species"),td=Array,rd=Math.max;Ff({target:"Array",proto:!0,forced:!Zf},{slice:function(e,t){var r,n,o,i=$f(this),a=Gf(i),c=zf(e,a),s=zf(void 0===t?a:t,a);if(Wf(i)&&(r=i.constructor,(Vf(r)&&(r===td||Wf(r.prototype))||Xf(r)&&null===(r=r[ed]))&&(r=void 0),r===td||void 0===r))return Yf(i,c,s);for(n=new(void 0===r?td:r)(rd(s-c,0)),o=0;c<s;c++,o++)c in i&&Kf(n,o,i[c]);return n.length=o,n}});var nd=Mc("Array","slice"),od=ie,id=nd,ad=Array.prototype,cd=function(e){var t=e.slice;return e===ad||od(ad,e)&&t===ad.slice?id:t},sd=cd,ud=sd,ld=C,fd=rr,dd=Ee,pd=function(e,t,r){var n,o;fd(e);try{if(!(n=dd(e,"return"))){if("throw"===t)throw r;return r}n=ld(n,e)}catch(e){o=!0,n=e}if("throw"===t)throw r;if(o)throw n;return fd(n),r},hd=rr,vd=pd,md=eu,gd=ft("iterator"),yd=Array.prototype,wd=function(e){return void 0!==e&&(md.Array===e||yd[gd]===e)},bd=C,Sd=Re,kd=rr,Ad=je,Td=jf,jd=TypeError,Od=function(e,t){var r=arguments.length<2?Td(e):t;if(Sd(r))return kd(bd(r,e));throw new jd(Ad(e)+" is not iterable")},Id=Kt,_d=C,Rd=Ge,Cd=function(e,t,r,n){try{return n?t(hd(r)[0],r[1]):t(r)}catch(t){vd(e,"throw",t)}},Pd=wd,Ed=fi,Nd=qr,xd=ss,Ud=Od,Jd=jf,Dd=Array,Md=ft("iterator"),Bd=!1;try{var Ld=0,qd={next:function(){return{done:!!Ld++}},return:function(){Bd=!0}};qd[Md]=function(){return this},Array.from(qd,(function(){throw 2}))}catch(e){}var Hd=function(e,t){try{if(!t&&!Bd)return!1}catch(e){return!1}var r=!1;try{var n={};n[Md]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},Fd=function(e){var t=Rd(e),r=Ed(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Id(o,n>2?arguments[2]:void 0));var a,c,s,u,l,f,d=Jd(t),p=0;if(!d||this===Dd&&Pd(d))for(a=Nd(t),c=r?new this(a):Dd(a);a>p;p++)f=i?o(t[p],p):t[p],xd(c,p,f);else for(c=r?new this:[],l=(u=Ud(t,d)).next;!(s=_d(l,u)).done;p++)f=i?Cd(u,o,[s.value,p],!0):s.value,xd(c,p,f);return c.length=p,c};_r({target:"Array",stat:!0,forced:!Hd((function(e){Array.from(e)}))},{from:Fd});var Wd=Z.Array.from,Vd=Wd;function Xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function zd(e,t){if(e){var r;if("string"==typeof e)return Xd(e,t);var n=ud(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Vd(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xd(e,t):void 0}}function Gd(e,t){return function(e){if(wf(e))return e}(e)||function(e,t){var r=null==e?null:void 0!==Gl&&If(e)||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(Hf(c).call(c,n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||zd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $d=i,Kd=function(e,t){var r=[][e];return!!r&&$d((function(){r.call(null,t||function(){return 1},1)}))},Qd=Oi.forEach,Yd=Kd("forEach")?[].forEach:function(e){return Qd(this,e,arguments.length>1?arguments[1]:void 0)};_r({target:"Array",proto:!0,forced:[].forEach!==Yd},{forEach:Yd});var Zd=Mc("Array","forEach"),ep=mn,tp=Qe,rp=ie,np=Zd,op=Array.prototype,ip={DOMTokenList:!0,NodeList:!0},ap=function(e){var t=e.forEach;return e===op||rp(op,e)&&t===op.forEach||tp(ip,ep(e))?np:t},cp=ap,sp=_r,up=Xr.indexOf,lp=Kd,fp=A([].indexOf),dp=!!fp&&1/fp([1],1,-0)<0;sp({target:"Array",proto:!0,forced:dp||!lp("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return dp?fp(this,e,t)||0:up(this,e,t)}});var pp=Mc("Array","indexOf"),hp=ie,vp=pp,mp=Array.prototype,gp=function(e){var t=e.indexOf;return e===mp||hp(mp,e)&&t===mp.indexOf?vp:t},yp=gp,wp=Mc("Array","concat"),bp=ie,Sp=wp,kp=Array.prototype,Ap=function(e){var t=e.concat;return e===kp||bp(kp,e)&&t===kp.concat?Sp:t},Tp=Ge,jp=vu,Op=cu;_r({target:"Object",stat:!0,forced:i((function(){jp(1)})),sham:!Op},{getPrototypeOf:function(e){return jp(Tp(e))}});var Ip=Z.Object.getPrototypeOf,_p=Ip;function Rp(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Cp(e){return"function"==typeof e}function Pp(e){return"[object Object]"===Rp(e)}function Ep(e){return"[object Array]"===Rp(e)}function Np(e){return"[object Undefined]"===Rp(e)}function xp(e){return"[object Null]"===Rp(e)}function Up(e){return"string"==typeof e}function Jp(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=Jp(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=Jp(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function Mp(e){if(!e)return"";var t=new RegExp("(?:^|; )".concat(encodeURIComponent(e),"(?:=([^;]*?))?(?:;|$)")).exec(document.cookie);return t?decodeURIComponent(t[1]||""):""}function Bp(e,t,r){if(Up(e)&&e)if(r){var n,o,i=Dp(Dp({},r),{},{secure:void 0!==r.secure&&r.secure});document.cookie=Ap(n=Ap(o="".concat(encodeURIComponent(e),"=")).call(o,encodeURIComponent(t))).call(n,function(e){var t="";return t+=e.path?";path=".concat(e.path):"",t+=e.domain?";domain=".concat(e.domain):"",t+=e.expires?";expires=".concat(e.expires.toUTCString()):"",t+(e.secure?";secure":"")}(i))}else{var a;document.cookie=Ap(a="".concat(encodeURIComponent(e),"=")).call(a,encodeURIComponent(t))}}function Lp(e,t){var r=t||{};r.expires=new Date(0),Bp(e,"",r)}var qp=cd,Hp=Oi.map;_r({target:"Array",proto:!0,forced:!xc("map")},{map:function(e){return Hp(this,e,arguments.length>1?arguments[1]:void 0)}});var Fp=Mc("Array","map"),Wp=ie,Vp=Fp,Xp=Array.prototype,zp=function(e){var t=e.map;return e===Xp||Wp(Xp,e)&&t===Xp.map?Vp:t};function Gp(e,t){var r=yp(e).call(e,t);return-1===r?[e]:[qp(e).call(e,0,r),qp(e).call(e,r+t.length)]}function $p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.protocol;return e.replace(/^(?!\w+:\/\/):?\/?\/?/,"".concat(t,"//"))}function Kp(e){var t;return zp(t=cn(e)).call(t,(function(t){var r,n;return Ap(r="".concat(t,"=")).call(r,null!==(n=e[t])&&void 0!==n?n:"")})).join("&")}var Qp=yf,Yp="\t\n\v\f\r                　\u2028\u2029\ufeff",Zp=X,eh=wn,th=Yp,rh=m("".replace),nh=RegExp("^["+th+"]+"),oh=RegExp("(^|[^"+th+"])["+th+"]+$"),ih=function(e){return function(t){var r=eh(Zp(t));return 1&e&&(r=rh(r,nh,"")),2&e&&(r=rh(r,oh,"$1")),r}},ah={start:ih(1),end:ih(2),trim:ih(3)},ch=o,sh=i,uh=m,lh=wn,fh=ah.trim,dh=Yp,ph=ch.parseInt,hh=ch.Symbol,vh=hh&&hh.iterator,mh=/^[+-]?0x/i,gh=uh(mh.exec),yh=8!==ph(dh+"08")||22!==ph(dh+"0x16")||vh&&!sh((function(){ph(Object(vh))}))?function(e,t){var r=fh(lh(e));return ph(r,t>>>0||(gh(mh,r)?16:10))}:ph;_r({global:!0,forced:parseInt!==yh},{parseInt:yh});var wh=Z.parseInt,bh=Oi.some;_r({target:"Array",proto:!0,forced:!Kd("some")},{some:function(e){return bh(this,e,arguments.length>1?arguments[1]:void 0)}});var Sh=Mc("Array","some"),kh=ie,Ah=Sh,Th=Array.prototype,jh=function(e){var t=e.some;return e===Th||kh(Th,e)&&t===Th.some?Ah:t},Oh=_r,Ih=i,_h=zn.f;Oh({target:"Object",stat:!0,forced:Ih((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:_h});var Rh=Z.Object,Ch=function(e){return Rh.getOwnPropertyNames(e)},Ph="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Eh=TypeError,Nh=function(e,t){if(e<t)throw new Eh("Not enough arguments");return e},xh=o,Uh=f,Jh=j,Dh=Ph,Mh=ae,Bh=Gn,Lh=Nh,qh=xh.Function,Hh=/MSIE .\./.test(Mh)||Dh&&function(){var e=xh.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}(),Fh=function(e,t){var r=t?2:1;return Hh?function(n,o){var i=Lh(arguments.length,1)>r,a=Jh(n)?n:qh(n),c=i?Bh(arguments,r):[],s=i?function(){Uh(a,this,c)}:a;return t?e(s,o):e(s)}:e},Wh=_r,Vh=o,Xh=Fh(Vh.setInterval,!0);Wh({global:!0,bind:!0,forced:Vh.setInterval!==Xh},{setInterval:Xh});var zh=_r,Gh=o,$h=Fh(Gh.setTimeout,!0);zh({global:!0,bind:!0,forced:Gh.setTimeout!==$h},{setTimeout:$h});var Kh=Z.setTimeout;function Qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Cs(e,mf(n.key),n)}}function Zh(e,t,r){return t&&Yh(e.prototype,t),r&&Yh(e,r),Cs(e,"prototype",{writable:!1}),e}var ev=Er,tv=wn,rv=X,nv=RangeError,ov=m,iv=Br,av=wn,cv=X,sv=ov((function(e){var t=tv(rv(this)),r="",n=ev(e);if(n<0||n===1/0)throw new nv("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r})),uv=ov("".slice),lv=Math.ceil,fv=function(e){return function(t,r,n){var o,i,a=av(cv(t)),c=iv(r),s=a.length,u=void 0===n?" ":av(n);return c<=s||""===u?a:((i=sv(u,lv((o=c-s)/u.length))).length>o&&(i=uv(i,0,o)),e?a+i:i+a)}},dv=m,pv=i,hv={start:fv(!1),end:fv(!0)}.start,vv=RangeError,mv=isFinite,gv=Math.abs,yv=Date.prototype,wv=yv.toISOString,bv=dv(yv.getTime),Sv=dv(yv.getUTCDate),kv=dv(yv.getUTCFullYear),Av=dv(yv.getUTCHours),Tv=dv(yv.getUTCMilliseconds),jv=dv(yv.getUTCMinutes),Ov=dv(yv.getUTCMonth),Iv=dv(yv.getUTCSeconds),_v=pv((function(){return"0385-07-25T07:06:39.999Z"!==wv.call(new Date(-50000000000001))}))||!pv((function(){wv.call(new Date(NaN))}))?function(){if(!mv(bv(this)))throw new vv("Invalid time value");var e=this,t=kv(e),r=Tv(e),n=t<0?"-":t>9999?"+":"";return n+hv(gv(t),n?6:4,0)+"-"+hv(Ov(e)+1,2,0)+"-"+hv(Sv(e),2,0)+"T"+hv(Av(e),2,0)+":"+hv(jv(e),2,0)+":"+hv(Iv(e),2,0)+"."+hv(r,3,0)+"Z"}:wv,Rv=C,Cv=Ge,Pv=wt,Ev=_v,Nv=b;_r({target:"Date",proto:!0,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Rv(Date.prototype.toJSON,{toISOString:function(){return 1}})}))},{toJSON:function(e){var t=Cv(this),r=Pv(t,"number");return"number"!=typeof r||isFinite(r)?"toISOString"in t||"Date"!==Nv(t)?t.toISOString():Rv(Ev,t):null}});var xv=Z,Uv=f;xv.JSON||(xv.JSON={stringify:JSON.stringify});var Jv=function(e,t,r){return Uv(xv.JSON.stringify,null,arguments)},Dv=Jv;function Mv(e){if(e instanceof Element)try{for(var t=[];e&&e.nodeType===Node.ELEMENT_NODE;){var r=e.nodeName.toLowerCase();if(e.id){r+="#"+e.id,t.unshift(r);break}for(var n=e,o=1;n=n.previousElementSibling;)n.nodeName.toLowerCase()==r&&o++;if(1!=o&&(r+=":nth-of-type("+o+")"),t.unshift(r),!(e=e.parentNode))break}return t.join(">").replace(/div/g,"d").replace(/span/g,"s").replace(/header/g,"h").replace(/footer/g,"f").replace(/nth-of-type/g,"nth")}catch(e){return""}}var Bv=function(e){var t=e;return"number"==typeof e&&(t=Number(e.toFixed(2))),t},Lv=Wd,qv=Sl,Hv=Of,Fv=je,Wv=TypeError,Vv=function(e,t){if(!delete e[t])throw new Wv("Cannot delete property "+Fv(t)+" of "+Fv(e))},Xv=_r,zv=Ge,Gv=Jr,$v=Er,Kv=qr,Qv=Ef,Yv=Es,Zv=yi,em=ss,tm=Vv,rm=xc("splice"),nm=Math.max,om=Math.min;Xv({target:"Array",proto:!0,forced:!rm},{splice:function(e,t){var r,n,o,i,a,c,s=zv(this),u=Kv(s),l=Gv(e,u),f=arguments.length;for(0===f?r=n=0:1===f?(r=0,n=u-l):(r=f-2,n=om(nm($v(t),0),u-l)),Yv(u+r-n),o=Zv(s,n),i=0;i<n;i++)(a=l+i)in s&&em(o,i,s[a]);if(o.length=n,r<n){for(i=l;i<u-n;i++)c=i+r,(a=i+n)in s?s[c]=s[a]:tm(s,c);for(i=u;i>u-n+r;i--)tm(s,i-1)}else if(r>n)for(i=u-n;i>l;i--)c=i+r-1,(a=i+n-1)in s?s[c]=s[a]:tm(s,c);for(i=0;i<r;i++)s[i+l]=arguments[i+2];return Qv(s,u-n+r),o}});var im=Mc("Array","splice"),am=ie,cm=im,sm=Array.prototype,um=function(e){var t=e.splice;return e===sm||am(sm,e)&&t===sm.splice?cm:t},lm=_r,fm=Date,dm=m(fm.prototype.getTime);lm({target:"Date",stat:!0},{now:function(){return dm(new fm)}});var pm=Z.Date.now,hm=Gn,vm=Math.floor,mm=function(e,t){var r=e.length;if(r<8)for(var n,o,i=1;i<r;){for(o=i,n=e[i];o&&t(e[o-1],n)>0;)e[o]=e[--o];o!==i++&&(e[o]=n)}else for(var a=vm(r/2),c=mm(hm(e,0,a),t),s=mm(hm(e,a),t),u=c.length,l=s.length,f=0,d=0;f<u||d<l;)e[f+d]=f<u&&d<l?t(c[f],s[d])<=0?c[f++]:s[d++]:f<u?c[f++]:s[d++];return e},gm=mm,ym=ae.match(/firefox\/(\d+)/i),wm=!!ym&&+ym[1],bm=/MSIE|Trident/.test(ae),Sm=ae.match(/AppleWebKit\/(\d+)\./),km=!!Sm&&+Sm[1],Am=_r,Tm=m,jm=Re,Om=Ge,Im=qr,_m=Vv,Rm=wn,Cm=i,Pm=gm,Em=Kd,Nm=wm,xm=bm,Um=pe,Jm=km,Dm=[],Mm=Tm(Dm.sort),Bm=Tm(Dm.push),Lm=Cm((function(){Dm.sort(void 0)})),qm=Cm((function(){Dm.sort(null)})),Hm=Em("sort"),Fm=!Cm((function(){if(Um)return Um<70;if(!(Nm&&Nm>3)){if(xm)return!0;if(Jm)return Jm<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Dm.push({k:t+n,v:r})}for(Dm.sort((function(e,t){return t.v-e.v})),n=0;n<Dm.length;n++)t=Dm[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));Am({target:"Array",proto:!0,forced:Lm||!qm||!Hm||!Fm},{sort:function(e){void 0!==e&&jm(e);var t=Om(this);if(Fm)return void 0===e?Mm(t):Mm(t,e);var r,n,o=[],i=Im(t);for(n=0;n<i;n++)n in t&&Bm(o,t[n]);for(Pm(o,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:Rm(t)>Rm(r)?1:-1}}(e)),r=Im(o),n=0;n<r;)t[n]=o[n++];for(;n<i;)_m(t,n++);return t}});var Wm=Mc("Array","sort"),Vm=ie,Xm=Wm,zm=Array.prototype,Gm=function(e){var t=e.sort;return e===zm||Vm(zm,e)&&t===zm.sort?Xm:t};function $m(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return Km(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Km(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Km(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Qm=Object.prototype.toString;function Ym(){var e,t,r,n,o,i,a=arguments.length<=0?void 0:arguments[0],c=1,s=arguments.length,u=!1;for("boolean"==typeof a?(u=a,a=(arguments.length<=1?void 0:arguments[1])||{},c=2):("object"!==hf(a)&&"function"!=typeof a||null==a)&&(a={});c<s;++c)if(null!=(e=c<0||arguments.length<=c?void 0:arguments[c]))for(t in e)r=a[t],a!==(n=e[t])&&(u&&n&&(tg(n)||(o=Zm(n)))?(o?(o=!1,i=r&&Zm(r)?r:[]):i=r&&tg(r)?r:{},a[t]=Ym(u,i,n)):void 0!==n&&(a[t]=n));return a}function Zm(e){return"[object Array]"===Qm.call(e)}function eg(e){return"[object String]"===Qm.call(e)}function tg(e){if(!e||"[object Object]"!==Qm.call(e))return!1;var t,r=Object.prototype.hasOwnProperty,n=r.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!o)return!1;for(t in e);return void 0===t||r.call(e,t)}function rg(e){var t,r=[],n=$m(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;eg(o)?r.push(o.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):o&&o.source&&r.push(o.source)}}catch(e){n.e(e)}finally{n.f()}return r.length?new RegExp(r.join("|"),"i"):null}function ng(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/(^\s*)|(\s*$)/g,"")}var og=function(){function e(){Qh(this,e),this.init(),this.limit=5,this.actionInfo={userTraceDom:[],userTraceEvent:[],userTraceTs:[]}}return Zh(e,[{key:"pushLimit",value:function(e,t){e.push(t),e.length>this.limit&&e.shift()}},{key:"addItem",value:function(e,t){this.pushLimit(this.actionInfo.userTraceDom,encodeURIComponent(e)),this.pushLimit(this.actionInfo.userTraceEvent,t),this.pushLimit(this.actionInfo.userTraceTs,(new Date).getTime())}},{key:"init",value:function(){var e=this;window.addEventListener("click",(function(t){e.addItem(function(e){if(!(e instanceof Element))return"";try{for(var t=[];e&&e.nodeType===Node.ELEMENT_NODE;){var r,n=e.nodeName.toLowerCase(),o=Fc(r=e.className.split(" ")).call(r,(function(e){return e})),i=o.length?o[o.length-1]:"";if(e.id){n+="#"+e.id,t.unshift(n);break}for(var a=e,c=1;a=a.previousElementSibling;)a.nodeName.toLowerCase()==n&&c++;if(1!=c&&(n+=":nth-of-type("+c+")"),t.unshift(n+"".concat(i?"."+i:"")),!(e=e.parentNode))break}return t.join(">").replace(/div/g,"d").replace(/span/g,"s").replace(/header/g,"h").replace(/footer/g,"f").replace(/nth-of-type/g,"nth")}catch(e){return""}}(t.target),"click")}),!1)}},{key:"getActionInfo",value:function(){return this.actionInfo}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}(),ig=Qe,ag=os,cg=O,sg=Qt,ug=Y,lg=mr,fg=Error,dg=m("".replace),pg=String(new fg("zxcasd").stack),hg=/\n\s*at [^:]*:[^\n]*/,vg=hg.test(pg),mg=D,gg=!i((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",mg(1,7)),7!==e.stack)})),yg=mr,wg=function(e,t){if(vg&&"string"==typeof e&&!fg.prepareStackTrace)for(;t--;)e=dg(e,hg,"");return e},bg=gg,Sg=Error.captureStackTrace,kg=Kt,Ag=C,Tg=rr,jg=je,Og=wd,Ig=qr,_g=ie,Rg=Od,Cg=jf,Pg=pd,Eg=TypeError,Ng=function(e,t){this.stopped=e,this.result=t},xg=Ng.prototype,Ug=function(e,t,r){var n,o,i,a,c,s,u,l=r&&r.that,f=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_RECORD),p=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),v=kg(t,l),m=function(e){return n&&Pg(n,"normal",e),new Ng(!0,e)},g=function(e){return f?(Tg(e),h?v(e[0],e[1],m):v(e[0],e[1])):h?v(e,m):v(e)};if(d)n=e.iterator;else if(p)n=e;else{if(!(o=Cg(e)))throw new Eg(jg(e)+" is not iterable");if(Og(o)){for(i=0,a=Ig(e);a>i;i++)if((c=g(e[i]))&&_g(xg,c))return c;return new Ng(!1)}n=Rg(e,o)}for(s=d?e.next:n.next;!(u=Ag(s,n)).done;){try{c=g(u.value)}catch(e){Pg(n,"throw",e)}if("object"==typeof c&&c&&_g(xg,c))return c}return new Ng(!1)},Jg=wn,Dg=_r,Mg=ie,Bg=vu,Lg=Hu,qg=function(e,t,r){for(var n=ag(t),o=sg.f,i=cg.f,a=0;a<n.length;a++){var c=n[a];ig(e,c)||r&&ig(r,c)||o(e,c,i(t,c))}},Hg=Fn,Fg=mr,Wg=D,Vg=function(e,t){ug(t)&&"cause"in t&&lg(e,"cause",t.cause)},Xg=function(e,t,r,n){bg&&(Sg?Sg(e,t):yg(e,"stack",wg(r,n)))},zg=Ug,Gg=function(e,t){return void 0===e?arguments.length<2?"":t:Jg(e)},$g=ft("toStringTag"),Kg=Error,Qg=[].push,Yg=function(e,t){var r,n=Mg(Zg,this);Lg?r=Lg(new Kg,n?Bg(this):Zg):(r=n?this:Hg(Zg),Fg(r,$g,"Error")),void 0!==t&&Fg(r,"message",Gg(t)),Xg(r,Yg,r.stack,1),arguments.length>2&&Vg(r,arguments[2]);var o=[];return zg(e,Qg,{that:o}),Fg(r,"errors",o),r};Lg?Lg(Yg,Kg):qg(Yg,Kg,{name:!0});var Zg=Yg.prototype=Hg(Kg.prototype,{constructor:Wg(1,Yg),message:Wg(1,""),name:Wg(1,"AggregateError")});Dg({global:!0,constructor:!0,arity:2},{AggregateError:Yg});var ey,ty,ry,ny,oy="process"===b(o.process),iy=oe,ay=oo,cy=I,sy=ft("species"),uy=function(e){var t=iy(e);cy&&t&&!t[sy]&&ay(t,sy,{configurable:!0,get:function(){return this}})},ly=ie,fy=TypeError,dy=function(e,t){if(ly(t,e))return e;throw new fy("Incorrect invocation")},py=fi,hy=je,vy=TypeError,my=rr,gy=function(e){if(py(e))return e;throw new vy(hy(e)+" is not a constructor")},yy=F,wy=ft("species"),by=function(e,t){var r,n=my(e).constructor;return void 0===n||yy(r=my(n)[wy])?t:gy(r)},Sy=/(?:ipad|iphone|ipod).*applewebkit/i.test(ae),ky=o,Ay=f,Ty=Kt,jy=j,Oy=Qe,Iy=i,_y=_n,Ry=Gn,Cy=Ot,Py=Nh,Ey=Sy,Ny=oy,xy=ky.setImmediate,Uy=ky.clearImmediate,Jy=ky.process,Dy=ky.Dispatch,My=ky.Function,By=ky.MessageChannel,Ly=ky.String,qy=0,Hy={},Fy="onreadystatechange";Iy((function(){ey=ky.location}));var Wy=function(e){if(Oy(Hy,e)){var t=Hy[e];delete Hy[e],t()}},Vy=function(e){return function(){Wy(e)}},Xy=function(e){Wy(e.data)},zy=function(e){ky.postMessage(Ly(e),ey.protocol+"//"+ey.host)};xy&&Uy||(xy=function(e){Py(arguments.length,1);var t=jy(e)?e:My(e),r=Ry(arguments,1);return Hy[++qy]=function(){Ay(t,void 0,r)},ty(qy),qy},Uy=function(e){delete Hy[e]},Ny?ty=function(e){Jy.nextTick(Vy(e))}:Dy&&Dy.now?ty=function(e){Dy.now(Vy(e))}:By&&!Ey?(ny=(ry=new By).port2,ry.port1.onmessage=Xy,ty=Ty(ny.postMessage,ny)):ky.addEventListener&&jy(ky.postMessage)&&!ky.importScripts&&ey&&"file:"!==ey.protocol&&!Iy(zy)?(ty=zy,ky.addEventListener("message",Xy,!1)):ty=Fy in Cy("script")?function(e){_y.appendChild(Cy("script")).onreadystatechange=function(){_y.removeChild(this),Wy(e)}}:function(e){setTimeout(Vy(e),0)});var Gy={set:xy,clear:Uy},$y=o,Ky=I,Qy=Object.getOwnPropertyDescriptor,Yy=function(){this.head=null,this.tail=null};Yy.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Zy,ew,tw,rw,nw,ow=Yy,iw=/ipad|iphone|ipod/i.test(ae)&&"undefined"!=typeof Pebble,aw=/web0s(?!.*chrome)/i.test(ae),cw=o,sw=function(e){if(!Ky)return $y[e];var t=Qy($y,e);return t&&t.value},uw=Kt,lw=Gy.set,fw=ow,dw=Sy,pw=iw,hw=aw,vw=oy,mw=cw.MutationObserver||cw.WebKitMutationObserver,gw=cw.document,yw=cw.process,ww=cw.Promise,bw=sw("queueMicrotask");if(!bw){var Sw=new fw,kw=function(){var e,t;for(vw&&(e=yw.domain)&&e.exit();t=Sw.get();)try{t()}catch(e){throw Sw.head&&Zy(),e}e&&e.enter()};dw||vw||hw||!mw||!gw?!pw&&ww&&ww.resolve?((rw=ww.resolve(void 0)).constructor=ww,nw=uw(rw.then,rw),Zy=function(){nw(kw)}):vw?Zy=function(){yw.nextTick(kw)}:(lw=uw(lw,cw),Zy=function(){lw(kw)}):(ew=!0,tw=gw.createTextNode(""),new mw(kw).observe(tw,{characterData:!0}),Zy=function(){tw.data=ew=!ew}),bw=function(e){Sw.head||Zy(),Sw.add(e)}}var Aw=bw,Tw=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},jw=o.Promise,Ow="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Iw=!Ow&&!oy&&"object"==typeof window&&"object"==typeof document,_w=o,Rw=jw,Cw=j,Pw=Xt,Ew=Yo,Nw=ft,xw=Iw,Uw=Ow,Jw=pe,Dw=Rw&&Rw.prototype,Mw=Nw("species"),Bw=!1,Lw=Cw(_w.PromiseRejectionEvent),qw=Pw("Promise",(function(){var e=Ew(Rw),t=e!==String(Rw);if(!t&&66===Jw)return!0;if(!Dw.catch||!Dw.finally)return!0;if(!Jw||Jw<51||!/native code/.test(e)){var r=new Rw((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[Mw]=n,!(Bw=r.then((function(){}))instanceof n))return!0}return!t&&(xw||Uw)&&!Lw})),Hw={CONSTRUCTOR:qw,REJECTION_EVENT:Lw,SUBCLASSING:Bw},Fw={},Ww=Re,Vw=TypeError,Xw=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new Vw("Bad Promise constructor");t=e,r=n})),this.resolve=Ww(t),this.reject=Ww(r)};Fw.f=function(e){return new Xw(e)};var zw,Gw,$w=_r,Kw=oy,Qw=o,Yw=C,Zw=ro,eb=Ro,tb=uy,rb=Re,nb=j,ob=Y,ib=dy,ab=by,cb=Gy.set,sb=Aw,ub=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}},lb=Tw,fb=ow,db=Vo,pb=jw,hb=Hw,vb=Fw,mb="Promise",gb=hb.CONSTRUCTOR,yb=hb.REJECTION_EVENT,wb=db.getterFor(mb),bb=db.set,Sb=pb&&pb.prototype,kb=pb,Ab=Sb,Tb=Qw.TypeError,jb=Qw.document,Ob=Qw.process,Ib=vb.f,_b=Ib,Rb=!!(jb&&jb.createEvent&&Qw.dispatchEvent),Cb="unhandledrejection",Pb=function(e){var t;return!(!ob(e)||!nb(t=e.then))&&t},Eb=function(e,t){var r,n,o,i=t.value,a=1===t.state,c=a?e.ok:e.fail,s=e.resolve,u=e.reject,l=e.domain;try{c?(a||(2===t.rejection&&Db(t),t.rejection=1),!0===c?r=i:(l&&l.enter(),r=c(i),l&&(l.exit(),o=!0)),r===e.promise?u(new Tb("Promise-chain cycle")):(n=Pb(r))?Yw(n,r,s,u):s(r)):u(i)}catch(e){l&&!o&&l.exit(),u(e)}},Nb=function(e,t){e.notified||(e.notified=!0,sb((function(){for(var r,n=e.reactions;r=n.get();)Eb(r,e);e.notified=!1,t&&!e.rejection&&Ub(e)})))},xb=function(e,t,r){var n,o;Rb?((n=jb.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),Qw.dispatchEvent(n)):n={promise:t,reason:r},!yb&&(o=Qw["on"+e])?o(n):e===Cb&&ub("Unhandled promise rejection",r)},Ub=function(e){Yw(cb,Qw,(function(){var t,r=e.facade,n=e.value;if(Jb(e)&&(t=lb((function(){Kw?Ob.emit("unhandledRejection",n,r):xb(Cb,r,n)})),e.rejection=Kw||Jb(e)?2:1,t.error))throw t.value}))},Jb=function(e){return 1!==e.rejection&&!e.parent},Db=function(e){Yw(cb,Qw,(function(){var t=e.facade;Kw?Ob.emit("rejectionHandled",t):xb("rejectionhandled",t,e.value)}))},Mb=function(e,t,r){return function(n){e(t,n,r)}},Bb=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Nb(e,!0))},Lb=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new Tb("Promise can't be resolved itself");var n=Pb(t);n?sb((function(){var r={done:!1};try{Yw(n,t,Mb(Lb,r,e),Mb(Bb,r,e))}catch(t){Bb(r,t,e)}})):(e.value=t,e.state=1,Nb(e,!1))}catch(t){Bb({done:!1},t,e)}}};gb&&(Ab=(kb=function(e){ib(this,Ab),rb(e),Yw(zw,this);var t=wb(this);try{e(Mb(Lb,t),Mb(Bb,t))}catch(e){Bb(t,e)}}).prototype,(zw=function(e){bb(this,{type:mb,done:!1,notified:!1,parent:!1,reactions:new fb,rejection:!1,state:0,value:void 0})}).prototype=Zw(Ab,"then",(function(e,t){var r=wb(this),n=Ib(ab(this,kb));return r.parent=!0,n.ok=!nb(e)||e,n.fail=nb(t)&&t,n.domain=Kw?Ob.domain:void 0,0===r.state?r.reactions.add(n):sb((function(){Eb(n,r)})),n.promise})),Gw=function(){var e=new zw,t=wb(e);this.promise=e,this.resolve=Mb(Lb,t),this.reject=Mb(Bb,t)},vb.f=Ib=function(e){return e===kb||undefined===e?new Gw(e):_b(e)}),$w({global:!0,constructor:!0,wrap:!0,forced:gb},{Promise:kb}),eb(kb,mb,!1,!0),tb(mb);var qb=jw,Hb=Hw.CONSTRUCTOR||!Hd((function(e){qb.all(e).then(void 0,(function(){}))})),Fb=C,Wb=Re,Vb=Fw,Xb=Tw,zb=Ug;_r({target:"Promise",stat:!0,forced:Hb},{all:function(e){var t=this,r=Vb.f(t),n=r.resolve,o=r.reject,i=Xb((function(){var r=Wb(t.resolve),i=[],a=0,c=1;zb(e,(function(e){var s=a++,u=!1;c++,Fb(r,t,e).then((function(e){u||(u=!0,i[s]=e,--c||n(i))}),o)})),--c||n(i)}));return i.error&&o(i.value),r.promise}});var Gb=_r,$b=Hw.CONSTRUCTOR;jw&&jw.prototype,Gb({target:"Promise",proto:!0,forced:$b,real:!0},{catch:function(e){return this.then(void 0,e)}});var Kb=C,Qb=Re,Yb=Fw,Zb=Tw,eS=Ug;_r({target:"Promise",stat:!0,forced:Hb},{race:function(e){var t=this,r=Yb.f(t),n=r.reject,o=Zb((function(){var o=Qb(t.resolve);eS(e,(function(e){Kb(o,t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var tS=Fw;_r({target:"Promise",stat:!0,forced:Hw.CONSTRUCTOR},{reject:function(e){var t=tS.f(this);return(0,t.reject)(e),t.promise}});var rS=rr,nS=Y,oS=Fw,iS=function(e,t){if(rS(e),nS(t)&&t.constructor===e)return t;var r=oS.f(e);return(0,r.resolve)(t),r.promise},aS=_r,cS=jw,sS=Hw.CONSTRUCTOR,uS=iS,lS=oe("Promise"),fS=!sS;aS({target:"Promise",stat:!0,forced:true},{resolve:function(e){return uS(fS&&this===lS?cS:this,e)}});var dS=C,pS=Re,hS=Fw,vS=Tw,mS=Ug;_r({target:"Promise",stat:!0,forced:Hb},{allSettled:function(e){var t=this,r=hS.f(t),n=r.resolve,o=r.reject,i=vS((function(){var r=pS(t.resolve),o=[],i=0,a=1;mS(e,(function(e){var c=i++,s=!1;a++,dS(r,t,e).then((function(e){s||(s=!0,o[c]={status:"fulfilled",value:e},--a||n(o))}),(function(e){s||(s=!0,o[c]={status:"rejected",reason:e},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var gS=C,yS=Re,wS=oe,bS=Fw,SS=Tw,kS=Ug,AS="No one promise resolved";_r({target:"Promise",stat:!0,forced:Hb},{any:function(e){var t=this,r=wS("AggregateError"),n=bS.f(t),o=n.resolve,i=n.reject,a=SS((function(){var n=yS(t.resolve),a=[],c=0,s=1,u=!1;kS(e,(function(e){var l=c++,f=!1;s++,gS(n,t,e).then((function(e){f||u||(u=!0,o(e))}),(function(e){f||u||(f=!0,a[l]=e,--s||i(new r(a,AS)))}))})),--s||i(new r(a,AS))}));return a.error&&i(a.value),n.promise}});var TS=Fw;_r({target:"Promise",stat:!0},{withResolvers:function(){var e=TS.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var jS=_r,OS=jw,IS=i,_S=oe,RS=j,CS=by,PS=iS,ES=OS&&OS.prototype;jS({target:"Promise",proto:!0,real:!0,forced:!!OS&&IS((function(){ES.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=CS(this,_S("Promise")),r=RS(e);return this.then(r?function(r){return PS(t,e()).then((function(){return r}))}:e,r?function(r){return PS(t,e()).then((function(){throw r}))}:e)}});var NS=Z.Promise,xS=NS;function US(){var e,t,r;return null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:""}function JS(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(t=null===(r=window)||void 0===r||null===(n=r.navigator)||void 0===n?void 0:n.userAgent)&&void 0!==t?t:"",i=o||US();return"wx"===e?/micromessenger/i.test(i):"qq"===e?/qq\//i.test(i):"weibo"===e?/weibo/i.test(i):"jd"===e?/^jdapp/i.test(i):"jdlittle"===e?/^jdltapp/i.test(i):"jdh"===e?/^jdhapp/i.test(i):"mp"===e&&(/micromessenger/i.test(i)&&/miniprogram/i.test(i)||"miniprogram"===window.__wxjs_environment)}function DS(){return JS("jd")}function MS(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return/ip(hone|od)|ipad/i.test(n)}function BS(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return/android/i.test(n)&&!MS()}function LS(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return"harmony"===(n.split(";")[1]||"").toLowerCase()||/arkweb/i.test(n)}function qS(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return!!/iphone/i.test(n)}function HS(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return!!/ipad/i.test(n)}function FS(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(t=null===(r=window)||void 0===r||null===(n=r.navigator)||void 0===n?void 0:n.userAgent)&&void 0!==t?t:"";return"xview"===e?void 0!==window.XView:"wk"===e&&(!!o.match(/supportjdshwk/i)||1===window._is_jdsh_wkwebview)}function WS(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=t.length,n="",o=0;o<e;o++)n+=t[Math.floor(Math.random()*r)];return n}var VS=Ge,XS=Jr,zS=qr,GS=function(e){for(var t=VS(this),r=zS(t),n=arguments.length,o=XS(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:XS(i,r);a>o;)t[o++]=e;return t};_r({target:"Array",proto:!0},{fill:GS});var $S=Mc("Array","fill"),KS=ie,QS=$S,YS=Array.prototype,ZS=function(e){var t=e.fill;return e===YS||KS(YS,e)&&t===YS.fill?QS:t};function ek(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(t=null===(r=window)||void 0===r||null===(n=r.navigator)||void 0===n?void 0:n.userAgent)&&void 0!==t?t:"";return"jd"===e?o.split(";")[2]||"":"wx"===e?/micromessenger\/([\S]*)/i.test(o)?RegExp.$1:"":"qq"===e&&/qq\/([\S]*)/i.test(o)?RegExp.$1:""}function tk(e,t){var r;if(e===t)return 0;var n=e.split("."),o=t.split("."),i=Math.abs(n.length-o.length),a=ZS(r=new Array(i)).call(r,"0");n.length>o.length?o=Ap(o).call(o,a):n.length<o.length&&(n=Ap(n).call(n,a));for(var c=0;c<n.length;c++){var s=wh(n[c],10),u=wh(o[c],10);if(s>u)return 1;if(s<u)return-1}return 0}function rk(){var e=window&&window.navigator?navigator.userAgent:"",t=/^jdapp/i.test(e),r=/ip(hone|od)|ipad/i.test(e),n=/android/i.test(e)&&!r;return new xS((function(e){if(t)if(top===self){var o="getNetWorkType_".concat(WS(8));window[o]||(window[o]=function(t){e({status:"0",msg:"success",data:t})});try{r&&window.webkit?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"getNetWorkType",params:o}):n&&window.JDAppUnite&&window.JDAppUnite.getNetWorkType(o)}catch(t){e({msg:"fail",data:"error"})}}else e({status:"0",msg:"success",data:"unknown"});else{if(window&&window.navigator){var i=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{},a=i.type||i.effectiveType||"unknown";e({msg:"success",data:a})}e({msg:"fail",data:"error"})}}))}var nk=m,ok=Re,ik=Y,ak=Qe,ck=Gn,sk=a,uk=Function,lk=nk([].concat),fk=nk([].join),dk={},pk=function(e,t,r){if(!ak(dk,t)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";dk[t]=uk("C,a","return new C("+fk(n,",")+")")}return dk[t](e,r)},hk=sk?uk.bind:function(e){var t=ok(this),r=t.prototype,n=ck(arguments,1),o=function(){var r=lk(n,ck(arguments));return this instanceof o?pk(t,r.length,r):t.apply(e,r)};return ik(r)&&(o.prototype=r),o},vk=hk;_r({target:"Function",proto:!0,forced:Function.bind!==vk},{bind:vk});var mk,gk,yk=Mc("Function","bind"),wk=ie,bk=yk,Sk=Function.prototype,kk=function(e){var t=e.bind;return e===Sk||wk(Sk,e)&&t===Sk.bind?bk:t};function Ak(){try{var e,t;if(!(mk="undefined"!=typeof crypto&&crypto.getRandomValues&&kk(e=crypto.getRandomValues).call(e,crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&kk(t=msCrypto.getRandomValues).call(t,msCrypto))){for(var r=0;r<16;r++)gk[r]=Math.floor(255*Math.random());return gk}return mk(gk)}catch(e){for(var n=0;n<16;n++)gk[n]=Math.floor(255*Math.random());return gk}}gk="function"==typeof Uint8Array?new Uint8Array(16):[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var Tk=[],jk=0;jk<256;++jk)Tk.push((jk+256).toString(16).substr(1));var Ok=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ik(e){return"string"==typeof e&&Ok.test(e)}function _k(e,t,r){var n=(e=e||{}).random||(e.rng||Ak)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Tk[e[t+0]]+Tk[e[t+1]]+Tk[e[t+2]]+Tk[e[t+3]]+"-"+Tk[e[t+4]]+Tk[e[t+5]]+"-"+Tk[e[t+6]]+Tk[e[t+7]]+"-"+Tk[e[t+8]]+Tk[e[t+9]]+"-"+Tk[e[t+10]]+Tk[e[t+11]]+Tk[e[t+12]]+Tk[e[t+13]]+Tk[e[t+14]]+Tk[e[t+15]]).toLowerCase();if(!Ik(r))throw TypeError("Stringified UUID is invalid");return r}(n)}var Rk=sessionStorage.getItem("agentSid")||"";function Ck(){return Rk||(Rk="string"==typeof(Rk=_k())?Rk:Dv(Rk),sessionStorage.setItem("agentSid",Rk)),Rk}var Pk=new function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(t){var r,n,o,i,a,c,s,u="",l=0;for(t=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(t);l<t.length;)i=(r=t.charCodeAt(l++))>>2,a=(3&r)<<4|(n=t.charCodeAt(l++))>>4,c=(15&n)<<2|(o=t.charCodeAt(l++))>>6,s=63&o,isNaN(n)?c=s=64:isNaN(o)&&(s=64),u=u+e.charAt(i)+e.charAt(a)+e.charAt(c)+e.charAt(s);return u},this.decode=function(t){var r,n,o,i,a,c,s="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=yp(e).call(e,t.charAt(u++))<<2|(i=yp(e).call(e,t.charAt(u++)))>>4,n=(15&i)<<4|(a=yp(e).call(e,t.charAt(u++)))>>2,o=(3&a)<<6|(c=yp(e).call(e,t.charAt(u++))),s+=String.fromCharCode(r),64!=a&&(s+=String.fromCharCode(n)),64!=c&&(s+=String.fromCharCode(o));return s=function(e){var t,r,n,o="",i=0;t=r=0;for(;i<e.length;)(t=e.charCodeAt(i))<128?(o+=String.fromCharCode(t),i++):t>191&&t<224?(r=e.charCodeAt(i+1),o+=String.fromCharCode((31&t)<<6|63&r),i+=2):(r=e.charCodeAt(i+1),n=e.charCodeAt(i+2),o+=String.fromCharCode((15&t)<<12|(63&r)<<6|63&n),i+=3);return o}(s),s}},Ek={id:null,endpoint:"//h5speed.m.jd.com/v3/exception",rate:1,ignoreErrors:[],ignoreUrls:[],onResourceError:null,stackLimit:10,flag:10,autoReport:!0},Nk={net:1,business:2,others:3,code:4,resource:5,unhandleRejection:6,ajaxError:7,colorApiError:8},xk=1,Uk=2,Jk=!1,Dk=function(){function e(){Qh(this,e)}return Zh(e,[{key:"init",value:function(e){try{if(Jk)return;Jk=!0,window.addEventListener&&window.addEventListener("unhandledrejection",(function(t){var r,n="",o="";t&&null!=t&&t.reason&&null!=t&&null!==(r=t.reason)&&void 0!==r&&r.message?(n="".concat(t.reason.message),o=t.reason.stack):n="object"===hf(null==t?void 0:t.reason)?Dv(null==t?void 0:t.reason):"".concat(null==t?void 0:t.reason),yp(n).call(n,"Network Error")>-1||yp(n).call(n,"Failed to fetch")>-1||yp(n).call(n,"Request failed")>-1||yp(n).call(n,"timeout of")>-1||e.reportException({err:{message:n,name:"Unhandledrejection",stack:o||""},extra:{stack:o||"",msg:n||""},errType:Nk.unhandleRejection,errLevel:4,isAutoReport:!0,errCdoe:701})}))}catch(e){console.log("UnhandledrejectionIntegration代码报错")}}}]),e}();function Mk(e){return function(e){if(wf(e))return Xd(e)}(e)||function(e){if(void 0!==Gl&&null!=If(e)||null!=e["@@iterator"])return Vd(e)}(e)||zd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bk=Xr.includes;_r({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return Bk(this,e,arguments.length>1?arguments[1]:void 0)}});var Lk=Mc("Array","includes"),qk=Y,Hk=b,Fk=ft("match"),Wk=function(e){var t;return qk(e)&&(void 0!==(t=e[Fk])?!!t:"RegExp"===Hk(e))},Vk=TypeError,Xk=ft("match"),zk=_r,Gk=function(e){if(Wk(e))throw new Vk("The method doesn't accept regular expressions");return e},$k=X,Kk=wn,Qk=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Xk]=!1,"/./"[e](t)}catch(e){}}return!1},Yk=m("".indexOf);zk({target:"String",proto:!0,forced:!Qk("includes")},{includes:function(e){return!!~Yk(Kk($k(this)),Kk(Gk(e)),arguments.length>1?arguments[1]:void 0)}});var Zk=Mc("String","includes"),eA=ie,tA=Lk,rA=Zk,nA=Array.prototype,oA=String.prototype,iA=function(e){var t=e.includes;return e===nA||eA(nA,e)&&t===nA.includes?tA:"string"==typeof e||e===oA||eA(oA,e)&&t===oA.includes?rA:t},aA=I,cA=m,sA=C,uA=i,lA=nn,fA=eo,dA=P,pA=Ge,hA=H,vA=Object.assign,mA=Object.defineProperty,gA=cA([].concat),yA=!vA||uA((function(){if(aA&&1!==vA({b:1},vA(mA({},"a",{enumerable:!0,get:function(){mA(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!==vA({},e)[r]||lA(vA({},t)).join("")!==n}))?function(e,t){for(var r=pA(e),n=arguments.length,o=1,i=fA.f,a=dA.f;n>o;)for(var c,s=hA(arguments[o++]),u=i?gA(lA(s),i(s)):lA(s),l=u.length,f=0;l>f;)c=u[f++],aA&&!sA(a,s,c)||(r[c]=s[c]);return r}:vA,wA=yA;_r({target:"Object",stat:!0,arity:2,forced:Object.assign!==wA},{assign:wA});var bA=Z.Object.assign,SA=au.PROPER,kA=i,AA=Yp,TA=ah.trim;_r({target:"String",proto:!0,forced:function(e){return kA((function(){return!!AA[e]()||"​᠎"!=="​᠎"[e]()||SA&&AA[e].name!==e}))}("trim")},{trim:function(){return TA(this)}});var jA=Mc("String","trim"),OA=ie,IA=jA,_A=String.prototype,RA=function(e){var t=e.trim;return"string"==typeof e||e===_A||OA(_A,e)&&t===_A.trim?IA:t},CA=Re,PA=Ge,EA=H,NA=qr,xA=TypeError,UA="Reduce of empty array with no initial value",JA=function(e){return function(t,r,n,o){var i=PA(t),a=EA(i),c=NA(i);if(CA(r),0===c&&n<2)throw new xA(UA);var s=e?c-1:0,u=e?-1:1;if(n<2)for(;;){if(s in a){o=a[s],s+=u;break}if(s+=u,e?s<0:c<=s)throw new xA(UA)}for(;e?s>=0:c>s;s+=u)s in a&&(o=r(o,a[s],s,i));return o}},DA={left:JA(!1),right:JA(!0)}.left;_r({target:"Array",proto:!0,forced:!oy&&pe>79&&pe<83||!Kd("reduce")},{reduce:function(e){var t=arguments.length;return DA(this,e,t,t>1?arguments[1]:void 0)}});var MA=Mc("Array","reduce"),BA=ie,LA=MA,qA=Array.prototype,HA=function(e){var t=e.reduce;return e===qA||BA(qA,e)&&t===qA.reduce?LA:t};function FA(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return WA(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WA(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function WA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function VA(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r,n=t[6]||"",o=t[8]||"",i={};n&&(i=HA(r=n.replace(/^\?/,"").split("&")).call(r,(function(e,t){var r=t.split("=");return e[r[0]]=decodeURIComponent(r[1]||""),e}),i));return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+o,queryParams:i,baseUrl:e.replace(/\?[^\?]*/,"")}}function XA(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},o=e.split("&"),i=FA(o);try{for(i.s();!(t=i.n()).done;){var a=t.value,c=a.split("="),s=Gd(c,2),u=s[0],l=s[1];null!=l&&(r&&(u=decodeURIComponent(u),l=decodeURIComponent(l)),n[u]=l)}}catch(e){i.e(e)}finally{i.f()}return n}function zA(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var n=Dv(t);return GA(e,n,r)}catch(n){return GA(e,t,r)}}function GA(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n&&(e=encodeURIComponent(e),t=encodeURIComponent(t)),Ap(r="".concat(e,"=")).call(r,t)}function $A(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return KA(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KA(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function KA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function QA(e){return"[object Object]"===Object.prototype.toString.call(e)}function YA(e){return"[object Function]"===Object.prototype.toString.call(e)}function ZA(e,t,r){var n=e[t];if("function"==typeof n&&!n.__wrapped__){var o=r(n);"function"==typeof o&&(o.prototype=o.prototype||{},bs(o,{__wrapped__:{enumerable:!1,value:!0},__original__:{enumerable:!1,value:n}})),e[t]=o}}function eT(e,t){var r=rg(t);return!!r&&r.test(e)}function tT(e){return null===e||""===e||void 0===e||"{}"===Dv(e)||"[]"===Dv(e)}function rT(e,t){var r=t.toLowerCase();for(var n in e)if(n.toLowerCase()===r)return e[n]}function nT(e,t){if(tT(e))return{};var r={},n=rT(t,"Content-Type");if(n&&iA(n).call(n,"application/x-www-form-urlencoded"))try{r=XA(e)}catch(e){r={}}else if(n&&iA(n).call(n,"application/json"))try{r=JSON.parse(e)}catch(e){r={}}else if(function(e){if("string"!=typeof e)return!1;try{var t=JSON.parse(e);return t&&"object"===hf(t)}catch(e){return!1}}(e))try{r=JSON.parse(e)}catch(e){r={}}else if(eg(e))try{r=XA(e)}catch(e){r={}}return r}function oT(e,t){if(null!=e){var r,n=$A(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(!tT(o.key)&&!tT(o.value)){var i=o.value;if(o.transformValue)try{var a=o.transformValue(o.value);tT(a)||(i=a)}catch(e){}e[o.key]=i}}}catch(e){n.e(e)}finally{n.f()}}}var iT=[/^https?:\/\/(beta-)?api\.m\.jd\.com/i];function aT(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}var cT=XMLHttpRequest.prototype,sT=function(){function e(t){Qh(this,e),this.options=function(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=aT(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=aT(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}({},t),this.xhrPrototype=XMLHttpRequest.prototype,this.init()}return Zh(e,[{key:"unset",value:function(){for(var t=0,r=["open","setRequestHeader","send","abort"];t<r.length;t++){var n=r[t],o=this.xhrPrototype[n];o&&o.__wrapped__&&o.__original__&&(this.xhrPrototype[n]=o.__original__)}e.instance=null}},{key:"init",value:function(){var e=this;ZA(cT,"open",(function(t){return function(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];try{var a,c=o[0],s=void 0===c?"GET":c,u=o[1],l=void 0===u?"":u,f=eT(l,Ap(a=[]).call(a,Mk(iT),Mk(e.options.captureApiHostList||[])));if(r._needTrack=f,f){r._record||(r._record={});var d=VA(l)||{};bA(r._record,{requestType:"XHR",method:s.toUpperCase(),url:d.baseUrl?d.baseUrl:l,query:d.queryParams?d.queryParams:{},pageUrl:window.location.href,canceled:!1})}}catch(e){}return t.apply(r,o)}})),ZA(cT,"setRequestHeader",(function(e){return function(){for(var t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];try{if(t._needTrack){t._record||(t._record={});var i=t._record;i.requestHeaders||(i.requestHeaders={});var a=n[0],c=n[1];a&&RA(a).call(a)&&bA(i.requestHeaders,gf({},RA(a).call(a),RA(c).call(c)))}}catch(e){}return e.apply(t,n)}})),ZA(cT,"send",(function(t){return function(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];try{if(r._needTrack){r._record||(r._record={});var a=r._record,c=a.method,s=void 0===c?"GET":c,u=a.requestHeaders,l=void 0===u?{}:u;if("GET"===s)bA(r._record,{body:{},requestStamp:pm()});else if("POST"===s){if(eg(o[0])){var f=nT(o[0],l);bA(r._record,{body:f})}bA(r._record,{requestStamp:pm()})}var d=function(){try{if(4===r.readyState){if(!r._needTrack)return;r._record||(r._record={});var t,n=r.getAllResponseHeaders()||"",o={};if(n)cp(t=n.split("\r\n")).call(t,(function(e){var t=Gd(e.split(":"),2),r=t[0],n=t[1];r&&RA(r).call(r)&&bA(o,gf({},RA(r).call(r),RA(n).call(n)))}));var i={},a=rT(o,"Content-Type");if(a&&/^(text\/plain|application\/json)(;|$)/i.test(a))try{var c=r.responseType&&"text"!==r.responseType?r.response:r.responseText;eg(c)?i=JSON.parse(c):QA(c)&&(i=c)}catch(e){i={}}var s=pm();if(bA(r._record,{responseHeaders:o,responseData:i,responseStamp:s,costTime:s-r._record.requestStamp,status:r.status,timeout:r.timeout}),!r._hasCallback){var u=e.options.apiCallBack;u&&YA(u)&&(u(r._record),r._hasCallback=!0)}}}catch(e){}},p=r.onreadystatechange,h=r.onloadend;"onreadystatechange"in r&&YA(p)?r.onreadystatechange=function(){d();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.apply(r,t)}:"onloadend"in r&&YA(h)?r.onloadend=function(){d();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.apply(r,t)}:r.onreadystatechange=d}}catch(e){}return t.apply(r,o)}})),ZA(cT,"abort",(function(e){return function(){var t=this;try{t._needTrack&&(t._record||(t._record={}),bA(t._record,{canceled:!0}))}catch(e){}return e.apply(t)}}))}}],[{key:"getInstance",value:function(t){return this.instance||(this.instance=new e(t)),this.instance}}]),e}();gf(sT,"instance",null);var uT=NS,lT=f,fT=Gn,dT=Fw,pT=Re,hT=Tw;_r({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=fT(arguments,1),r=dT.f(this),n=hT((function(){return lT(pT(e),void 0,t)}));return(n.error?r.reject:r.resolve)(n.value),r.promise}});var vT=uT,mT=vT;function gT(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):mT.resolve(s).then(n,o)}function yT(e){return function(){var t=this,r=arguments;return new mT((function(n,o){var i=e.apply(t,r);function a(e){gT(i,n,o,a,c,"next",e)}function c(e){gT(i,n,o,a,c,"throw",e)}a(void 0)}))}}var wT=o;_r({global:!0,forced:wT.globalThis!==wT},{globalThis:wT});var bT=o,ST={exports:{}},kT={exports:{}};!function(e){var t=zl,r=df;function n(o){return e.exports=n="function"==typeof t&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof t&&e.constructor===t&&e!==t.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(kT),r(kT.exports),_r({target:"Object",stat:!0,sham:!I},{create:Fn});var AT=Z.Object,TT=function(e,t){return AT.create(e,t)},jT=TT,OT=Ip,IT=ap;_r({target:"Object",stat:!0},{setPrototypeOf:Hu});var _T=Z.Object.setPrototypeOf,RT=_r,CT=zo,PT=m([].reverse),ET=[1,2];RT({target:"Array",proto:!0,forced:String(ET)===String(ET.reverse())},{reverse:function(){return CT(this)&&(this.length=this.length),PT(this)}});var NT=Mc("Array","reverse"),xT=ie,UT=NT,JT=Array.prototype,DT=function(e){var t=e.reverse;return e===JT||xT(JT,e)&&t===JT.reverse?UT:t};!function(e){var t=kT.exports.default,r=Rs,n=zl,o=jT,i=OT,a=IT,c=qf,s=_T,u=vT,l=DT,f=sd;function d(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=d=function(){return h},e.exports.__esModule=!0,e.exports.default=e.exports;var p,h={},v=Object.prototype,m=v.hasOwnProperty,g=r||function(e,t,r){e[t]=r.value},y="function"==typeof n?n:{},w=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag";function k(e,t,n){return r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{k({},"")}catch(p){k=function(e,t,r){return e[t]=r}}function A(e,t,r,n){var i=t&&t.prototype instanceof R?t:R,a=o(i.prototype),c=new q(n||[]);return g(a,"_invoke",{value:D(e,r,c)}),a}function T(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}h.wrap=A;var j="suspendedStart",O="executing",I="completed",_={};function R(){}function C(){}function P(){}var E={};k(E,w,(function(){return this}));var N=i&&i(i(H([])));N&&N!==v&&m.call(N,w)&&(E=N);var x=P.prototype=R.prototype=o(E);function U(e){var t;a(t=["next","throw","return"]).call(t,(function(t){k(e,t,(function(e){return this._invoke(t,e)}))}))}function J(e,r){function n(o,i,a,c){var s=T(e[o],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==t(l)&&m.call(l,"__await")?r.resolve(l.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):r.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;g(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(i,i):i()}})}function D(e,t,r){var n=j;return function(o,i){if(n===O)throw Error("Generator is already running");if(n===I){if("throw"===o)throw i;return{value:p,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=M(a,r);if(c){if(c===_)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===j)throw n=I,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=O;var s=T(e,t,r);if("normal"===s.type){if(n=r.done?I:"suspendedYield",s.arg===_)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=I,r.method="throw",r.arg=s.arg)}}}function M(e,t){var r=t.method,n=e.iterator[r];if(n===p)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=p,M(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var o=T(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,_;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=p),t.delegate=null,_):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function B(e){var t,r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),c(t=this.tryEntries).call(t,r)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function q(e){this.tryEntries=[{tryLoc:"root"}],a(e).call(e,B,this),this.reset(!0)}function H(e){if(e||""===e){var r=e[w];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=p,t.done=!0,t};return o.next=o}}throw new TypeError(t(e)+" is not iterable")}return C.prototype=P,g(x,"constructor",{value:P,configurable:!0}),g(P,"constructor",{value:C,configurable:!0}),C.displayName=k(P,S,"GeneratorFunction"),h.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},h.mark=function(e){return s?s(e,P):(e.__proto__=P,k(e,S,"GeneratorFunction")),e.prototype=o(x),e},h.awrap=function(e){return{__await:e}},U(J.prototype),k(J.prototype,b,(function(){return this})),h.AsyncIterator=J,h.async=function(e,t,r,n,o){void 0===o&&(o=u);var i=new J(A(e,t,r,n),o);return h.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},U(x),k(x,S,"Generator"),k(x,w,(function(){return this})),k(x,"toString",(function(){return"[object Generator]"})),h.keys=function(e){var t=Object(e),r=[];for(var n in t)c(r).call(r,n);return l(r).call(r),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},h.values=H,q.prototype={constructor:q,reset:function(e){var t;if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,a(t=this.tryEntries).call(t,L),!e)for(var r in this)"t"===r.charAt(0)&&m.call(this,r)&&!isNaN(+f(r).call(r,1))&&(this[r]=p)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=p),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=m.call(o,"catchLoc"),c=m.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:H(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=p),_}},h}e.exports=d,e.exports.__esModule=!0,e.exports.default=e.exports}(ST),r(ST.exports);var MT=ST.exports(),BT=MT;try{regeneratorRuntime=MT}catch(e){"object"===(void 0===bT?"undefined":hf(bT))?bT.regeneratorRuntime=MT:Function("r","regeneratorRuntime = r")(MT)}function LT(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return qT(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qT(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function qT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function HT(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=HT(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=HT(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function WT(){if(!("fetch"in window))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}var VT,XT=function(){function e(t){Qh(this,e),this.options=FT({},t),this.init()}return Zh(e,[{key:"unset",value:function(){if(WT()){var t=window.fetch;t&&t.__wrapped__&&t.__original__&&(window.fetch=t.__original__),e.instance=null}}},{key:"init",value:function(){if(function(){if(!WT())return!1;try{var e;return-1!==yp(e=window.fetch.toString()).call(e,"native")}catch(e){return!1}}()){var e=this;ZA(window,"fetch",(function(t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var i,a=n[0],c=n[1],s="GET",u="",l={},f={},d={},p={},h=!1,v={},m=!1;try{var g;if(eg(a))u=a;else if("Request"in window&&a instanceof Request){if("POST"===a.method&&a.body){var y=(i=yT(BT.mark((function e(){var t,r,n,o,i,c,s,u,l,f=arguments;return BT.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:100,r=a.clone&&a.clone()){e.next=4;break}throw new Error("Request.clone()不存在");case 4:if(n=r&&r.body&&r.body.getReader&&r.body.getReader()){e.next=7;break}throw new Error("Request.body.getReader()不存在");case 7:if(n.read){e.next=9;break}throw new Error("Request.body.getReader().read()不存在");case 9:o=pm(),i=[],e.prev=11;case 12:return e.next=15,n.read();case 15:if(c=e.sent,s=c.done,u=c.value,!s){e.next=23;break}return l=i.join(""),e.abrupt("return",l);case 23:u&&i.push((new TextDecoder).decode(u));case 24:if(!(pm()-o>=t)){e.next=26;break}throw new Error("解析超时");case 26:e.next=12;break;case 28:e.next=33;break;case 30:throw e.prev=30,e.t0=e.catch(11),e.t0;case 33:case"end":return e.stop()}}),e,null,[[11,30]])}))),function(){return i.apply(this,arguments)});h=!0,u=a.url||"",p={method:a.method,headers:a.headers,body:{}},y(100).then((function(e){if(!tT(e)){var t=nT(e,d);tT(t)||bA(v,{body:t})}})).catch((function(e){console.warn("getReader解析body时出错",e)}))}}else u=String(a);if(m=eT(u,Ap(g=[]).call(g,Mk(iT),Mk(e.options.captureApiHostList||[])))){if(!tT(c)&&QA(c)&&(p=FT(FT({},p),c)),!tT(p)){var w=p,b=w.headers,S=w.body,k=w.method;if(b)if("Headers"in window&&b instanceof Headers){var A,T={},j=LT(b);try{for(j.s();!(A=j.n()).done;){var O=Gd(A.value,2),I=O[0],_=O[1];T[I]=_}}catch(e){j.e(e)}finally{j.f()}bA(d,T)}else QA(b)?bA(d,b):d={};!tT(S)&&eg(S)&&(f=S),tT(k)||(s=k.toUpperCase())}var R=VA(u)||{};l=R.queryParams?R.queryParams:{},u=R.baseUrl?R.baseUrl:u,"GET"===s?f={}:"POST"===s&&(h||(f=nT(f,d))),bA(v,{requestType:"Fetch",method:s,url:u,query:l,body:f,requestHeaders:d,requestStamp:pm(),pageUrl:window.location.href,canceled:!1})}}catch(e){m=!1}return t.apply(window,n).then((function(t){try{if(m){var r,n={},o=LT(t.headers);try{for(o.s();!(r=o.n()).done;){var i=Gd(r.value,2),a=i[0],c=i[1];n[a]=c}}catch(e){o.e(e)}finally{o.f()}var s=pm(),u=s-v.requestStamp,l=t.status;bA(v,{status:l,responseHeaders:n,responseStamp:s,costTime:u});var f=rT(n,"Content-Type");if(f&&/^(text\/plain|application\/json)(;|$)/i.test(f))t.clone().json().then((function(t){bA(v,{responseData:t});var r=e.options.apiCallBack;r&&YA(r)&&r(v)})).catch((function(t){bA(v,{responseData:{}});var r=e.options.apiCallBack;r&&YA(r)&&r(v)}))}}catch(e){}return t})).catch((function(t){try{if(m){var r=pm(),n=r-v.requestStamp;bA(v,{responseStamp:r,costTime:n,errorInfo:{type:t.name,errMsg:t.message},canceled:"AbortError"===t.name});var o=e.options.apiCallBack;o&&YA(o)&&o(v)}}catch(e){}throw t}))}}))}else console.warn("当前环境无原生 Fetch 支持，跳过拦截监控")}}],[{key:"getInstance",value:function(t){return this.instance||(this.instance=new e(t)),this.instance}}]),e}();function zT(e,t,r){var n;try{var o=e||{},i=o.status,a=o.url,c=void 0===a?"":a,s=o.requestType,u=void 0===s?"XHR":s,l=o.timeout,f=void 0===l?0:l,d=o.costTime,p=void 0===d?0:d,h=o.body,v=void 0===h?{}:h,m=o.query,g=void 0===m?{}:m,y=o.requestHeaders,w=void 0===y?{}:y,b=o.responseHeaders,S=void 0===b?{}:b,k=o.method,A=void 0===k?"GET":k,T=o.errorInfo,j=void 0===T?{}:T,O=o.responseData,I=void 0===O?{}:O,_=o.requestStamp,R=void 0===_?0:_,C="接口请求异常",P="",E=Nk.ajaxError,N="XHR"===u,x=function(e){return/^https?:\/\/(beta-)?api\.m\.jd\.com/i.test(e)}(c);if("GET"!==A||tT(g)||tT(g.functionId)?"POST"!==A||tT(v)||tT(v.functionId)||(P=v.functionId,delete v.functionId):(P=g.functionId,delete g.functionId),i>=200&&i<300)switch(t){case VT.All:case VT.ColorApiError:if(tT(I)||tT(I.code))return{shouldReport:!1};var U,J=I.code;if(tT(r)||-1===yp(r).call(r,J))return{shouldReport:!1};C=Ap(U="".concat(P,"接口请求code=")).call(U,J),x&&!tT(P)&&(E=Nk.colorApiError);break;default:return{shouldReport:!1}}else switch(t){case VT.All:case VT.AjaxError:C=Ap(n="".concat(P,"接口请求status=")).call(n,i),N&&0===i?C="".concat(P,f>0&&p>=f?"接口请求超时":"接口请求异常"):N||tT(j)||(C="".concat(P,"接口请求异常"));break;default:return{shouldReport:!1}}var D="";!tT(S)&&S["x-api-request-id"]&&(D=S["x-api-request-id"],delete S["x-api-request-id"]),tT(g)||(g.h5st&&delete g.h5st,g["x-api-eid-token"]&&delete g["x-api-eid-token"]),tT(v)||(v.h5st&&delete v.h5st,v["x-api-eid-token"]&&delete v["x-api-eid-token"]);var M=VA(c),B={method:A,timestamp:R};oT(B,[{key:"protocol",value:M.protocol},{key:"domain",value:M.host},{key:"path",value:M.path},{key:"functionId",value:P},{key:"query",value:g,transformValue:function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[];for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];null!=o&&(Zm(o)||QA(o)?r.push(zA(n,o,t)):o instanceof Date?r.push(GA(n,o.toISOString(),t)):r.push(GA(n,o,t)))}return r.join("&")}(e)}},{key:"body",value:v,transformValue:function(e){return Dv(e)}},{key:"headers",value:w}]);var L={duration:p};return oT(L,[{key:"status",value:i},{key:"headers",value:S},{key:"body",value:I,transformValue:function(e){return Dv(e)}},{key:"trace",value:D,transformValue:function(e){return{traceId:e}}}]),{errorMessage:C,content:{reqType:u,req:B,res:L},shouldReport:!0,errorType:E}}catch(e){return{shouldReport:!1}}}gf(XT,"instance",null),function(e){e.None="None",e.AjaxError="AjaxError",e.ColorApiError="ColorApiError",e.All="All"}(VT||(VT={}));var GT=!1,$T=!1,KT=function(){function e(){Qh(this,e)}return Zh(e,[{key:"init",value:function(e){var t=this;try{if(!e||tT(e._extraModules))return;var r=e._extraModules,n=r.captureXhr,o=r.captureFetch,i=["-1","1","2","600","601","604","605"];if(!GT&&!tT(n)){GT=!0;var a=this.getCaputureRequestType(n.types);if(a!==VT.None){var c=tT(n.rate)?1:n.rate;if(Math.random()<c){var s,u=Zm(n.apiHostList)?n.apiHostList:[],l=Zm(n.extraColorCodes)?Ap(s=[]).call(s,Mk(n.extraColorCodes),i):i;sT.getInstance({captureApiHostList:u,apiCallBack:function(r){return t.reportError({agent:e,recordInfo:r,caputureType:a,colorCodes:l})}})}}}if(!$T&&!tT(o)){$T=!0;var f=this.getCaputureRequestType(o.types);if(f!==VT.None){var d=tT(o.rate)?1:o.rate;if(Math.random()<d){var p,h=Zm(o.apiHostList)?o.apiHostList:[],v=Zm(o.extraColorCodes)?Ap(p=[]).call(p,Mk(o.extraColorCodes),i):i;XT.getInstance({captureApiHostList:h,apiCallBack:function(r){return t.reportError({agent:e,recordInfo:r,caputureType:f,colorCodes:v})}})}}}}catch(e){console.warn("开启接口拦截异常:",e)}}},{key:"reportError",value:function(e){var t=e||{},r=t.agent,n=t.recordInfo,o=t.caputureType,i=t.colorCodes;try{var a=zT(JSON.parse(Dv(n)),o,i)||{},c=a.shouldReport,s=a.content,u=a.errorMessage,l=a.errorType;if(!c)return;r.report({errType:l,errCode:l===Nk.colorApiError?601:602,errMsg:u||"",errLevel:4,content:s,isAutoReport:!0})}catch(e){}}},{key:"getCaputureRequestType",value:function(e){if(!Zm(e)||0===e.length)return VT.None;var t=iA(e).call(e,Nk.ajaxError),r=iA(e).call(e,Nk.colorApiError);return t&&r?VT.All:t?VT.AjaxError:r?VT.ColorApiError:VT.None}}]),e}();function QT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.unshift("<JS Agent>:"),console.warn.apply(console,t)}function YT(e){var t=e||{},r=t.request,n=t.data,o=t.method,i=t.responseType,a=t.timeout,c=t.withCredentials,s=t.maxPostLength,u=t.reject;i&&(r.responseType=i),a&&(r.timeout=a||0),c&&(r.withCredentials=c),"POST"===o.toUpperCase()&&null!==n&&Dv(n).length>s&&u(new Error({message:"请求数据超过最大长度限制",options:e,request:r}))}function ZT(e){var t,r,n=e||{},o=n.request,i=n.data,a=n.headers,c=n.auth;void 0!==(r=i)&&r instanceof FormData&&delete a["Content-Type"],c&&(a.Authorization="Basic "+window.btoa(c.username+":"+c.password)),cp(t=cn(a)).call(t,(function(e){null===i&&"content-type"===e.toLowerCase()?delete a[e]:o.setRequestHeader(e,a[e])}))}function ej(e){var t=e||{},r=t.request,n=t.responseType,o=t.timeout,i=t.resolve,a=t.reject;r.onreadystatechange=function(){if(4===r.readyState&&0!==r.status){var t=r.getAllResponseHeaders(),o={data:"text"!==n?r.response:r.responseType,status:r.status,statusText:r.statusText,headers:t,options:e,request:r};i(o)}},r.onerror=function(){a(new Error({message:"提示：网络错误！",options:e,request:r}))},r.ontimeout=function(){a(new Error({message:"提示：超时".concat(o,"毫秒！"),options:e,request:r}))}}function tj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.url,n=t.method,o=void 0===n?"POST":n,i=t.headers,a=void 0===i?{}:i,c=t.responseType,s=t.timeout,u=void 0===s?0:s,l=t.auth,f=t.withCredentials,d=void 0===f||f,p=t.maxPostLength;return e=e?Pk.encode(Dv(e)):null,new xS((function(t,n){XMLHttpRequest||n(new Error({message:"不支持低版本浏览器"}));var i=new XMLHttpRequest;i.open(null==o?void 0:o.toUpperCase(),r,!0),YT({request:i,data:e,method:o,responseType:c,timeout:u,withCredentials:d,maxPostLength:p,reject:n}),ZT({request:i,data:e,headers:a,auth:l}),ej({request:i,responseType:c,timeout:u,resolve:t,reject:n}),i.send(e)}))}function rj(e){var t=e.url,r=e.method,n=e.reportData;if(t&&n)try{var o=!1,i={url:t,method:r};Qp(n)?function e(t){if(0!==t.length&&!o){var r=um(t).call(t,0,1);o=!0,tj(r[0],i).then((function(){o=!1,e(t)})).catch((function(r){console.error("上报数据失败:",r),o=!1,e(t)}))}}(n):tj(n,i).then((function(){})).catch((function(e){console.error("上报数据失败:",e)}))}catch(e){console.error("上报数据失败~:",e)}}function nj(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=nj(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=nj(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function ij(e){try{for(var t=e.exceptions,r=[];t.length;)r.push(oj(oj({flag:e.flag,libVer:e.libVer,network:e.network,rts:e.rts,title:e.title,url:e.url,sid:e.sid},1===e.batch?{batch:e.batch}:{}),{},{exceptions:um(t).call(t,0,10)}));rj({url:"https://h5speed.m.jd.com/v4/exception",reportData:r})}catch(e){QT(e)}}var aj=navigator.userAgent.toLowerCase(),cj=aj.split(";"),sj="jdlog"===cj[1]?"harmony"===cj[2]:"harmony"===cj[1],uj="jdlog"===cj[1]?"android"===cj[2]:"android"===cj[1],lj="jdlog"===cj[1]?"iphone"===cj[2]:"iphone"===cj[1],fj=-1!=yp(aj).call(aj,"jdapp")&&!sj,dj=-1!=yp(aj).call(aj,"ipad");function pj(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return hj(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hj(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function hj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function vj(e){var t,r=e.stack.split("\n"),n=[],o=[/^\s*at((?:\s\S+)+) \(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,/^\s*(.+)@\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i,/at\s+()(.*):(\d*):(\d*)/i],i=pj(r);try{var a=function(){var e=t.value,r=void 0;if(jh(o).call(o,(function(t){var n=t.exec(e);if(n)return r=n,!0})),r){var i={url:r[2],func:ng(r[1]),line:Number(r[3]),column:Number(r[4])};n.push(i)}};for(i.s();!(t=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return n}function mj(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function gj(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=mj(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=mj(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function yj(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return wj(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wj(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function wj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var bj,Sj=function(){function e(){var t=this;Qh(this,e),this.VERSION="4.3.3",this._config=null,this._installed=!1,this._ignoreOnError=!1,this._lastException=null,this._needReport=!1,this._plugins={},this._ignoreErrorsDefault=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/(\w*\s*)missing \) after argument list(\w*\s*)/,/(\w*\s*)\'offsetWidth\'(\s*)of(\s*)null(\s*\w*)/],this._ignoreErrors=null,this._ignoreUrlsDefault=[/.jd-jssdk.min.js$/],this._ignoreUrls=null,this._onResourceError=null,this._interceptors=[],this._action=og.getInstance(),this._autoReport=!0,this._calledStart=!1,this._maxCacheLen=50,this._cacheData={},this._extraModules={},rk().then((function(e){"success"===e.msg&&(t.network=e.data)})).catch((function(e){}))}return Zh(e,[{key:"init",value:function(e){if(this._config=Ym({},Ek,e),this._config.flag){if(this._installed)return;this._autoReport=!!this._config.autoReport,this._onResourceError=this._config.onResourceError,this._extraModules=tg(this._config.extraModules)?this._config.extraModules:{},this._commonCofig(),this._wrapBuiltIns(),this._installPlugins(),(new KT).init(this),(new Dk).init(this),this._installed=!0}else QT("config.flag 没有配置，必须配置flag.");return this}},{key:"setConfig",value:function(e){try{var t={};if(!e)return;if(!this._installed)return void QT("请先调用jsagentInit初始化");e.ignoreErrors&&Zm(e.ignoreErrors)&&(t.ignoreErrors=e.ignoreErrors),e.ignoreUrls&&Zm(e.ignoreUrls)&&(t.ignoreUrls=e.ignoreUrls),e.hasOwnProperty("rate")&&(t.rate=e.rate),this._config=Ym({},this._config,t),this._commonCofig()}catch(e){QT(e)}}},{key:"_commonCofig",value:function(){var e,t;this._needReport=Math.random()<this._config.rate,this._ignoreErrors=Ap(e=this._ignoreErrorsDefault).call(e,this._config.ignoreErrors),this._ignoreErrors=rg(this._ignoreErrors),this._ignoreUrls=Ap(t=this._ignoreUrlsDefault).call(t,this._config.ignoreUrls),this._ignoreUrls=rg(this._ignoreUrls)}},{key:"addPlugin",value:function(e){if("function"==typeof e&&e.name&&!this._plugins[e.name]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this._plugins[e.name]={args:r,fn:e,installed:!1},this._installed&&this._installPlugins()}return this}},{key:"addInterceptor",value:function(e){"function"==typeof e&&(this._interceptors||(this._interceptors=[]),this._interceptors.push(e))}},{key:"removeInterceptor",value:function(e){var t;if("function"==typeof e&&this._interceptors){var r,n=yp(t=this._interceptors).call(t,e);if(n>-1)um(r=this._interceptors).call(r,n,1)}}},{key:"_installPlugins",value:function(){for(var e in this._plugins){var t,r=this._plugins[e];if(!r.installed)r.fn.apply(this,Ap(t=[this]).call(t,r.args)),r.installed=!0}}},{key:"reportException",value:function(e){var t,r,n=e.err,o=e.extra,i=e.errLevel,a=e.errType,c=e.errCdoe,s=e.isAutoReport,u=void 0!==s&&s,l={type:n.name,stack:qp(t=vj(n)).call(t,0,null===(r=this._config)||void 0===r?void 0:r.stackLimit)};if(l.stack.length){var f=l.stack[0];l.row=f.line,l.col=f.column,l.file=f.url}var d={errType:a||Nk.code,errCode:c||750,errMsg:n.message,exceptionInfo:l};o&&(d.extraData=o),d.errLevel="number"==typeof i?i:4,d.reType=u?xk:Uk,this._ignoreErrors&&this._ignoreErrors.test(n.message)||this._ignoreUrls&&this._ignoreUrls.test(n.file)||this._trySend(d)}},{key:"report",value:function(e){var t=e.errType,r=e.errCode,n=e.errMsg,o=e.extra,i=e.errLevel,a=e.moduleId,c=e.flag,s=e.content,u=e.isAutoReport,l=void 0!==u&&u,f={};f.errType=t,f.errCode=r,f.errMsg=n,o&&(f.extraData=o),s&&(f.content=s),f.reType=l?xk:Uk,f.errLevel="number"==typeof i?i:4,"string"==typeof a&&a&&(f.moduleId=a),c&&(f.reFlag=Number(c)),this._trySend(f)}},{key:"reportByJSbridge",value:function(e){var t=e.errType,r=e.errCode,n=e.errMsg,o=e.extra,i={errType:t,errCode:r,errMsg:n};o&&(i.extraData=o),fj?this._trySendByJsbrige(i):this._trySend(i)}},{key:"_getCacheData",value:function(e){return this._cacheData[e]?this._cacheData[e]:[]}},{key:"_setCacheData",value:function(e,t){var r=this._getCacheData(t);this._cacheData[t]=r.length<this._maxCacheLen?Ap(r).call(r,e):r}},{key:"_clearCacheData",value:function(){this._cacheData={}}},{key:"_formatItemData",value:function(e){var t,r,n,o=this._action.getActionInfo(),i=o.userTraceDom,a=o.userTraceEvent,c=o.userTraceTs;return Ym({rts:pm(),userTraceDom:Ap(t=[]).call(t,i),userTraceEvent:Ap(r=[]).call(r,a),userTraceTs:Ap(n=[]).call(n,c)},e)}},{key:"_trySend",value:function(e){var t=Ym({},e);e=this._formatItemData(e),this._autoReport||this._calledStart?this._send([e],t):this._setCacheData(e,"sendData")}},{key:"_trySendByJsbrige",value:function(e){e=this._formatItemData(e),this._autoReport||this._calledStart?this._sendByJSbridge([e]):this._setCacheData(e,"jsBrigeData")}},{key:"wrap",value:function(e){if(e){if(e._wrapped)return e._wrapped;var t=this;if("function"!=typeof e&&"function"==typeof e.handleEvent){var r=e.handleEvent;return e.handleEvent=function(){try{for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];r.apply(e,o)}catch(e){throw t.reportException({err:e,extra:null,errLevel:4,isAutoReport:!0}),t._ignoreNextOnError(),e}},e._wrapped=e,e}var n=function(){try{for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}catch(e){throw t.reportException({err:e,extra:null,errLevel:4,isAutoReport:!0}),t._ignoreNextOnError(),e}};return"function"!=typeof e?e:(e._wrapped=n,n)}}},{key:"_wrapBuiltIns",value:function(){var e=this;function t(e,t,r){var n=e[t];e[t]=r(n)}function r(r){var n=window[r]&&window[r].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(t(n,"addEventListener",(function(t){return function(r,n,o,i){return t.call(this,r,e.wrap(n),o,i)}})),t(n,"removeEventListener",(function(e){return function(t,r,n){return e.call(this,t,r&&r._wrapped||r,n)}})))}function n(t){return function(r){return t.call(this,e.wrap(r))}}function o(t){return function(r){for(var n,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return t.call.apply(t,Ap(n=[this,e.wrap(r)]).call(n,i))}}for(var i=0,a=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];i<a.length;i++){r(a[i])}t(window,"setTimeout",o),t(window,"setInterval",o),window.requestAnimationFrame&&t(window,"requestAnimationFrame",n),window.$&&window.$.fn&&window.$.fn.ready&&t($.fn,"ready",n),t(window,"onerror",(function(t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e._ignoreOnError||e._ignoreErrors&&e._ignoreErrors.test(n[0])||e._ignoreUrls&&e._ignoreUrls.test(n[1])||e.reportException({err:n[4]||new Error("window.onerror"),extra:null,errLevel:4,isAutoReport:!0}),t&&t.apply(this,n)}})),window.addEventListener("error",(function(t){var r=t.target;if("SCRIPT"===r.tagName||"LINK"===r.tagName){var n=r.src||r.href;e.report({errType:Nk.resource,errCode:0,errMsg:"".concat(n," 没有加载成功."),isAutoReport:!0})}}),!0)}},{key:"start",value:function(){if(this._installed){if(!this._calledStart){this._calledStart=!0;var e=this._cacheData,t=e.jsBrigeData,r=e.sendData;r&&r.length&&this._send(r,void 0,1),t&&t.length&&this._sendByJSbridge(t),this._clearCacheData()}}else QT("请先调用jsagentInit初始化")}},{key:"_formatData",value:function(){var e=document.getElementsByTagName("title")[0]&&document.getElementsByTagName("title")[0].innerText||"";return{flag:this._config.flag,rts:pm(),libVer:this.VERSION,url:window.location.href.split("?")[0]||"",title:e,network:this.network||"unknown",sid:Ck()}}},{key:"_interceptorsMap",value:function(e){if(this._interceptors&&this._interceptors.length>0){var t=this;e=Fc(e).call(e,(function(e){var r,n=yj(t._interceptors);try{for(n.s();!(r=n.n()).done;){if(!(e=(0,r.value)(e)))break}}catch(e){n.e(e)}finally{n.f()}return e}))}return e}},{key:"_send",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e=this._interceptorsMap(e),this._needReport&&e.length){var n=Dv(t||e);if(n!==this._lastException){this._lastException=n;var o=gj(gj({},this._formatData()),{},{batch:r,exceptions:e});ij(o)}}}},{key:"_sendByJSbridge",value:function(e){if(e=this._interceptorsMap(e),this._needReport&&e.length){var t=e[0],r=t.errCode,n=t.errType,o=t.errMsg,i=t.extraData,a=void 0===i?{}:i,c=t.userTraceDom,s=t.userTraceEvent,u=t.userTraceTs,l=t.rts;t.url;var f=gj({errCode:r,userTraceDom:c,userTraceEvent:s,userTraceTs:u,rts:l},this._formatData()),d={businessType:"exceptionReport",params:{functionInfo:"".concat(n),errMsg:o,exceptionInfo:Dv(f),url:f.url,extra:Dv(a)}};try{!function(e){if(lj||dj)try{window.webkit&&window.webkit.messageHandlers.JDAppUnite.postMessage({method:"notifyMessageToNative",params:e})}catch(e){console.log("jsbridge 上报异常",e)}else if(uj)try{window.JDAppUnite&&window.JDAppUnite.notifyMessageToNative(e)}catch(e){console.log("jsbridge 上报异常",e)}}(Dv(d))}catch(e){console.warn("report by bridge error...",e)}}}},{key:"_ignoreNextOnError",value:function(){var e=this;this._ignoreOnError=!0,Kh((function(){return e._ignoreOnError=!1}))}}]),e}();function kj(){var e,t;bj||(e=window.JSAgent,(t=new Sj).noConflict=function(){return window.JSAgent=e,t},t.EXCEPTION_TYPE=Nk,bj=t)}function Aj(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=Aj(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=Aj(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}var jj=function(){function e(){Qh(this,e),gf(this,"reportData",{fcp:null,fp:null,lcp:[],fid:null,cls:null,tbt:null,clsInfo:[],tti:null,longTask:[],fps:[]})}return Zh(e,[{key:"setFPS",value:function(e){this.reportData.fps.push(e)}},{key:"setFP",value:function(e){this.reportData.fp=e}},{key:"setFCP",value:function(e){this.reportData.fcp=e}},{key:"setLCP",value:function(e){this.reportData.lcp=e}},{key:"setFID",value:function(e){this.reportData.fid=e}},{key:"setCLS",value:function(e){this.reportData.cls=e,this.reportData.clsInfo=[]}},{key:"setCLSInfo",value:function(e){var t;null===(t=this.reportData.clsInfo)||void 0===t||t.push(e)}},{key:"setTTI",value:function(e){this.reportData.tti=e}},{key:"setLongTask",value:function(e){this.reportData.longTask.push(e)}},{key:"setTBT",value:function(){var e=this.reportData,t=e.longTask,r=e.fcp,n=e.tti;if(t.length>0){var o=0;cp(t).call(t,(function(e){r&&e.startTime>=r&&(null==n||e.startTime<=n)&&(o+=e.duration-50)})),this.reportData.tbt=Bv(o)}}},{key:"buildServerInfoParam",value:function(e){var t=[];for(var r in e){var n;t.push(r+"="+encodeURIComponent(null!==(n=e[r])&&void 0!==n?n:""))}return t.join("&")}},{key:"buildPerformanceParam",value:function(){for(var e=this.reportData,t=e.fp,r=e.fcp,n=e.lcp,o=e.fid,i=e.cls,a=e.clsInfo,c=e.tti,s=e.longTask,u=e.tbt,l=e.fps,f=[],d=0;d<s.length&&(f.push(s[d].duration),9!=d);d++);return{fp:t,fcp:r,lcp:"".concat(encodeURIComponent(Dv(n))),fid:o,cls:i,clsInfo:encodeURIComponent(Dv(a)),tti:c,fps:encodeURIComponent(Dv(l)),longTask:encodeURIComponent(Dv(f)),tbt:u}}},{key:"report",value:function(e){if(e&&null!=e.options.flag&&e.selected){this.setTBT();var t=this.buildPerformanceParam(),r=Tj(Tj({},e.getServerInfo()),t);try{rj({url:"https://h5speed.m.jd.com/v4/speed/event",reportData:r})}catch(e){}}}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}();gf(jj,"instance",void 0);var Oj,Ij=[],_j=6e3,Rj=function(e){"function"==typeof e&&Ij.push(e)},Cj=function(e,t){try{var r;if(-1!=yp(r=PerformanceObserver.supportedEntryTypes).call(r,e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){for(var r=e.getEntries(),n=0;n<r.length;n++)t(r[n])}));return n.observe({type:e,buffered:!0}),Rj((function(){n.disconnect()})),n}}catch(e){}},Pj=function(){var e=jj.getInstance();Cj("largest-contentful-paint",(function(t){var r=t.startTime;e.setLCP([Bv(r)+"",null==(null==t?void 0:t.element)?"null":Mv(null==t?void 0:t.element)])}))},Ej=function(){var e=jj.getInstance();Cj("first-input",(function(t){var r=t.processingStart-t.startTime;e.setFID(Bv(r))}))},Nj={exports:{}},xj=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),Uj=i,Jj=Y,Dj=b,Mj=xj,Bj=Object.isExtensible,Lj=Uj((function(){Bj(1)}))||Mj?function(e){return!!Jj(e)&&((!Mj||"ArrayBuffer"!==Dj(e))&&(!Bj||Bj(e)))}:Bj,qj=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),Hj=_r,Fj=m,Wj=zr,Vj=Y,Xj=Qe,zj=Qt.f,Gj=Wn,$j=zn,Kj=Lj,Qj=qj,Yj=!1,Zj=rt("meta"),eO=0,tO=function(e){zj(e,Zj,{value:{objectID:"O"+eO++,weakData:{}}})},rO=Nj.exports={enable:function(){rO.enable=function(){},Yj=!0;var e=Gj.f,t=Fj([].splice),r={};r[Zj]=1,e(r).length&&(Gj.f=function(r){for(var n=e(r),o=0,i=n.length;o<i;o++)if(n[o]===Zj){t(n,o,1);break}return n},Hj({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:$j.f}))},fastKey:function(e,t){if(!Vj(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Xj(e,Zj)){if(!Kj(e))return"F";if(!t)return"E";tO(e)}return e[Zj].objectID},getWeakData:function(e,t){if(!Xj(e,Zj)){if(!Kj(e))return!0;if(!t)return!1;tO(e)}return e[Zj].weakData},onFreeze:function(e){return Qj&&Yj&&Kj(e)&&!Xj(e,Zj)&&tO(e),e}};Wj[Zj]=!0;var nO=_r,oO=o,iO=Nj.exports,aO=i,cO=mr,sO=Ug,uO=dy,lO=j,fO=Y,dO=F,pO=Ro,hO=Qt.f,vO=Oi.forEach,mO=I,gO=Vo.set,yO=Vo.getterFor,wO=ro,bO=Fn,SO=oo,kO=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:wO(e,n,t[n],r);return e},AO=Kt,TO=dy,jO=F,OO=Ug,IO=il,_O=al,RO=uy,CO=I,PO=Nj.exports.fastKey,EO=Vo.set,NO=Vo.getterFor,xO={getConstructor:function(e,t,r,n){var o=e((function(e,o){TO(e,i),EO(e,{type:t,index:bO(null),first:void 0,last:void 0,size:0}),CO||(e.size=0),jO(o)||OO(o,e[n],{that:e,AS_ENTRIES:r})})),i=o.prototype,a=NO(t),c=function(e,t,r){var n,o,i=a(e),c=s(e,t);return c?c.value=r:(i.last=c={index:o=PO(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=c),n&&(n.next=c),CO?i.size++:e.size++,"F"!==o&&(i.index[o]=c)),e},s=function(e,t){var r,n=a(e),o=PO(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key===t)return r};return kO(i,{clear:function(){for(var e=a(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),t=t.next;e.first=e.last=void 0,e.index=bO(null),CO?e.size=0:this.size=0},delete:function(e){var t=this,r=a(t),n=s(t,e);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first===n&&(r.first=o),r.last===n&&(r.last=i),CO?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=a(this),n=AO(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),kO(i,r?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return c(this,0===e?0:e,t)}}:{add:function(e){return c(this,e=0===e?0:e,e)}}),CO&&SO(i,"size",{configurable:!0,get:function(){return a(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=NO(t),i=NO(n);IO(e,t,(function(e,t){EO(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?_O("keys"===t?r.key:"values"===t?r.value:[r.key,r.value],!1):(e.target=void 0,_O(void 0,!0))}),r?"entries":"values",!r,!0),RO(t)}},UO=function(e,t,r){var n,o=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),a=o?"set":"add",c=oO[e],s=c&&c.prototype,u={};if(mO&&lO(c)&&(i||s.forEach&&!aO((function(){(new c).entries().next()})))){var l=(n=t((function(t,r){gO(uO(t,l),{type:e,collection:new c}),dO(r)||sO(r,t[a],{that:t,AS_ENTRIES:o})}))).prototype,f=yO(e);vO(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"===e||"set"===e;!(e in s)||i&&"clear"===e||cO(l,e,(function(r,n){var o=f(this).collection;if(!t&&i&&!fO(r))return"get"===e&&void 0;var a=o[e](0===r?0:r,n);return t?this:a}))})),i||hO(l,"size",{configurable:!0,get:function(){return f(this).collection.size}})}else n=r.getConstructor(t,e,o,a),iO.enable();return pO(n,e,!1,!0),u[e]=n,nO({global:!0,forced:!0},u),i||r.setStrong(n,e,o),n};UO("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),xO);var JO=function(e,t){return 1===t?function(t,r){return t[e](r)}:function(t,r,n){return t[e](r,n)}},DO=oe("Map"),MO={Map:DO,set:JO("set",2),get:JO("get",1),has:JO("has",1),remove:JO("delete",1),proto:DO.prototype},BO=_r,LO=Re,qO=X,HO=Ug,FO=MO.Map,WO=MO.has,VO=MO.get,XO=MO.set,zO=m([].push);BO({target:"Map",stat:!0,forced:true},{groupBy:function(e,t){qO(e),LO(t);var r=new FO,n=0;return HO(e,(function(e){var o=t(e,n++);WO(r,o)?zO(VO(r,o),e):XO(r,o,[e])})),r}});var GO=Z.Map,$O=Mc("Array","values"),KO=mn,QO=Qe,YO=ie,ZO=$O,eI=Array.prototype,tI={DOMTokenList:!0,NodeList:!0},rI=function(e){var t=e.values;return e===eI||YO(eI,e)&&t===eI.values||QO(tI,KO(e))?ZO:t};function nI(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return oI(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oI(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function oI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var iI=0;var aI=["img","script","iframe","link","audio","video","source"];function cI(e,t){var r,n=nI(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(iA(t).call(t,o.nodeName.toLowerCase())||cI(o.children,t))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}function sI(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return uI(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uI(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function uI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lI=function(e,t){if(e.length>2)return performance.now();var r,n=[],o=sI(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.push({timestamp:i.start,type:"requestStart"}),n.push({timestamp:i.end,type:"requestEnd"})}}catch(e){o.e(e)}finally{o.f()}var a,c=sI(e);try{for(c.s();!(a=c.n()).done;){var s=a.value;n.push({timestamp:s,type:"requestStart"})}}catch(e){c.e(e)}finally{c.f()}Gm(n).call(n,(function(e,t){return e.timestamp-t.timestamp}));for(var u=e.length,l=n.length-1;l>=0;l--){var f=n[l];switch(f.type){case"requestStart":u--;break;case"requestEnd":if(++u>2)return f.timestamp;break;default:throw Error("Internal Error: This should never happen")}}return 0};function fI(e,t){var r=void 0!==qv&&Hv(e)||e["@@iterator"];if(!r){if(Qp(e)||(r=function(e,t){if(e){var r;if("string"==typeof e)return dI(e,t);var n=qp(r={}.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Lv(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dI(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function dI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var pI=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qh(this,e),this._useMutationObserver=!!t.useMutationObserver,this._minValue=t.minValue||null;var r=window.__tti&&window.__tti.e,n=window.__tti&&window.__tti.o;this._longTasks=r?zp(r).call(r,(function(e){return{start:e.startTime,end:e.startTime+e.duration}})):[],n&&n.disconnect(),this._networkRequests=[],this._incompleteJSInitiatedRequestStartTimes=new GO,this._timerId=null,this._timerActivationTime=-1/0,this._scheduleTimerTasks=!1,this._firstConsistentlyInteractiveResolver=null,this._performanceObserver=null,this._mutationObserver=null,this._registerListeners()}return Zh(e,[{key:"getFirstConsistentlyInteractive",value:function(){var e=this;return new xS((function(t,r){e._firstConsistentlyInteractiveResolver=t,"complete"==document.readyState?e.startSchedulingTimerTasks():window.addEventListener("load",(function(){e.startSchedulingTimerTasks()}))}))}},{key:"startSchedulingTimerTasks",value:function(){this._scheduleTimerTasks=!0;var e=this._longTasks.length>0?this._longTasks[this._longTasks.length-1].end:0,t=lI(this._incompleteRequestStarts,this._networkRequests);this.rescheduleTimer(Math.max(t+5e3,e))}},{key:"setMinValue",value:function(e){this._minValue=e}},{key:"rescheduleTimer",value:function(e){var t=this;this._scheduleTimerTasks&&("Previous timer activation time: ".concat(this._timerActivationTime),this._timerActivationTime>e||(clearTimeout(this._timerId),this._timerId=Kh((function(){t._checkTTI()}),e-performance.now()),this._timerActivationTime=e))}},{key:"disable",value:function(){clearTimeout(this._timerId),this._scheduleTimerTasks=!1,this._unregisterListeners()}},{key:"_registerPerformanceObserver",value:function(){var e=this;this._performanceObserver=new PerformanceObserver((function(t){var r,n=fI(t.getEntries());try{for(n.s();!(r=n.n()).done;){var o=r.value;"resource"===o.entryType&&e._networkRequestFinishedCallback(o),"longtask"===o.entryType&&e._longTaskFinishedCallback(o)}}catch(e){n.e(e)}finally{n.f()}})),this._performanceObserver.observe({entryTypes:["longtask","resource"]})}},{key:"_registerListeners",value:function(){var e,t,r,n,o,i,a,c,s,u,l,f;(o=kk(e=this._beforeJSInitiatedRequestCallback).call(e,this),i=kk(t=this._afterJSInitiatedRequestCallback).call(t,this),a=XMLHttpRequest.prototype.send,c=iI++,XMLHttpRequest.prototype.send=function(){var e=this;o(c),this.addEventListener("readystatechange",(function(){4===e.readyState&&i(c)}));for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.apply(this,r)},s=kk(r=this._beforeJSInitiatedRequestCallback).call(r,this),u=kk(n=this._afterJSInitiatedRequestCallback).call(n,this),l=fetch,fetch=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new xS((function(e,r){var n=iI++;s(n),l.apply(void 0,t).then((function(t){u(n),e(t)}),(function(e){u(e),r(e)}))}))},this._registerPerformanceObserver(),this._useMutationObserver)&&(this._mutationObserver=function(e){var t=new MutationObserver((function(t){var r,n=nI(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;("childList"==o.type&&cI(o.addedNodes,aI)||"attributes"==o.type&&iA(aI).call(aI,o.target.tagName.toLowerCase()))&&e(o)}}catch(e){n.e(e)}finally{n.f()}}));return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(kk(f=this._mutationObserverCallback).call(f,this)))}},{key:"_unregisterListeners",value:function(){this._performanceObserver&&this._performanceObserver.disconnect(),this._mutationObserver&&this._mutationObserver.disconnect()}},{key:"_beforeJSInitiatedRequestCallback",value:function(e){this._incompleteJSInitiatedRequestStartTimes.set(e,performance.now()),"Active XHRs: ".concat(this._incompleteJSInitiatedRequestStartTimes.size)}},{key:"_afterJSInitiatedRequestCallback",value:function(e){this._incompleteJSInitiatedRequestStartTimes.delete(e),"Active XHRs: ".concat(this._incompleteJSInitiatedRequestStartTimes.size)}},{key:"_networkRequestFinishedCallback",value:function(e){this._networkRequests.push({start:e.fetchStart,end:e.responseEnd}),this.rescheduleTimer(lI(this._incompleteRequestStarts,this._networkRequests)+5e3)}},{key:"_longTaskFinishedCallback",value:function(e){var t=e.startTime+e.duration;this._longTasks.push({start:e.startTime,end:t}),this.rescheduleTimer(t+5e3)}},{key:"_mutationObserverCallback",value:function(e){this.rescheduleTimer(performance.now()+5e3)}},{key:"_getMinValue",value:function(){if(this._minValue)return this._minValue;if(performance.timing.domContentLoadedEventEnd){var e=performance.timing;return e.domContentLoadedEventEnd-e.navigationStart}return null}},{key:"_incompleteRequestStarts",get:function(){var e;return Mk(rI(e=this._incompleteJSInitiatedRequestStartTimes).call(e))}},{key:"_checkTTI",value:function(){var e=performance.timing.navigationStart,t=lI(this._incompleteRequestStarts,this._networkRequests),r=(window.chrome&&window.chrome.loadTimes?1e3*window.chrome.loadTimes().firstPaintTime-e:0)||performance.timing.domContentLoadedEventEnd-e,n=this._getMinValue(),o=performance.now();null===n&&this.rescheduleTimer(Math.max(t+5e3,o+1e3)),this._longTasks,this._incompleteRequestStarts,this._networkRequests;var i=function(e,t,r,n,o){if(n-r<5e3)return null;var i=0===o.length?e:o[o.length-1].end;return n-i<5e3?null:Math.max(i,t)}(r,n,t,o,this._longTasks);i&&(this._firstConsistentlyInteractiveResolver(i),this.disable()),this.rescheduleTimer(performance.now()+1e3)}}]),e}(),hI=function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("PerformanceLongTaskTiming"in window){return new pI(e).getFirstConsistentlyInteractive()}return xS.resolve(null)})().then((function(e){e&&jj.getInstance().setTTI(Bv(e))}))},vI=function(){var e=jj.getInstance();Cj("longtask",(function(t){e.setLongTask({startTime:t.startTime,duration:Bv(t.duration)})}))},mI=0,gI=[],yI=0,wI=[],bI=0,SI=function(){var e=jj.getInstance();Cj("layout-shift",(function(t){if(!t.hadRecentInput){var r=wI[0],n=wI[wI.length-1];yI&&t.startTime-n.startTime<1e3&&t.startTime-r.startTime<5e3?(yI+=t.value,wI.push(t)):(yI=t.value,wI=[t]),yI>mI&&(mI=yI,gI=wI,e.setCLS((i=o=mI,"number"==typeof o&&(i=Number(o.toFixed(4))),i)),cp(gI).call(gI,(function(t){if(++bI<=10)if(e.setCLSInfo(Number(t.value.toFixed(4))),t.sources){for(var r=[],n=0;n<t.sources.length;n++)r.push(Mv(t.sources[n].node));e.setCLSInfo(r.join("|"))}else e.setCLSInfo("null")})))}var o,i}))},kI=function(){Cj("paint",(function(e){"first-contentful-paint"==e.name?jj.getInstance().setFCP(Bv(e.startTime)):"first-paint"==e.name&&jj.getInstance().setFP(Bv(e.startTime))}))},AI=!1,TI=jj.getInstance();var jI=function(){var e,t,r,n;e=performance.now(),t=0,r=performance.now(),n=function n(){var o=performance.now(),i=o-r;r=o;var a=Math.round(1e3/i);t++,o>1e3+e&&((a=Math.round(1e3*t/(o-e)))<=20&&TI.setFPS(a),t=0,e=o),0==AI&&window.requestAnimationFrame(n)},n(),Rj((function(){AI=!0}))},OI=!1;function II(e){var t,r;null!=e&&null!==(t=e.options)&&void 0!==t&&t.flag&&("number"==typeof(r=e.performanceReportTime)&&r>=3e3&&(_j=r,clearTimeout(Oj),Oj=Kh((function(){Ij&&Ij.length>0&&cp(Ij).call(Ij,(function(e){e()}))}),_j)),OI||(OI=!0,function(e){if("function"!=typeof PerformanceObserver)return void console.log("not support PerformanceObserver");try{kI(),Pj(),Ej(),hI(),vI(),SI(),jI();var t=jj.getInstance();Rj((function(){t.report(e)}))}catch(e){}}(e)))}function _I(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}var RI=Ck(),CI=[/index\.bundle\..{20,32}\.css/gi,/app\..{20,32}\.css/gi,/index\.bundle\..{20}\.js/gi,/app\..{20}\.js/gi,"unify.min.js"];function PI(e,t){for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(e[r]=t[r])}function EI(e,t){var r=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/.exec(e)[9];if(r&&""!==r)for(var n=r.split("&"),o=0;o<n.length;o++){var i=n[o].split("=");if(i[0]===t)return decodeURIComponent(i[1])}return!1}function NI(e){var t=this;if(!(this instanceof NI))return new NI(e);this._installed=!1,this._plugins=[],this.sid=RI,this.selected=!1,this.timing={},this.isReported=!1,this.performanceReportTime=8e3,this.options={serverUrl:"//h5speed.m.jd.com",serverDomain:"//h5speed.m.jd.com",flag:null,profilingRate:1,autoReport:!1,autoAddStaticReport:!1,autoAddApiReport:!1,autoAddImageReport:!1,plugins:[]},this.init(e),this.pitsData=[],this.staticFiles=[],this.staticFilesSpecialType=[],this.customKeyValueData={},this.CONST_CREATE_TIME_MS=1550731072251,this.CONST_REASONABLE_TIME_LIMIT=6e4,this.performance=window.performance,this.isPerformanceApiAvailable=void 0!==this.performance,this.isTimingApiAvailable=this.isPerformanceApiAvailable&&void 0!==this.performance.timing,this.isGetEntriesApiAvailable=this.isPerformanceApiAvailable&&"function"==typeof this.performance.getEntries,rk().then((function(e){"success"===e.msg&&(t.network=e.data)})).catch((function(e){}))}var xI,UI={init:function(e){if("number"==typeof e.flag&&!this._installed)return"object"===hf(e)&&PI(this.options,e),e.performanceReportTime&&(this.performanceReportTime=e.performanceReportTime),e.plugins&&(this._plugins=e.plugins),this.options.autoAddStaticReport&&(this.staticFiles=CI),this.options.serverUrl=this.options.serverDomain+(12==this.options.flag?"/v2/speed/ware":"/v2/speed/activity"),this.selected=Math.random()<this.options.profilingRate,this.cpsMtaData=this.options.cpsMtaData,!0===this.options.autoReport&&this.enableAutoReport(),II(this),this._installed=!0,this._loadPlugins(),this},_loadPlugins:function(){var e=this;if(this._installed&&Qp(this._plugins))try{var t;zp(t=this._plugins).call(t,(function(t){return t.handler(e)}))}catch(e){console.error("@jmfe/jd-profiler 执行插件失败",e)}},getTimingData:function(){var e,t,r={},n=this;r.hasPerformanceApi=n.isPerformanceApiAvailable?1:0,r.hasTimingApi=n.isTimingApiAvailable?1:0,r.hasGetEntriesApi=n.isGetEntriesApiAvailable?1:0,t=0,window.chrome&&"function"==typeof window.chrome.loadTimes?t=1e3*window.chrome.loadTimes().firstPaintTime:n.isTimingApiAvailable&&"number"==typeof n.performance.timing.msFirstPaint&&(t=n.performance.timing.msFirstPaint),e=Math.round(t),r.hasFirstPaintApi=e>0?1:0;try{if(n.isTimingApiAvailable){n.performance.timing.firstPaint=e;var o=n.performance.timing;r.domainLookup=o.domainLookupEnd-o.domainLookupStart,r.redirection=o.fetchStart-o.navigationStart,r.serverConnection=o.requestStart-o.connectStart,r.request2ResponseStart=o.responseStart-o.requestStart,r.responseStart2responseEnd=o.responseEnd-o.responseStart,r.request2ResponseEnd=o.responseEnd-o.requestStart,r.domInteractive=o.domInteractive-o.navigationStart,r.domContentLoaded=o.domContentLoadedEventStart-o.navigationStart,r.firstPaint=o.firstPaint-o.navigationStart,r.pageLoad=o.loadEventStart-o.navigationStart,r.backEnd=o.responseEnd-o.navigationStart,r.frontEnd=o.loadEventStart-o.responseEnd,r.loadEvent=o.loadEventEnd-o.loadEventStart}}catch(e){}return r},traversalResources:function(e){try{var t=yp(e).call(e,"img")>=0,r=yp(e).call(e,"api")>=0,n=null,o={},i={};if(!this.isGetEntriesApiAvailable)return o;n=this.performance.getEntries();for(var a=0;a<n.length;a++){var c,s,u,l=n[a],f=l.name,d=l.initiatorType;if(/log\.gif/g.test(f))break;if(t&&"img"==d&&yp(f).call(f,"h5speed.m.jd.com/v1/exception")<0){var p=f.split("!")[0].split("/"),h=p[p.length-1];s=wh(l.duration),o[h]=s}!r||"script"!=d&&"xmlhttprequest"!=d||(c=EI(f,"functionId"))&&(u=EI(f,"nickName"),s=wh(l.duration),u?o["api-"+u]=s:i[c]?(i[c]+=1,o["api-"+c+i[c]]=s):(i[c]=1,o["api-"+c]=s))}return o}catch(e){}},report:function(){try{if(this.selected&&!this.isReported&&null!==this.options.flag){var e=[];this.options.autoAddApiReport&&e.push("api"),this.options.autoAddImageReport&&e.push("img");var t=e.length>0;rj({url:"https://h5speed.m.jd.com/v4/speed/activity",reportData:this.getReportData(this.getServerInfo(),this.getTimingData(),t?this.traversalResources(e):{})}),this.isReported=!0}}catch(e){}},getServerInfo:function(){var e=location.href.split("?")[0],t=document.getElementsByTagName("title")[0]&&document.getElementsByTagName("title")[0].innerText||"";return function(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=_I(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=_I(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}({flag:this.options.flag,sid:this.sid,libVer:"5.4.3",url:e,rts:(new Date).getTime(),title:t,network:this.network},this.cpsMtaData)},moduleReport:function(e,t){if(this.selected)try{var r=[],n={};"string"==typeof t&&(n.moduleId=t),"[object Object]"===Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"===Object.prototype.toString.call(e)&&(jh(e).call(e,(function(e){if(e.number&&e.key&&e.time){var t={};t.k=e.key,t.v=+e.time,e.desc&&(t.s=e.desc||""),r.push(t)}}))||r.length>0&&(PI(n,{kArr:r}),PI(n,this.getServerInfo()),rj({url:"https://h5speed.m.jd.com/v4/speed/event",reportData:n})))}catch(e){throw e}},addPits:function(e){try{var t=this;"[object Object]"===Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"===Object.prototype.toString.call(e)&&jh(e).call(e,(function(e){if(e.number&&e.key&&e.time){var r={};r.k=e.key,r.v=+e.time,e.desc&&(r.s=e.desc||""),t.pitsData.push(r)}}))}catch(e){}},add:function(e){this.addKeyValues(e)},detectStaticFile:function(e){var t,r=[];for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&r.push(e[n]);this.staticFiles=Ap(t=this.staticFiles).call(t,r)},addStaticFile:function(e){try{var t;if("[object Array]"===Object.prototype.toString.call(e))this.staticFiles=Ap(t=this.staticFiles).call(t,e)}catch(e){}},addStaticFileByLimitedType:function(e){try{var t;if("[object Object]"===Object.prototype.toString.call(e))this.staticFilesSpecialType=Ap(t=this.staticFilesSpecialType).call(t,[e]);else if("[object Array]"===Object.prototype.toString.call(e)){var r;this.staticFilesSpecialType=Ap(r=this.staticFilesSpecialType).call(r,e)}}catch(e){}},addKeyValues:function(e){try{"[object Object]"===Object.prototype.toString.call(e)&&PI(this.customKeyValueData,e)}catch(e){}},getReportData:function(e,t,r){var n,o={},i={},a=this;PI(o,e),n=o;var c=0,s=[];for(var u in t)if(t.hasOwnProperty(u)&&void 0!==t[u]){var l={k:"p"+ ++c,v:t[u]};s.push(l)}return s.length>0&&PI(n,{pArr:s}),a.isGetEntriesApiAvailable&&a.staticFiles.length>0&&(i=function(e){var t=null;if(!a.isGetEntriesApiAvailable)return{};t=a.performance.getEntries();var r=[];return cp(e).call(e,(function(e){try{if(e){var n=function(e,t){var r=[];if(e&&t.length>0)for(var n=0,o=t.length;n<o;n++){var i,a=t[n];if(e.test){var c=a.name.match(e);c&&c.length>0&&r.push({k:c[0],v:wh(a.duration)})}else-1!==yp(i=a.name).call(i,e)&&r.push({k:e,v:wh(a.duration)})}return r}(e,t);r=Ap(r).call(r,n)}}catch(e){}})),r}(a.staticFiles),PI(i,r),PI(i,a.customKeyValueData),"[object Array]"===Object.prototype.toString.call(i)&&Ch(i).length>0&&PI(n,{rkArr:i})),a.isGetEntriesApiAvailable&&a.staticFilesSpecialType.length>0&&function(e){var t=null;a.isGetEntriesApiAvailable&&(t=a.performance.getEntries()),cp(e).call(e,(function(e){try{e&&function(e,t){var r=e.name,n=e.type,o=e.number,i=e.key;if(!(r&&n&&o&&i&&t.length>0))throw new Error("指定静态资源上报类型参数异常，请检查入参");for(var c=0,s=t.length;c<s;c++){var u,l=t[c];if(r.test){l.name.match(r),a.addPits({number:o,key:i,time:wh(l[n]),desc:e.desc});break}if(-1!==yp(u=l.name).call(u,r)){a.addPits({number:o,key:i,time:wh(l[n]),desc:e.desc});break}}}(e,t)}catch(e){console.log(e.message)}}))}(a.staticFilesSpecialType),a.isTimingApiAvailable&&a.pitsData.length>0&&PI(n,{kArr:a.pitsData}),n},enableAutoReport:function(){var e=this;window.addEventListener("pageshow",(function(){Kh((function(){e.report()}),3e3)}),!1)}};function JI(){var e;xI||(!0===(e=NI({serverUrl:"//h5speed.m.jd.com",flag:null,profilingRate:1,autoReport:!1,autoAddStaticReport:!1,autoAddApiReport:!1,autoAddImageReport:!1})).options.autoReport&&e.enableAutoReport(),xI=e)}function DI(e){var t;return Ap(t="".concat(e,"_")).call(t,WS(8))}function MI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=t.split(".");return 0===n.length?r:HA(n).call(n,(function(e,t){return e&&e[t]?e[t]:void 0}),e)||r}function BI(e,t){var r=e.ios,n=e.android;return MS()?!0===r||(!!MI(window,r)||(t({status:"-100",msg:"JSBridge[IOS] 不存在: ".concat(r)}),!1)):BS()?!0===n||(!!MI(window,n)||(t({status:"-100",msg:"JSBridge[Android] 不存在: ".concat(n)}),!1)):(t({status:"-100",msg:"未检测到运行环境"}),!1)}function LI(e,t){return iA(e).call(e,"registerCode")&&!window.__WEBVIEW_REGISTER_CODE__?(t({status:"-100",msg:"webview register code不存在，请在确保在当前页面调用过注册方法"}),!1):iA(e).call(e,"jd")&&!JS("jd")?(t({status:"-100",msg:"不在京东app内"}),!1):!(iA(e).call(e,"xview")&&!window.XView)||(t({status:"-100",msg:"不在XView容器内"}),!1)}function qI(e,t,r){var n,o=ek(e);return-1!==tk(o,t)||(r({status:"-100",msg:Ap(n="该功能在v".concat(t,"及以上生效: 当前版本")).call(n,o)}),!1)}function HI(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return FI(e,t,r,n=n&&"1"===n?"1":"","callNative")}function FI(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return new xS((function(i,a){var c,s,u,l,f;if(!LS())return a({status:"-100",msg:"仅支持JSBridge[Harmony]"});if(LI(["jd","registerCode"],a)){if(!Up(e)||!Up(t))return a({status:"-100",msg:"传入参数plugin或action错误"});if("function"!=typeof(null===(c=null===window||void 0===window?void 0:window.XWebView)||void 0===c?void 0:c._callNative))return a({status:"-100",msg:"JSBridge[Harmony] 不存在: 'window.XWebView._callNative'"});var d=r,p=DI(o),h=bA(bA({plugin:e,action:t,params:d,callbackId:p},n&&{sync:n}),"1"!==n&&{callbackType:"1"}),v=Dv(h);if("1"===n)try{var m=(null===(u=null===(s=null===window||void 0===window?void 0:window.XWebView)||void 0===s?void 0:s._callNative)||void 0===u?void 0:u.call(s,v))||"",g={};try{(g=JSON.parse(m))&&g.callbackId===p?i(g):a({status:"-100",msg:"Mismatched callbackId",data:g})}catch(e){a({status:"-100",msg:"sync  bridge result JSON parse error",data:m})}}catch(e){a({status:"-100",msg:"JSBridge[Harmony]: sync callNative error",data:e})}else try{window.addEventListener("XBridge_Event",(function e(t){var r=t.detail.data;r&&r.callbackId===p&&(window.removeEventListener("XBridge_Event",e),i(r))})),null===(f=null===(l=null===window||void 0===window?void 0:window.XWebView)||void 0===l?void 0:l._callNative)||void 0===f||f.call(l,v)}catch(e){a({status:"-100",msg:"JSBridge[Harmony]: async callNative error",data:e})}}}))}function WI(){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: getNetworkStatus"})})):new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.getNetWorkType"},t)){var r=DI("getNetWorkType");window[r]=function(t){e({status:"0",msg:"success",data:t}),delete window[r]},MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"getNetWorkType",params:r}):BS()&&window.JDAppUnite.getNetWorkType(r)}}))}function VI(e){try{delete window[e]}catch(t){window[e]=void 0}}function XI(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}NI.prototype=UI;var zI={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:""};function GI(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zI,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=e,i=r.timeout||zI.timeout,a=r.jsonpCallback||zI.jsonpCallback;return new xS((function(c,s){var u,l=r.jsonpCallbackFunction||DI("jsonp"),f=Ap(u="".concat(a,"_")).call(u,l);window[l]=function(e){c(e),t&&clearTimeout(t),XI(f),VI(l)};var d,p,h=document.createElement("script");n?h.innerText=n:(o+=-1===yp(o).call(o,"?")?"?":"&",h.setAttribute("src",Ap(d=Ap(p="".concat(o)).call(p,a,"=")).call(d,l)));r.charset&&h.setAttribute("charset",r.charset),h.id=f,document.getElementsByTagName("head")[0].appendChild(h),t=Kh((function(){s(new Error("JSONP request to ".concat(e," timed out"))),VI(l),XI(f),window[l]=function(){VI(l)}}),i),h.onerror=function(){s(new Error("JSONP request to ".concat(e," failed"))),VI(l),XI(f),t&&clearTimeout(t)}}))}function $I(e,t){return new xS((function(r,n){var o=DI("preloadJSONP"),i=window.hybridId||t.hybridId;if(function(e,t,r,n,o){window[o]=function(i){try{var a=JSON.parse(i);-2===a.status||-1===a.status?(console.warn("HybridJsonp[Fail]：预加载请求失败 status ".concat(a.status)),GI(r,n).then((function(t){e(t)})).catch((function(e){t(e)}))):(console.warn("HybridJsonp[success]：预加载请求成功"),GI("preload",n,a.data).then((function(t){e(t)})).catch((function(e){t(e)})),VI(o))}catch(e){console.warn("JSONP Error: JsonpPreload parse",e)}}}(r,n,e,t,o),MS()&&MI(window,"webkit.messageHandlers.JDHybrid.postMessage"))window.webkit.messageHandlers.JDHybrid.postMessage({method:"getPreloadData",params:{callBackName:o,appId:i}});else{if(!BS()||!MI(window,"JDHybrid.fetchPreloadData"))return console.warn("HybridJsonp[Fail]：未检测到环境或bridge，降级为Jsonp"),GI(e,t).then((function(e){r(e)})).catch((function(e){n(e)}));window.JDHybrid.fetchPreloadData(i,o)}}))}var KI=!0;function QI(e,t,r,n){return new xS((function(n,o){window[r]=function(e){var t;try{t=JSON.parse(e)}catch(t){o("bridge data解析错误: ".concat(e))}n(t)},MS()?window.webkit.messageHandlers.JDHybrid.postMessage({method:"getPreloadData",params:{callBackName:r,appId:e,request_id:t}}):BS()&&window.JDHybridPreload.fetchPreloadData(e,t,r)}))}function YI(e,t,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];var a="hybridMutiPreload_".concat(WS(8)),c="HYBRID_PRELOAD_"+t;try{if(!e)throw"hybridId不存在，请在hybrid平台获取正确的hybridId";if(!t)throw"requestId不存在，请在hybrid平台获取正确的requestId";if("function"!=typeof r)throw"http参数类型不合法, 该参数应为网络请求函数";var s;if(MS()?s="webkit.messageHandlers.JDHybrid.postMessage":BS()&&(s="JDHybridPreload.fetchPreloadData"),!MI(window,s))throw"bridge不存在当前方法".concat(s);window[c]=0}catch(e){return console.warn("HybridPreload[Fail]：降级为H5请求",e),r.apply(void 0,o)}return QI(e,t,a).then((function(e){return-3===e.status||-2===e.status||-1===e.status?(console.warn("HybridPreload[Fail]：预加载接口请求失败 status ".concat(e.status)),window[c]=-1,r.apply(void 0,o)):(console.warn("HybirdPreload[Success]：预加载接口请求成功"),window[c]=1,e.data)})).catch((function(e){return console.warn("HybridPreload[Fail]：降级为H5请求",e),r.apply(void 0,o)}))}function ZI(e,t){return new xS((function(r,n){window[t]=function(e){var t;try{t=JSON.parse(e)}catch(t){n("bridge data解析错误: ".concat(e))}r(t)},MS()?window.webkit.messageHandlers.JDHybrid.postMessage({method:"getPreloadData",params:{callBackName:t,appId:e}}):BS()&&window.JDHybrid.fetchPreloadData(e,t)}))}function e_(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=window.hybridId||e,a="hybridPreload_".concat(WS(8));window.HYBRID_PRELOAD_STATUS=-1;try{if(!i)throw"hybridId不存在，未在hybrid平台发布请传入正确的hybridId";if("function"!=typeof t)throw"http参数类型不合法, 该参数应为网络请求函数";var c;if(MS()?c="webkit.messageHandlers.JDHybrid.postMessage":BS()&&(c="JDHybrid.fetchPreloadData"),!MI(window,c))throw"bridge不存在当前方法".concat(c);if(window[a])throw"preloadFetch请求只支持一个接口，请检查是否接入了多个预加载请求"}catch(e){return console.warn("HybridPreload[Fail]：降级为H5请求",e),t.apply(void 0,n)}return ZI(i,a).then((function(e){return-2===e.status||-1===e.status?(console.warn("HybridPreload[Fail]：预加载接口请求失败 status ".concat(e.status)),t.apply(void 0,n)):(console.warn("HybirdPreload[Success]：预加载接口请求成功"),window.HYBRID_PRELOAD_STATUS=0,e.data)})).catch((function(e){return console.warn("HybridPreload[Fail]：降级为H5请求",e),t.apply(void 0,n)}))}function t_(e){return new xS((function(t,r){if(!1!==LI(["jd"],r)){var n={ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDPerformance.transferRenderTime"};if(!1!==BI(n,r))return MS()?(window.webkit.messageHandlers.JDAppUnite.postMessage({method:"notifyMessageToNative",params:Dv({businessType:"transferRenderTime",params:{renderTime:String(e)}})}),t({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(n.ios)})):BS()?(window.JDPerformance.transferRenderTime(String(e)),t({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(n.android)})):void 0}}))}function r_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"android.settings.SETTINGS";return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==qI("jd","10.2.6",r)){if(!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.callSyncRouterModuleWithParams"},r)){var n=DI("settingsRouter");if(window[n]=function(e){var o;try{o=JSON.parse(e),t(o)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[n]},MS()){var o={routerURL:"router://JDBWebViewUtilsModule/openSetting",callBackName:n};window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:Dv(o)})}else if(BS()){var i={routerURL:"router://com.jingdong.common.web.javainterface.SettingsRouter/navigate",routerParam:e,callBackName:n,callBackId:"1"};window.JDAppUnite.callSyncRouterModuleWithParams(Dv(i))}}}}))}function n_(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)){if(!e.routerURL)return r({status:"-100",msg:"routerURL不存在"});if(!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.callRouterModuleWithParams"},r)){var n=DI("callRouter");window[n]=function(e){var o;try{o=JSON.parse(e),t(o)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[n]};var o=bA({},{routerURL:"",routerParam:{},customArg:"",callBackName:n,callBackId:n},e);MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:Dv(o)}):BS()&&window.JDAppUnite.callRouterModuleWithParams(Dv(o))}}}))}function o_(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)){var n={ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"MobileNavi.configNavigationBar"};if(!1!==BI(n,r)){var o=DI("configNavigationBar");if(window[o]=function(e){var n;try{n=JSON.parse(e),t(n)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[o]},e.callBackName=o,MS()){if(window.webkit.messageHandlers.MobileNavi.postMessage({method:"configNavigationBar",params:Dv(e)}),-1===tk(ek("jd"),"9.1.6"))return delete window[o],t({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(n.ios)})}else if(BS()&&(window.MobileNavi.configNavigationBar(Dv(e)),-1===tk(ek("jd"),"8.3.6")))return delete window[o],t({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(n)})}}}))}var i_,a_=TT;function c_(e){this.message=e,this.name="JdReminderException",this.toString=function(){return this.name+": "+this.message}}function s_(e){if(!Pp(e))throw new c_("入参必须为Object对象类型")}function u_(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}c_.prototype=a_(Error.prototype),c_.prototype.constructor=c_;var l_=function(e){console.warn("presetReminderOptions方法不是必须执行的，如果需要设定全局的type值，可以执行presetReminderOptions方法进行统一设置；如不需要，可以在添加、取消、查询提醒操作时针对每一条提醒传入相应的type值"),i_=function(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=u_(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=u_(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}({},e)};function f_(e){var t=e.type;if(Np(t)){if(Np(i_))throw new c_("type字段缺失，请在opts对象参数中指定");return i_.type}return t}var d_=I,p_=i,h_=m,v_=vu,m_=nn,g_=K,y_=h_(P.f),w_=h_([].push),b_=d_&&p_((function(){var e=Object.create(null);return e[2]=2,!y_(e,2)})),S_=function(e){return function(t){for(var r,n=g_(t),o=m_(n),i=b_&&null===v_(n),a=o.length,c=0,s=[];a>c;)r=o[c++],d_&&!(i?r in n:y_(n,r))||w_(s,e?[r,n[r]]:n[r]);return s}},k_={entries:S_(!0),values:S_(!1)}.entries;_r({target:"Object",stat:!0},{entries:function(e){return k_(e)}});var A_=Z.Object.entries;function T_(e){var t,r={};return cp(t=A_(e)).call(t,(function(e){var t=Gd(e,2),n=t[0],o=t[1];r[n]=String(o)})),r}function j_(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=j_(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=j_(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function I_(e){var t,r=function(){return WS(8)};function n(e){this.message=e,this.name="JdReminderException",this.toString=function(){console.error(this.name+": "+this.message)}}n.prototype=a_(Error.prototype),n.prototype.constructor=n;var o=Object.prototype.toString,i=function(e){return"[object Object]"===o.call(e)},a=function(e){return void 0===e},c=function(e){return e&&"function"==typeof e},s=function(e){return"[object Array]"===o.call(e)},u=function(e){return"string"==typeof e},l=function(e){return""===e},f=function(e){return void 0!==e?e:void 0},d=e.navigator.userAgent.toLowerCase(),p=d.split(";"),h=!!d.match(/supportjdshwk/i)||1==e._is_jdsh_wkwebview,v=-1!=yp(d).call(d,"jdapp"),m="iphone"===p[1]||"ipad"===p[1],g="android"===p[1],y=-1!=yp(d).call(d,"jdapp"),w=(p=d.split(";"),y&&p[2]?p[2].replace(/\./g,""):""),b=w>=836,S=y&&w>=610;function k(e,t){if(a(e)||a(t))throw new n("target, source参数必须提供");if(!i(e)||!i(t))throw new n("target, source参数必须为Object类型");for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function A(e,t){var r=arguments;if(!S){if(a(r[1])){var n=r[0].split(",");e=1==n[0],t=n[1]}else e="true"==r[0],t=r[1];return{appointed:e,id:t}}if("1"==(e+="")||"0"==e)return{appointed:"1"==e,id:t};if(l(e))return{status:[],id:t};try{var o=JSON.parse(e)}catch(e){return{status:[],id:t}}return s(o)?{status:o,id:t}:void 0}function T(){if(!(this instanceof T))return new T}return T.prototype.util={isNeedChangeStatus:S,isHighVersion:S,isJd:v,isIPhoneOrIPad:m,isAndroid:g,isObject:i,isFunction:c,isArray:s,isUndefined:a,isEmptyString:l,returnDefaultUndefined:f,extendObject:k,parseCallbackData:A},T.prototype.presetReminderOptions=function(e){if(console.warn("presetReminderOptions方法不是必须执行的，如果需要设定全局的type值，可以执行presetReminderOptions方法进行统一设置；如不需要，可以在添加、取消、查询提醒操作时针对每一条提醒传入相应的type值"),this.setting={},e){if(!i(e))throw new n("入参必须为Object对象类型");for(var t in e)e.hasOwnProperty(t)&&(e[t]=f(e[t]));k(this.setting,e)}},T.prototype.transformURLToJSON=function(e){if(S){var t,r=e.url;if("object"===hf(r))t=r;else t={des:"m",params:{url:r}};e.url=Dv(t)}},T.prototype.transformKeyToString=function(e){for(var t in e)e.hasOwnProperty(t)&&(S||"id"==t&&m)&&(e[t]=e[t]+"");return e},T.prototype.filterParamOptions=function(e){if(!i(e))throw new n("入参必须为Object对象类型");var t={};if(k(t,e),e=null,m&&!S&&(t.time=t.time/1e3+""),a(this.setting)){if(a(t.type))throw new n("type字段缺失，请在opts对象参数中指定")}else if(a(t.type)){if(a(this.setting.type))throw new n("type字段缺失，请在opts对象参数中指定");t.type=S?this.setting.type+"":this.setting.type}return this.transformURLToJSON(t),this.transformKeyToString(t),t},T.prototype.createIOSSchemaForLowVersion=function(e,t){return(t=this.filterParamOptions(t)).type=6,'openApp.jdMobile://virtual?params={"category":"jump","des":"saveToCalender","sourceValue":"sourceValue_saveToCalender","sourceType":"sourceType_saveToCalender","SourceParam":"sourceParam","actionType":"'+e+'","dataType":"'+t.type+'","calendarTitle":"'+t.title+'","beginTime":"'+t.time+'","dataId":"'+t.id+'","jumpUrl":"'+encodeURIComponent(t.url)+'"}'},T.prototype.createAndroidSchemaForLowVersion=function(t,r){if((r=this.filterParamOptions(r)).type="HUODONG",!e.JdAndroid)throw new n("android->window.JDAndroid对象不存在，注意该对象应该只在APP内才会有");if("add"==t){if(!c(e.JdAndroid.setJDReminder))throw new n("android->setJDReminder不是一个函数，注意该函数应该只在APP内才会有");e.JdAndroid.setJDReminder(r.type,r.id,r.title,r.time,r.url)}else if("del"==t){if(!c(e.JdAndroid.cancelJDReminder))throw new n("android->cancelJDReminder不是一个函数，注意该函数应该只在APP内才会有");e.JdAndroid.cancelJDReminder(r.type,r.id,r.time)}},T.prototype.createRouterReminderOptionsJsonString=function(e,t){if("add"==e)return Dv({routerParam:{businessType:t.type,showTag:t.tag||"",remindTitle:t.title||"",beginTime:t.time,uniqueId:t.id,jumpStr:t.url||"",imgUrl:t.imgUrl||"",notifyTime:t.nTime||t.time-18e4,extraStr1:t.extra1||"",extraStr2:t.extra2||"",permissionStr:t.permissionStr||""},callBackName:t.addCallback,callBackId:t.id,routerURL:t.routerURL||""})},T.prototype.createReminderOptionsJsonString=function(e,t){return"add"==e?Dv({businessType:t.type,showTag:t.tag||"",remindTitle:t.title||"",beginTime:t.time,uniqueId:t.id,jumpStr:t.url||"",imgUrl:t.imgUrl||"",notifyTime:t.nTime||t.time-18e4,extraStr1:t.extra1||"",extraStr2:t.extra2||"",callBackName:t.addCallback,callBackId:t.id}):"del"==e?Dv({businessType:t.type,beginTime:t.time,uniqueId:t.id,callBackName:t.deleteCallback,callBackId:t.id}):void 0},T.prototype.createAllSameSchemaUsingJsBridge=function(t,r){r=this.filterParamOptions(r);var o=this.createReminderOptionsJsonString(t,r);if(!e.JDAppUnite)throw new n("window.JDAppUnite对象不存在，注意该函数应该只在APP内才会有");if("add"==t){if(!c(e.JDAppUnite.addReminder))throw new n("addReminder不是一个函数，注意该函数应该只在APP内才会有");e.JDAppUnite.addReminder(o)}else if("del"==t){if(!c(e.JDAppUnite.removeReminder))throw new n("removeReminder不是一个函数，注意该函数应该只在APP内才会有");e.JDAppUnite.removeReminder(o)}},T.prototype.filterRouterParams=function(e){return(e=this.filterParamOptions(e)).routerURL="router://JDBCalendarRemindModule/addRemindToCalendarWithPermissionControl",e},T.prototype.createIOSSchemaForRouter=function(e,t){t=this.filterRouterParams(t),this.executeIOSSchemaInWKWebviewCircumstance({method:"callRouterModuleWithParams",params:this.createRouterReminderOptionsJsonString(e,t)})},T.prototype.createIOSSchemaForWKWebview=function(e,t){t=this.filterParamOptions(t),this.executeIOSSchemaInWKWebviewCircumstance({method:"add"==e?"addReminder":"removeReminder",params:this.createReminderOptionsJsonString(e,t)})},T.prototype.executeIOSSchemaInWKWebviewCircumstance=function(t){var r=k({callBackName:null,callBackId:null},t);try{e.webkit.messageHandlers.JDAppUnite.postMessage(r)}catch(e){throw new n("window.webkit.messageHandlers.JDAppUnite.postMessage方法执行错误")}},T.prototype.createJdReminderIOSSchema=function(e,t){return b&&"add"==e?this.createIOSSchemaForRouter(e,t):h?this.createIOSSchemaForWKWebview(e,t):S?this.createAllSameSchemaUsingJsBridge(e,t):this.createIOSSchemaForLowVersion(e,t)},T.prototype.createJdReminderAndroidSchema=function(e,t){return S?this.createAllSameSchemaUsingJsBridge(e,t):this.createAndroidSchemaForLowVersion(e,t)},T.prototype.createJdReminderSchema=function(e,t){if(!i(t))throw new n("入口参数必须为Object对象类型");return m?this.createJdReminderIOSSchema(e,t):g?this.createJdReminderAndroidSchema(e,t):void 0},T.prototype.addReminder=function(t){var n=r(),o=this;return new xS((function(r,i){var a="addReminder_"+n;e[a]=function(t,n){var o;o=m&&b?function(e){try{var t=JSON.parse(e);return t&&"0"==t.status?{appointed:"1"==t.data,id:t.callBackId,status:"0"}:{appointed:!1,id:t.callBackId,status:t.status,msg:t.msg||"回调传参错误"}}catch(e){return{appointed:!1,status:"",msg:"回调传参错误"}}}(t):A(t,n),e[a]=null,r(o)},t.addCallback=a;var c=o.createJdReminderSchema("add",t);u(c)&&r({appointed:!0,id:t.id})}))},T.prototype.deleteReminder=function(t){var n=r(),o=this;return new xS((function(r,i){var a="deleteReminder_"+n;e[a]=function(t,n){var o=A(t,n);e[a]=null,r(o)},t.deleteCallback=a;var c=o.createJdReminderSchema("del",t);u(c)&&r({appointed:!0,id:t.id})}))},T.prototype.queryReminder=function(t){var o=r(),i=this;return new xS((function(r,a){var s,u="queryReminder_"+o;t=i.filterParamOptions(t);if(e[u]=function(t,n){var o=A(t,n);e[u]=null,r(o)},m){if(h)return i.executeIOSSchemaInWKWebviewCircumstance({method:"checkReminder",params:Dv({businessType:t.type,beginTime:t.time,uniqueId:t.id,callBackName:u,callBackId:t.id})});S?s=Dv({businessType:t.type,beginTime:t.time,uniqueId:t.id,callBackName:u,callBackId:t.id}):(t.type="HUODONG",s=Dv({dataType:t.type,beginTime:t.time,jumpUrl:t.url,callBackName:u,callBackId:t.id})),S?e.JDAppUnite&&e.JDAppUnite.checkReminder(s):e.MobileNavi&&e.MobileNavi.checkReminder(s)}else if(g)if(S){if(!e.JDAppUnite)throw new n("window.JDAppUnite不存在，注意该对象只在APP内才会有");if(!c(e.JDAppUnite.checkReminder))throw new n("window.JDAppUnite.checkReminder 不是一个函数");e.JDAppUnite.checkReminder(Dv({businessType:t.type,beginTime:t.time,uniqueId:t.id,callBackName:u,callBackId:t.id}))}else{if(!e.JdAndroid)throw new n("window.JdAndroid不存在，注意该对象只在APP内才会有");if(!c(e.JdAndroid.checkReminder))throw new n("window.JdAndroid.checkReminder 不是一个函数");e.JdAndroid.checkReminder(t.type,t.id,t.time,t.id)}}))},T.prototype.queryRemindersByTimeSpan=function(t){var o=r(),i=this;return new xS((function(r,a){var s="queryRemindersByTimeSpan_"+o,u=Dv({businessType:t.type,fromTime:t.fromTime+""||"",toTime:t.toTime+""||"",callBackName:s,callBackId:o});if(e[s]=function(t,n){var o=A(t,n);e[s]=null,r(function(e){var t={};return cp(e).call(e,(function(e){t[e]=!0})),t}(o.status))},h)i.executeIOSSchemaInWKWebviewCircumstance({method:"getAllRemindersWithTimeSpanAndBusinessType",params:u});else{if(!e.JDAppUnite)throw new n("window.JDAppUnite不存在，注意该对象只在APP内才会有");if(!c(e.JDAppUnite.getAllRemindersWithTimeSpanAndBusinessType))throw new n("window.JDAppUnite.getAllRemindersWithTimeSpanAndBusinessType不是函数");e.JDAppUnite.getAllRemindersWithTimeSpanAndBusinessType(u)}}))},T.prototype.returnAllRemindedStatus=function(e){},t||(t=T()),t}function __(){return"undefined"!=typeof window?window:this}function R_(e){e.jm&&e.jdreminder&&e.jm.jdreminder||(e.jm=e.jm||{},e.jdreminder=e.jm.jdreminder=I_(e))}function C_(e,t){for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(e[r]=t[r])}function P_(e){window.jdappShareRes=function(t){t.hasOwnProperty("shareResult")?e.callback&&e.callback(t):e.clickcallback&&e.clickcallback(t)}}function E_(e){this.message=e,this.name="JdShareException",this.toString=function(){return this.name+": "+this.message}}function N_(e){if(function(e){return void 0!==e.title&&void 0!==e.content&&void 0!==e.url&&void 0!==e.img}(e)){try{var t,r,n,o,i={timeline_title:"",channel:"",qrparam:null,keyparam:null,shareSource:null,weiXinContentParam:null,isNewWeixinShareUI:null,showFriendList:"",callback:null,clickcallback:null,mpId:null,mpPath:null,mpIconUrl:null,mpType:null,incentiveBizType:null,incentiveBizId:null};if("[object Object]"===Object.prototype.toString.call(e)){C_(i,e);for(var a=["qrparam","keyparam","weiXinContentParam","shareSource"],c=0,s=a.length;c<s;c++){var u=a[c],l=e[u];if("[object Object]"===Object.prototype.toString.call(l)){var f={};C_(f,l),i[u]=f}}}t="function"==typeof i.callback,n="function"==typeof i.clickcallback,r=t?"Y":"N",o=n?"Y":"N",t&&n?P_({callback:i.callback,clickcallback:i.clickcallback}):t?P_({callback:i.callback}):n&&P_({clickcallback:i.clickcallback}),"[object Object]"===Object.prototype.toString.call(i.qrparam)&&(i.qrparam=i.qrparam,i.qrparam.top_pic=i.qrparam.top_pic?encodeURIComponent(decodeURIComponent(i.qrparam.top_pic)):"",i.qrparam.mid_pic=i.qrparam.mid_pic?encodeURIComponent(decodeURIComponent(i.qrparam.mid_pic)):"",i.qrparam.mid_pic_x=i.qrparam.mid_pic_x?encodeURIComponent(decodeURIComponent(i.qrparam.mid_pic_x)):"",i.qrparam.mid_pic_x2=i.qrparam.mid_pic_x2?encodeURIComponent(decodeURIComponent(i.qrparam.mid_pic_x2)):"",i.qrparam.qr_direct=i.qrparam.qr_direct?encodeURIComponent(decodeURIComponent(i.qrparam.qr_direct)):""),i.callbackSwitcher=r,i.clickcallbackSwitcher=o,i.url=function(e,t){if(!t)return e;var r=yp(e).call(e,"#"),n="";return-1!==r&&(n=qp(e).call(e,r),e=qp(e).call(e,0,r)),e+(-1===yp(e).call(e,"?")?"?":"&")+t+n}(i.url,"_ts="+(new Date).getTime()),i.url=encodeURIComponent(i.url),i.img=encodeURIComponent(i.img)}catch(e){throw e}return i}throw new E_("调用方法时传入配置对象格式错误，请查看文档")}function x_(e,t){var r=N_(e),n={title:r.title,content:r.content,shareUrl:decodeURIComponent(r.url),iconUrl:decodeURIComponent(r.img),shareActionType:t,channel:r.channel,timeline_title:r.timeline_title,qrparam:r.qrparam,keyparam:r.keyparam,shareSource:r.shareSource,weiXinContentParam:r.weiXinContentParam,isNewWeixinShareUI:r.isNewWeixinShareUI,showFriendList:r.showFriendList,callback:r.callbackSwitcher,clickcallback:r.clickcallbackSwitcher,eventId:""};return r.mpId&&r.mpPath&&r.mpIconUrl&&(n.mpId=r.mpId,n.mpPath=r.mpPath,n.mpIconUrl=r.mpIconUrl,n.mpType=r.mpType),r.incentiveBizType&&r.incentiveBizId&&(n.incentiveBizType=r.incentiveBizType,n.incentiveBizId=r.incentiveBizId),n}E_.prototype=a_(Error.prototype),E_.prototype.constructor=E_;function U_(e){var t,r=navigator.userAgent.toLowerCase(),n=r.split(";"),o=-1!=yp(r).call(r,"jdapp"),i=-1!=yp(r).call(r,"jdltapp"),a=-1!=yp(r).call(r,"jdjchapp"),c=function(){if(o&&n[2])try{return wh(n[2].replace(/\./g,""))}catch(e){}}(),s="jdlog"===n[1]?"android"===n[2]:"android"===n[1],u="jdlog"===n[1]?"iphone"===n[2]:"iphone"===n[1],l=s||u,f=-1!=yp(r).call(r,"ipad");/MicroMessenger/i.test(r);var d=l&&o&&c>=500,p=l&&o&&c>=440&&c<500,h=f&&o&&c>=360,v=l&&o&&c>=702,m=l&&o&&c>=836,g=l&&o&&c<=840,y=l&&o&&c>=620,w=e.isJDAppNewShareEnable&&1==e.isJDAppNewShareEnable,b=l&&o&&c>=1114&&c<=1127,S=l?i?"openjdlite://":a?"openapp.jdjch://":"openapp.jdmobile://":f?"openapp.jdipad://":void 0,k="Y",A="N",T="S",j="P",O="O";function I(e){var t=S+'communication?params={"des":"share","type":"111","title":"'+e.title+'","content":"'+e.content+'","shareUrl":"'+e.url+'","iconUrl":"'+e.img+'","shareActionType":"'+e.shareActionType+'","channel":"'+e.channel+'","timeline_title":"'+e.timeline_title+'","qrparam":"'+e.qrparam+'","keyparam":"'+e.keyparam+'","shareSource":"'+e.shareSource+'","weiXinContentParam":"'+e.weiXinContentParam+'","isNewWeixinShareUI":"'+e.isNewWeixinShareUI+'","showFriendList":"'+e.showFriendList+'","callback":"'+e.callbackSwitcher+'","clickcallback":"'+e.clickcallbackSwitcher+'"}';return console.log("schema:",t),t}function _(e){var t={title:e.title,content:e.content,shareUrl:decodeURIComponent(e.url),iconUrl:decodeURIComponent(e.img),shareActionType:e.shareActionType,channel:e.channel,timeline_title:e.timeline_title,qrparam:e.qrparam,keyparam:e.keyparam,shareSource:e.shareSource,weiXinContentParam:e.weiXinContentParam,isNewWeixinShareUI:e.isNewWeixinShareUI,showFriendList:e.showFriendList,callback:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,eventId:""};v&&e.mpId&&e.mpPath&&e.mpIconUrl&&(t.mpId=e.mpId,t.mpPath=e.mpPath,t.mpIconUrl=e.mpIconUrl,t.mpType=e.mpType),y&&e.incentiveBizType&&e.incentiveBizId&&(t.incentiveBizType=e.incentiveBizType,t.incentiveBizId=e.incentiveBizId),shareHelper.initShare(Dv(t))}function R(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img),t.callbackSwitcher)}function C(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img))}function P(e,t){return S+'communication?params={"action":"'+t+'","title":"'+e.title+'","content":"'+e.content+'","shareUrl":"'+e.url+'","iconUrl":"'+e.img+'","isCallBack":"'+e.callbackSwitcher+'"}'}function E(e){var t,r={category:"jump",des:"share",type:"111",title:e.title,content:e.content,shareUrl:e.url,imageUrl:e.img,iconUrl:e.img,timeline_title:e.timeline_title,qrparam:e.qrparam,keyparam:e.keyparam,shareSource:e.shareSource,weiXinContentParam:e.weiXinContentParam,isNewWeixinShareUI:e.isNewWeixinShareUI,showFriendList:e.showFriendList,channel:e.channel,isCallBack:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,shareActionType:e.shareActionType};if(v&&e.mpId&&e.mpPath&&e.mpIconUrl&&(r.mpId=e.mpId,r.mpPath=encodeURIComponent(e.mpPath),r.mpIconUrl=encodeURIComponent(e.mpIconUrl),r.mpType=e.mpType),m){t=e.keyparam,"[object Object]"===Object.prototype.toString.call(t)&&(r.keyparam=function(e,t){var r={},n={};for(var o in e)r[o]=e[o];for(var o in r)r.hasOwnProperty(o)&&yp(t).call(t,o)>-1?n[o]=encodeURIComponent(r[o]):n[o]=r[o];return n}(e.keyparam,["keyImg","url","keyId"]))}y&&e.incentiveBizType&&e.incentiveBizId&&(r.incentiveBizType=e.incentiveBizType,r.incentiveBizId=e.incentiveBizId);var n=S+"virtual?params="+Dv(r);return console.log("schema",n),n}function N(e){if(!(this instanceof N))return new N}function x(e){this.message=e,this.name="JdShareException",this.toString=function(){return this.name+": "+this.message}}function U(e,t){for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(e[r]=t[r])}function J(e,t){if(!t)return e;var r=yp(e).call(e,"#"),n="";return-1!==r&&(n=qp(e).call(e,r),e=qp(e).call(e,0,r)),e+=(-1===yp(e).call(e,"?")?"?":"&")+t+n}function D(t){e.jdappShareRes=function(e){e.hasOwnProperty("shareResult")?t.callback&&t.callback(e):u&&m&&g&&e.hasOwnProperty("shareEvent")?("CANCEL_SHARE_CONTENT"==e.shareEvent?(e.shareResult="2",e.shareChannel=""):(e.shareResult="0",e.shareChannel=function(e){return{WeChat_Friend:"Wxfriends",WeChat_FriendTimeline:"Wxmoments",Weibo:"Sinaweibo",QQFriend_SHARE_CLIENT:"QQfriends",QQZone_SHARE_CLIENT:"QQzone"}[e]}(e.shareEvent)),t.callback&&t.callback(e)):t.clickcallback&&t.clickcallback(e)}}function M(e){var t="";if(e){if(u){if(p){if(t={Wxfriends:"WeChat_Friend",Wxmoments:"WeChat_FriendTimeline",Sinaweibo:"Weibo",QQfriends:"QQFriend_SHARE_CLIENT",QQzone:"QQZone_SHARE_CLIENT",Moreshare:""}[e])return t;throw new x("输入的channel参数在iphone版本中不存在")}return e}return e}return e}function B(e){return void 0!==e.title&&void 0!==e.content&&void 0!==e.url&&void 0!==e.img}function L(e){if(B(e)){try{var t,r,n,o,i={timeline_title:"",channel:"",qrparam:null,keyparam:null,shareSource:null,weiXinContentParam:null,isNewWeixinShareUI:null,showFriendList:"",callback:null,clickcallback:null,mpId:null,mpPath:null,mpIconUrl:null,mpType:null,incentiveBizType:null,incentiveBizId:null};if("[object Object]"===Object.prototype.toString.call(e)){U(i,e);for(var a=["qrparam","keyparam","weiXinContentParam","shareSource"],c=0,s=a.length;c<s;c++){var u=a[c],l=e[u];if("[object Object]"===Object.prototype.toString.call(l))U(i[u]={},l)}}t="function"==typeof i.callback,n="function"==typeof i.clickcallback,r=t?k:A,o=n?k:A,t&&n?D({callback:i.callback,clickcallback:i.clickcallback}):t?D({callback:i.callback}):n&&D({clickcallback:i.clickcallback}),"[object Object]"===Object.prototype.toString.call(i.qrparam)&&(i.qrparam.top_pic=i.qrparam.top_pic?encodeURIComponent(decodeURIComponent(i.qrparam.top_pic)):"",i.qrparam.mid_pic=i.qrparam.mid_pic?encodeURIComponent(decodeURIComponent(i.qrparam.mid_pic)):"",i.qrparam.mid_pic_x=i.qrparam.mid_pic_x?encodeURIComponent(decodeURIComponent(i.qrparam.mid_pic_x)):"",i.qrparam.mid_pic_x2=i.qrparam.mid_pic_x2?encodeURIComponent(decodeURIComponent(i.qrparam.mid_pic_x2)):"",i.qrparam.qr_direct=i.qrparam.qr_direct?encodeURIComponent(decodeURIComponent(i.qrparam.qr_direct)):""),i.callbackSwitcher=r,i.clickcallbackSwitcher=o,i.url=J(i.url,"_ts="+(new Date).getTime()),i.channel=M(i.channel),i.url=encodeURIComponent(i.url),i.img=encodeURIComponent(i.img)}catch(e){throw e}return i}throw new x("调用方法时传入配置对象格式错误，请查看文档")}function q(t){if(!B(t))throw new x("调用方法时传入配置对象格式错误，请查看文档");try{var r,n,o,i,a={category:"jump",des:"share",type:"111",title:t.title,content:t.content,shareUrl:t.url,imageUrl:t.img,iconUrl:t.img,timeline_title:t.timeline_title,qrparam:t.qrparam,keyparam:t.keyparam,shareSource:t.shareSource,weiXinContentParam:t.weiXinContentParam,isNewWeixinShareUI:t.isNewWeixinShareUI,showFriendList:t.showFriendList,channel:t.channel};"[object Object]"===Object.prototype.toString.call(t)&&U(a,t),r="function"==typeof a.callback,o="function"==typeof a.clickcallback,n=r?k:A,i=o?k:A,r&&o?D({callback:a.callback,clickcallback:a.clickcallback}):r?D({callback:a.callback}):o&&D({clickcallback:a.clickcallback}),a.callbackSwitcher=n,a.clickcallbackSwitcher=i,a.url=J(a.url,"_ts="+(new Date).getTime()),a.channel=M(a.channel);var c={method:"configShare",params:Dv(a)};e.webkit.messageHandlers.JDAppUnite.postMessage(c)}catch(e){throw console.log("error",e),e}}function H(e){var t;b&&e.keyparam&&"string"==typeof e.keyparam.keyChannel&&e.keyparam.sourceCode&&(e.isNewWeixinShareUI="0",/Wxfriends/.test(e.keyparam.keyChannel)||(e.keyparam.keyChannel=Ap(t=e.keyparam.keyChannel.split(",")).call(t,"Wxfriends").join(",")))}return x.prototype=a_(Error.prototype),x.prototype.constructor=x,N.prototype.setShareInfo=function(t){try{var r=null;if((r=L(t)).shareActionType=T,o||a)if(s)if(e.shareHelper)if(H(r),"function"==typeof shareHelper.initShare)_(r);else if("function"==typeof shareHelper.setShareInfoCallback)if(r.callbackSwitcher===k)try{R("setShareInfoCallback",r)}catch(e){C("setShareInfoCallback",r)}else try{R("setShareInfoCallback",r)}catch(e){"function"==typeof shareHelper.setShareInfo&&C("setShareInfo",r)}else"function"==typeof shareHelper.setShareInfo&&C("setShareInfo",r);else e.location.href=I(r);else(u||f)&&(d||h||a?w?(t.shareActionType=T,q(t)):location.href=E(r):u&&(location.href=P(r,"syncShareData")));else i&&(s?e.location.href=I(r):(u||f)&&(location.href=E(r)))}catch(e){throw e}},N.prototype.callSharePane=function(t){try{var r=null;(r=L(t)).shareActionType=j,s?(o||a)&&e.shareHelper?(H(r),"function"==typeof shareHelper.initShare?_(r):"function"==typeof shareHelper.callShare?R("callShare",r):e.location.href=I(r)):e.location.href=I(r):(u||f)&&(d||h||a?w?(t.shareActionType=j,q(t)):location.href=E(r):i?location.href=E(r):u&&(location.href=P(r,"share")))}catch(e){throw e}},N.prototype.sendDirectShare=function(t){try{var r,n=null;if((n=L(t)).shareActionType=O,s)(o||a)&&e.shareHelper?"function"==typeof shareHelper.initShare?_(n):"function"==typeof shareHelper.sendShare?shareHelper.sendShare(n.title,n.content,decodeURIComponent(n.url),decodeURIComponent(n.img),n.channel,n.callbackSwitcher):location.href=I(n):e.location.href=I(n);else if(u||f){if(!n.channel)throw new x("分享渠道未设置");d||h||a?w?(t.shareActionType=O,q(t)):location.href=E(n):i?location.href=E(n):u&&(r=S+'virtual?params={"category":"jump","des":"share","type":"111","title":"'+n.title+'","content":"'+n.content+'","shareUrl":"'+n.url+'","imageUrl":"'+n.img+'","channel":"'+n.channel+'","isCallBack":"'+n.callbackSwitcher+'"}',location.href=r)}}catch(e){throw e}},t||(t=N()),t}function J_(){return"undefined"!=typeof window?window:this}function D_(e){e.jm&&e.jdshare&&e.jm.jdshare||(e.jm=e.jm||{},e.jdshare=e.jm.jdshare=U_(e))}function M_(e){return"openApp.jdMobile://virtual?params=".concat(encodeURIComponent(Dv(e)))}function B_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/index/index",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"gh_45b306365c3d",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(JS("jd")){var n="jssdkCallMp_".concat(WS(8));window[n]=function(e){delete window[n];try{console.log("callMp回调成功",JSON.parse(e))}catch(e){console.log("callMp回调参数解析失败")}};var o,i,a,c,s,u,l,f,d=Dv({businessType:"jumpToMiniProgram",callBackName:n,params:{username:t,path:e,miniProgramType:r}});if(FS("wk"))null===(o=window)||void 0===o||null===(i=o.webkit)||void 0===i||null===(a=i.messageHandlers)||void 0===a||null===(c=a.JDAppUnite)||void 0===c||null===(s=c.postMessage)||void 0===s||s.call(c,{method:"notifyMessageToNative",params:d});else null===(u=window)||void 0===u||null===(l=u.JDAppUnite)||void 0===l||null===(f=l.notifyMessageToNative)||void 0===f||f.call(l,d)}else console.log("非京东app环境")}function L_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openAppParams,r=e.mUrl;JS("jd")?t?location.href=M_(t):console.log("缺少openAppParams"):r?location.href=$p(r):console.log("缺少mUrl")}function q_(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=q_(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=q_(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function F_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.extraOpenAppParams;if(e){var n=$p(e);L_({openAppParams:H_({action:"to",category:"jump",des:"m",url:n},r),mUrl:n})}else console.log("缺少url")}function W_(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=W_(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=W_(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function X_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.extraOpenAppParams,n=t.ghId,o=void 0===n?"gh_45b306365c3d":n,i=t.mpType,a=void 0===i?0:i;if(e){var c=/^openapp\./i,s=/^\/?pages\//;if(JS("jd"))if(e.match(c))if(r){var u=/(\?|&)params=([^&]+)(&|$)/,l=e.match(u);if(l)try{var f,d,p=Gd(l,4),h=p[1],v=p[2],m=p[3],g=V_(V_({},JSON.parse(decodeURIComponent(v))),r),y=encodeURIComponent(Dv(g));location.href=e.replace(u,Ap(f=Ap(d="".concat(h,"params=")).call(d,y)).call(f,m))}catch(e){console.log("openApp协议参数params格式不正确")}else console.log("openApp协议缺少参数params")}else location.href=e;else e.match(s)?B_(e,o,a):F_(e,{extraOpenAppParams:r});else e.match(c)?console.log("m站环境不支持openApp协议"):e.match(s)?console.log("m站环境不支持微信小程序链接"):location.href=$p(e)}else console.log("缺少url")}function z_(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=z_(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=z_(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function $_(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=$_(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=$_(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function Q_(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=Q_(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=Q_(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}var Z_=Rc,eR=gp;function tR(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(eR(t).call(t,n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Z_){var i=Z_(e);for(n=0;n<i.length;n++)r=i[n],eR(t).call(t,r)>=0||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var rR=["appid","loginonestep","qqlogin","returnurl","wxlogin"];function nR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function oR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=nR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=nR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function iR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=iR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=iR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function cR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function sR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=cR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=cR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function uR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=uR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=uR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function fR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=fR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=fR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function pR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=pR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=pR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function vR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function mR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=vR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=vR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function gR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=gR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=gR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}function wR(e,t){var r=cn(e);if(Cc){var n=Cc(e);t&&(n=Fc(n).call(n,(function(t){return Yc(e,t).enumerable}))),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r,n,o=null!=arguments[t]?arguments[t]:{};t%2?cp(r=wR(Object(o),!0)).call(r,(function(t){gf(e,t,o[t])})):ps?bs(e,ps(o)):cp(n=wR(Object(o))).call(n,(function(t){_s(e,t,Yc(o,t))}))}return e}e.JSAGENT_EXCEPTION_TYPE=Nk,e.NAME="@jmfe/jd-jssdk",e.VERSION="4.6.4",e.addReminder=function(e){return LS()?function(e){return new xS((function(t){s_(e);var r,n=f_(e),o=e.url;r="object"===hf(o)?o:{des:"m",params:{url:o}};var i=Dv(r),a=e.tag,c=e.title,s=e.time,u=e.id,l=e.imgUrl,f=e.nTime,d=e.extra1,p=e.extra2,h=T_({businessType:n,showTag:a||"",remindTitle:c||"",beginTime:s,uniqueId:u,jumpStr:i||"",imgUrl:l||"",notifyTime:f||s-18e4,extraStr1:d||"",extraStr2:p||""});console.log(h),t(HI("ReminderPlugin","addReminder",h,"","addReminder").then((function(e){var t=e.data;return{appointed:"1"===String(t),id:u}})))})).catch((function(e){return console.error(e),xS.reject(e)}))}(e):(t=e,R_(r=__()),r.jm.jdreminder.addReminder(t));var t,r},e.backControlRouter=function(e){if(LS()){return FI("JDHybridNavigationPlugin","enableWebControlBack",e,"","backControlRouter")}return function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r))if(Cp(e.onClickBtnBack)){if(!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"MobileNavi.enableWebControlBack"},r)){var n=DI("enableWebControlBack");window[n]=function(e){var o;try{o=JSON.parse(e),t(o)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[n]},window.jdWebviewClickBackCallBack=e.onClickBtnBack;var o=e;MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:{routerURL:"router://JDWebViewBusinessModule/enableWebControlBack",routerParam:{businessType:"enableWebControlBack"},callBackName:n,callBackId:n,controlType:null==o?void 0:o.controlType}}):BS()&&window.MobileNavi.enableWebControlBack(Dv({callBackName:n}))}}else r({status:"-100",msg:"返回回调函数错误"})}))}(e)},e.buildSchema=M_,e.callApp=function(){var e,t,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href;JS("jd")||JS("mp")?console.log("非m站环境"):"function"==typeof(null===(e=window)||void 0===e||null===(t=e.$)||void 0===t?void 0:t.immediateOpenApp)?window.$.immediateOpenApp({downAppURl:"https://wqs.jd.com/downloadApp/download.html?channel=jd-m",inteneUrl:"openApp.jdMobile://virtual?",inteneUrlParams:{action:"to",category:"jump",des:"m",url:encodeURIComponent($p(n))},NoJumpDownLoadPage:r}):console.log("未加载js：https://wq.360buyimg.com/js/common/dest/wq.imk.downloadAppPlugin.min.js")},e.callMp=B_,e.callNative=HI,e.callRouter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(LS()){if(t&&"1"===t){var r="JDHybridRouterPlugin",n="callSyncRouterModuleWithParams",o="callRouter";return FI(r,n,e,t="1",o)}var i="JDHybridRouterPlugin",a="callRouterModuleWithParams",c="callRouter";return FI(i,a,e,t="",c)}return n_(e)},e.callSharePane=function(e){return LS()?function(e){var t=x_(e,"P");console.log(t),HI("SharePlugin","initShare",t,"","callSharePane").catch((function(e){return console.error(e),xS.reject(e)}))}(e):function(){var e,t=J_();return D_(t),(e=t.jm.jdshare).callSharePane.apply(e,arguments)}(e)},e.callVibrate=function(e){if(LS()){return FI("PhoneBasicFuncPlugin","invokeVibrate",e,"","callVibrate")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: callVibrate"})}))},e.canLaunchAppUri=function(e){if(LS()){return FI("JDHybridNavigationPlugin","canLaunchAppUri",e,"","canLaunchAppUri")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: canLaunchAppUri"})}))},e.closeVibrate=function(){if(LS()){return FI("PhoneBasicFuncPlugin","cancelVibrate",{},"","closeVibrate")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: closeVibrate"})}))},e.closeWebview=function(){if(LS())return new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)){var r="closeJDApp://webview?refresh=true";return window.location.href=r,e({status:"0000",msg:"schema[Harmony] 已执行: ".concat(r)})}}));new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)){var r={ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:!0};if(!1!==BI(r,t)){if(MS())return window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:{routerURL:"router://JDWebViewBusinessModule/closeWebview",callBackName:null,callBackId:null}}),e({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(r.ios," callRouterModuleWithParams")});if(BS()){var n="closeJDApp://webview?refresh=true";return window.location.href=n,e({status:"0000",msg:"schema[Android] 已执行: ".concat(n)})}}}}))},e.colorRequest=function(e){if(LS()){return FI("ColorQueryPlugin","colorRequest",e,"","colorRequest")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: colorRequest"})}))},e.commonCallNative=FI,e.completeProtocol=$p,e.configNavigationBar=function(e){if(LS()){return FI("JDHybridNavigationPlugin","configNavigationBar",e,"","callRouter")}return function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)){if(!Pp(e))return r({status:"-100",msg:"传入参数错误"});if("2"===e.canPull&&!1===qI("jd","10.0.0",r))return r({status:"-100",msg:"h5自定义下拉，需要app版本大于10.0.0"});var n={ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"MobileNavi.configNavigationBar"};if(!1!==BI(n,r)){var o=DI("configNavigationBar");if(window[o]=function(e){var n;try{n=JSON.parse(e),t(n)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[o]},e.callBackName=o,MS()){if(window.webkit.messageHandlers.MobileNavi.postMessage({method:"configNavigationBar",params:Dv(e)}),-1===tk(ek("jd"),"9.1.6"))return delete window[o],t({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(n.ios)})}else if(BS()&&(window.MobileNavi.configNavigationBar(Dv(e)),-1===tk(ek("jd"),"8.3.6")))return delete window[o],t({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(n)})}}}))}(e)},e.configNavigationButton=function(e){if(LS()){return FI("JDHybridNavigationPlugin","configBtnSince610",e,"","configNavigationButton")}return function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)){if(!Pp(e))return r({status:"-100",msg:"参数错误或不存在"});var n={ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"MobileNavi.configBtnSince610"};if(!1!==BI(n,r))return MS()?(window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:Dv(e)}),t({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(n.ios)})):BS()?(window.MobileNavi.configBtnSince610(Dv(e)),t({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(n.android)})):void 0}}))}(e)},e.cookieEnabled=function(){var e,t,r;return null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.cookieEnabled)&&void 0!==e&&e},e.deleteReminder=function(e){return LS()?function(e){return new xS((function(t){s_(e);var r=f_(e),n=e.time,o=e.id,i=T_({businessType:r,beginTime:n,uniqueId:o});console.log(i),t(HI("ReminderPlugin","removeReminder",i,"","deleteReminder").then((function(e){var t=e.data;return{appointed:"1"===String(t),id:o}})))})).catch((function(e){return console.error(e),xS.reject(e)}))}(e):(t=e,R_(r=__()),r.jm.jdreminder.deleteReminder(t));var t,r},e.emptyCookie=function(){var e;cp(e=document.cookie.split(/;\s/)).call(e,(function(e){var t=Gd(e.split("="),1)[0];t&&Lp(decodeURIComponent(t))}))},e.getAllCookies=function(){var e,t={};return cp(e=document.cookie.split(/;\s/)).call(e,(function(e){if(yp(e).call(e,"=")>-1){var r=Gd(e.split("="),2),n=r[0],o=r[1];t[decodeURIComponent(n)]=o?decodeURIComponent(o):""}})),t},e.getAndroidVersion=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"",o=n.match(/android\s([0-9\.]*)/i);return o?o[1]:""},e.getAppVersion=ek,e.getCookie=Mp,e.getDeviceInfo=function(){if(LS()){return FI("AppUnitePlugin","getAppInfo",["brand","model","systemName","systemVersion","appVersion","appBuild","uuid","networkType"],"","getDeviceInfo")}return new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.getPhoneBasicInfo"},t)){var r=DI("getPhoneBasicInfo");window[r]=function(n){var o;try{if((o=JSON.parse(n))&&Pp(o.data)){var i=o.data,a={},c=["lng","lat","addressGlobal","ip"];for(var s in i)-1===yp(c).call(c,s)&&(a[s]=i[s]);bA(o,{data:a})}e(o)}catch(e){t({status:"-100",msg:"bridge result JSON parse error",data:n})}delete window[r]},MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"getPhoneBasicInfo",params:r}):BS()&&window.JDAppUnite.getPhoneBasicInfo(r)}}))},e.getIOSVersion=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"",o=n.match(/OS ((\d+_?){2,3})\s/i);return o?o[1].replace(/_/g,"."):""},e.getNavigationStatusHeight=function(){if(LS()){return FI("JDHybridNavigationPlugin","getActualNaviStatusHeight",{},"","getNavigationStatusHeight")}return new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)&&!1!==BI({ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"MobileNavi.getActualNaviStatusHeight"},t)){var r=DI("getNaviStatusHeight");if(window[r]=function(n){var o;try{o=JSON.parse(n),e(o)}catch(e){t({status:"-100",msg:"bridge result JSON parse error",data:n})}delete window[r]},MS()){if(!1===qI("jd","9.1.6",t))return void delete window[r];window.webkit.messageHandlers.MobileNavi.postMessage({method:"callRouterModuleWithParams",params:{routerURL:"router://JDWebViewBusinessModule/getActualNaviStatusHeight",callBackName:r}})}else BS()&&window.MobileNavi.getActualNaviStatusHeight(r)}}))},e.getNetwork=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"",o=/nettype\/(\S*)/i;return JS("jd",n)&&(o=/network\/([^;]*)/i),console.warn("getNetwork方法已不再有效，请使用await getNetworkStatus()代替，详见：https://opendoc.jd.com/jd-jssdk/v4/jd-webview.html#getnetworkstatus"),o.test(n)?RegExp.$1.toLowerCase():"unknown"},e.getNetworkStatus=WI,e.getNetwrokStatus=WI,e.getSoundInfo=function(){if(LS()){return FI("PhoneBasicFuncPlugin","getSoundInfo",{},"","getSoundInfo")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: getSoundInfo"})}))},e.getStorage=function(e){if(LS()){return FI("JDBStoragePlugin","getItem",e,"","getItem")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: getStorage"})}))},e.getStorageAllKeys=function(){if(LS()){return FI("JDBStoragePlugin","getAllKeys",{},"","getStorageAllKeys")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: getStorageAllKeys"})}))},e.getStorageLength=function(){if(LS()){return FI("JDBStoragePlugin","length",{},"","getStorageLength")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: getStorageLength"})}))},e.getUUID=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"",o="";return o=DS()?n.split(";")[4]:Mp("mba_muid"),console.warn("getUUID方法已不再有效，请使用(await getDeviceInfo()).uuid代替，详见：https://opendoc.jd.com/jd-jssdk/v4/jd-webview.html#getdeviceinfo"),o},e.getUniqueId=WS,e.getUrlQuery=function(e,t){var r=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.search,n=yp(r).call(r,"?"),o=yp(r).call(r,"#");if(n>o&&o>-1&&(n=-1),n>-1){var i=qp(r).call(r,n+1,o>-1?o:void 0),a={},c=i.split("&");return zp(c).call(c,(function(e){var t=Gp(e,"=");return a[t[0]]=t[1],e})),a}return{}}(t);if(!e)return r;if(Ep(e)){for(var n={},o=0;o<e.length;o+=1)n[e[o]]=r[e[o]];return n}return r[e]},e.getUserAgent=US,e.goBackRouter=function(){if(LS()){return FI("JDHybridNavigationPlugin","goBack",{},"","goBackRouter")}return new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)){var r={ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.notifyMessageToNative"};if(!1!==BI(r,t))return MS()?(window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:Dv({routerURL:"router://JDWebViewBusinessModule/enableWebControlBack",routerParam:{businessType:"goBack"},callBack:null,callBackId:null})}),e({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(r.ios)})):BS()?(window.JDAppUnite.notifyMessageToNative(Dv({businessType:"goBack"})),e({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(r.android)})):void 0}}))},e.hybridJSONP=function(e,t){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: hybridJSONP"})})):function(e,t){try{if(KI)return KI=!1,$I(e,t);throw"非首次调用：firstFlag ".concat(KI)}catch(r){return console.warn("HybridJsonp[Fail]：降级为普通JSONP请求",r),GI(e,t)}}(e,t)},e.hybridMutiPreload=function(e,t,r){if(LS())return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: hybridMutiPreload"})}));for(var n,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return YI.apply(void 0,Ap(n=[e,t,r]).call(n,i))},e.hybridPreload=function(e,t){if(LS())return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: hybridPreload"})}));for(var r,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return e_.apply(void 0,Ap(r=[e,t]).call(r,o))},e.hybridRenderTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pm();return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: hybridRenderTime"})})):t_(e)},e.isAndroid=BS,e.isApp=JS,e.isArray=Ep,e.isBoolean=function(e){return"boolean"==typeof e},e.isEncodedUA=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return!xp(n.match(/ef\/1/))},e.isFunction=Cp,e.isHarmony=LS,e.isIOS=MS,e.isIPad=HS,e.isIPhone=qS,e.isJDApp=DS,e.isJDAppLogin=function(){if(LS()){return FI("JDHybridLoginPlugin","isAppLogin",{},"1","isAppLogin")}return new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.isAppLogin"},t)){var r=DI("isAppLogin");window[r]=function(n){var o;try{o=JSON.parse(n),e(o)}catch(e){t({status:"-100",msg:"bridge result JSON parse error",data:n})}delete window[r]},MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"isAppLogin",params:r}):BS()&&window.JDAppUnite.isAppLogin(r)}}))},e.isMP=function(){return JS("mp")},e.isMobile=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return!!/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/i.test(n)||LS()},e.isNull=xp,e.isNumber=function(e){return"[object Number]"===Rp(e)},e.isObject=Pp,e.isPlainObject=function(e){if(!function(e){return"object"===hf(e)&&null!==e}(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===_p(e))return!0;for(var t=e;null!==_p(t);)t=_p(t);return _p(e)===t},e.isString=Up,e.isSymbol=function(e){var t=hf(e);return"symbol"===t||"object"===t&&null!=e&&"[object Symbol]"===Rp(e)},e.isTablet=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r?void 0:r.userAgent)&&void 0!==e?e:"";return/ipad/i.test(n)||/android/i.test(n)&&!/mobi|mini|fennec/i.test(n)},e.isUndefined=Np,e.isWXApp=function(){return JS("wx")},e.isWebview=FS,e.jsagentAddInterceptor=function(e){kj(),bj.addInterceptor(e)},e.jsagentConfig=function(e){kj(),bj.setConfig(e)},e.jsagentInit=function(e){kj(),bj.init(e)},e.jsagentRemoveInterceptor=function(e){kj(),bj.removeInterceptor(e)},e.jsagentReport=function(e,t,r,n,o,i,a){kj(),bj.report({errType:e,errCode:t,errMsg:r,extra:n,errLevel:o,moduleId:i,flag:a})},e.jsagentReportByBridge=function(e,t,r,n,o){kj(),bj.reportByJSbridge({errType:e,errCode:t,errMsg:r,extra:n,errLevel:o})},e.jsagentReportException=function(e){kj(),bj.reportException({err:e})},e.jsagentStart=function(){kj(),bj.start()},e.jumpToMiniProgram=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/index/index",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"gh_45b306365c3d";B_(e,t)},e.notifyMessage=function(e){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: notifyMessage"})})):function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.notifyMessageToNative"},r)){var n=DI("notifyMessage");window[n]=function(e){try{var n=JSON.parse(e);t(n)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}},e.callBackName=n,MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"notifyMessageToNative",params:Dv(e)}):BS()&&window.JDAppUnite.notifyMessageToNative(Dv(e))}}))}(e)},e.notifyPullToRefreshComplete=function(){if(LS()){return FI("JDHybridNavigationPlugin","notifyPullToRefreshComplete",{},"","callRouter")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: notifyPullToRefreshComplete"})}))},e.openSystemBrowser=function(e){if(LS()){return FI("JDHybridNavigationPlugin","openUrlInBrowser",e,"","openSystemBrowser")}return function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.notifyMessageToNative"},r)){var n=e;MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:Dv({routerURL:"router://JDWebViewAbilityModule/openUrlInSafari",routerParam:{url:null==n?void 0:n.url}})}):BS()&&window.JDAppUnite.notifyMessageToNative(Dv({businessType:"openUrlInBrowser",params:{url:null==n?void 0:n.url}}))}}))}(e)},e.phoneDial=function(e){if(LS()){return FI("JDHybridNavigationPlugin","phoneDial",e,"","phoneDial")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: phoneDial"})}))},e.presetReminderOptions=function(e){return LS()?l_(e):(t=e,R_(r=__()),r.jm.jdreminder.presetReminderOptions(t));var t,r},e.preventNativeSwipeEvent=function(){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: preventNativeSwipeEvent"})})):new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)){if(MS())return t({status:"-100",msg:"IOS端无该方法,可以在H5层面直接解决"});if(BS()){var r={ios:"",android:"JdAndroid.requestEvent"};if(!1===BI(r,t))return;return window.JdAndroid.requestEvent(!0),e({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(r.android)})}}}))},e.profilerAddKeyValues=function(e){return JI(),xI.addKeyValues(e)},e.profilerAddPits=function(e){return JI(),xI.addPits(e)},e.profilerAddStaticFile=function(e){return JI(),xI.addStaticFile(e)},e.profilerAddStaticFileByLimitedType=function(e){return JI(),xI.addStaticFileByLimitedType(e)},e.profilerGetServerInfo=function(){return JI(),xI.getServerInfo()},e.profilerInit=function(e){return JI(),xI.init(e)},e.profilerModuleReport=function(e,t){return JI(),xI.moduleReport(e,t)},e.profilerReport=function(){return JI(),xI.report()},e.queryReminder=function(e){return LS()?function(e){return new xS((function(t){s_(e);var r=f_(e),n=e.time,o=e.id,i=T_({businessType:r,beginTime:n,uniqueId:o});console.log(i),t(HI("ReminderPlugin","checkReminder",i,"","queryReminder").then((function(e){var t=e.data;return{appointed:"1"===String(t),id:o}})))})).catch((function(e){return console.error(e),xS.reject(e)}))}(e):(t=e,R_(r=__()),r.jm.jdreminder.queryReminder(t));var t,r},e.queryRemindersByTimeSpan=function(e){return LS()?function(e){return new xS((function(t){var r=e.type,n=e.fromTime,o=e.toTime,i=O_(O_({},void 0===r?void 0:{businessType:r}),{},{fromTime:String(n)||"",toTime:String(o)||""});console.log(i),t(HI("ReminderPlugin","getAllRemindersWithTimeSpanAndBusinessType",i,"","queryRemindersByTimeSpan").then((function(e){var t=e.data;if(""===t)return{};try{var r=JSON.parse(t);return HA(r).call(r,(function(e,t){return e[t]=!0,e}),{})}catch(e){return{}}})))})).catch((function(e){return console.error(e),xS.reject(e)}))}(e):(t=e,R_(r=__()),r.jm.jdreminder.queryRemindersByTimeSpan(t));var t,r},e.refreshViewCanPull=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(LS()){var t="JDHybridNavigationPlugin",r="refreshViewCanPull",n="callRouter",o="";return FI(t,r,e,o,n)}return o_(e)},e.registerCode=function(e){e&&(window.__WEBVIEW_REGISTER_CODE__=e)},e.removeCookie=Lp,e.removeProtocol=function(e){return null!==e.match(/^http:|^https:/i)?e.replace(/^http:|^https:/i,""):e},e.removeStorage=function(e){if(LS()){return FI("JDBStoragePlugin","removeItem",e,"","removeStorage")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: removeStorage"})}))},e.requestIsvToken=function(e){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: requestIsvToken"})})):function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.requestIsvToken"},r)){var n=DI("requestIsvToken");window[n]=function(e){try{var o=(JSON.parse(e)||{}).data;t({status:"0",msg:"get isv token success!",data:o})}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[n]},MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"requestIsvToken",params:Dv({url:e}),callBackName:n,callBackId:null}):BS()&&window.JDAppUnite.requestIsvToken(Dv({url:e}),n)}}))}(e)},e.saveImage=function(e){if(LS()){return FI("DownloadPlugin","saveImageToPhotoAlbum",e,"","saveImage")}return function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==BI({ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"JDAppUnite.saveImageToPhoteAlbum"},r)){var n=DI("saveImageToPhotoAlbum");window[n]=function(o){var i;try{"0"==(i=JSON.parse(o)).code?(t({status:"0",msg:"下载成功"}),delete window[n]):"-1"===i.code?(t({status:"-1",msg:"下载失败"}),delete window[n]):Cp(e.processing)&&e.processing(i)}catch(e){r({status:"-100",msg:"bridge result JSON parse error",data:o})}};var o={imgUrl:e.url,callBackName:n,callBackId:n,permission_desc:e.permission_desc};MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"saveImageToPhotoAlbum",params:Dv(o)}):BS()&&window.JDAppUnite.saveImageToPhotoAlbum(Dv(o))}}))}(e)},e.saveVideo=function(e){if(LS()){return FI("DownloadPlugin","saveVideoToAlbum",e,"","saveVideo")}return function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.notifyMessageToNative"},r)){var n=DI("saveVideo");window[n]=function(o){try{var i=JSON.parse(o);"0"==i.status||"-1"===i.status?(t(i),delete window[n]):Cp(e.processing)&&e.processing(i)}catch(e){r({status:"-100",msg:"bridge result JSON parse error",data:o})}};var o={businessType:"saveVideoToAlbum",callBackName:n,params:{callBackId:n,url:e.url}};MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"notifyMessageToNative",params:Dv(o)}):BS()&&window.JDAppUnite.notifyMessageToNative(Dv(o))}}))}(e)},e.scanOrderNo=function(){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: scanOrderNo"})})):new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)&&!1!==BI({ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"MobileNavi.showNativeBarcodeScan"},t)){var r=DI("scanOrderNo");window[r]=function(n){try{var o=JSON.parse(n);e({status:"0",msg:"success",data:o})}catch(e){t({status:"-100",msg:"bridge result JSON parse error",data:n})}delete window[r]},MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"showNativeBarcodeScan",params:r}):BS()&&window.MobileNavi.showNativeBarcodeScan(r)}}))},e.screenShot=function(e){if(LS()){return FI("PhoneBasicFuncPlugin","screenShot",e,"","screenShot")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: screenShot"})}))},e.selectAlbum=function(e){if(LS()){return FI("FilePickPlugin","multiMedia",e,"","multiMedia")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: selectAlbum"})}))},e.sendDirectShare=function(e){return LS()?function(e){var t=x_(e,"O");console.log(t),HI("SharePlugin","initShare",t,"","sendDirectShare").catch((function(e){return console.error(e),xS.reject(e)}))}(e):function(){var e,t=J_();return D_(t),(e=t.jm.jdshare).sendDirectShare.apply(e,arguments)}(e)},e.serialize=Kp,e.setBiologicalProbe=function(e){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: setBiologicalProbe"})})):function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.notifyMessageToNative"},r)){var n=DI("bridgeBiologicalProbe");window[n]=function(e){var o;try{o=JSON.parse(e),t(o)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[n]};var o={businessType:"bridgeBiologicalProbe",callBackName:n,params:e};MS()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"notifyMessageToNative",params:Dv(o)}):BS()&&window.JDAppUnite.notifyMessageToNative(Dv(o))}}))}(e)},e.setCookie=Bp,e.setNavigationTheme=function(){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: setNavigationTheme"})})):new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)&&!1!==BI({ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"MobileNavi.configThemeNavigator"},t)){var r=DI("configThemeNavigator");window[r]=function(n){var o;try{o=JSON.parse(n),e(o)}catch(e){t({status:"-100",msg:"bridge result JSON parse error",data:n})}delete window[r]};var n=Dv({callBackName:r});MS()?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configThemeNavigator",params:n}):BS()&&window.MobileNavi.configThemeNavigator(n)}}))},e.setShareInfo=function(e){return LS()?function(e){var t=x_(e,"S");console.log(t),HI("SharePlugin","initShare",t,"","setShareInfo").catch((function(e){return console.error(e),xS.reject(e)}))}(e):function(){var e,t=J_();return D_(t),(e=t.jm.jdshare).setShareInfo.apply(e,arguments)}(e)},e.setStorage=function(e){if(LS()){return FI("JDBStoragePlugin","setItem",e,"","setStorage")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: setStorage"})}))},e.setTitle=function(e){if(LS()){return FI("JDHybridNavigationPlugin","setTitle",e,"","setTitle")}return new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: setTitle"})}))},e.settingsRouter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"android.settings.SETTINGS";return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: settingsRouter"})})):r_(e)},e.showNavigationCloseButton=function(){if(LS()){return FI("NavigationPlugin","showCloseBtn",{},"","showNavigationCloseButton")}return new xS((function(e,t){if(!1!==LI(["jd","registerCode"],t)){var r={ios:"webkit.messageHandlers.MobileNavi.postMessage",android:"MobileNavi.showCloseBtn"};if(!1!==BI(r,t))return MS()?(window.webkit.messageHandlers.MobileNavi.postMessage({method:"showCloseBtn"}),e({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(r.ios)})):BS()?(window.MobileNavi.showCloseBtn(),e({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(r.android)})):void 0}}))},e.toAny=X_,e.toBindMobile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;location.href="https://sec.m.jd.com/todo/bindMobile?returnUrl=".concat(encodeURIComponent($p(e)))},e.toCouponBuy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.extraOpenAppParams;e?L_({openAppParams:G_({category:"jump",couponId:e,des:"productList",from:"couponBatch",intel:"22"},r),mUrl:"https://so.m.jd.com/list/couponSearch.action?couponbatch=".concat(e)}):console.log("缺少batchId")},e.toCouponCenter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraOpenAppParams;L_({openAppParams:K_({category:"jump",des:"couponCenter"},t),mUrl:"https://coupon.m.jd.com/center/getCouponCenter.action"})},e.toCustomerService=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entryCode,r=e.orgId,n=e.venderId,o=e.skuId,i=e.url,a=void 0===i?"https://jdcs.m.jd.com/after/index.action":i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=c.extraOpenAppParams,u=t?{des:"im",entry:t}:r?{des:"jd_native_im",orgId:r}:n?{des:"jd_native_im",venderid:n}:o?{des:"im",skuId:o,name:"name",imgUrl:"imgUrl",price:"price"}:{des:"im"},l=$p(a);L_({openAppParams:Y_(Y_({category:"jump"},u),s),mUrl:l})},e.toDownload=function(){location.href=JS("wx")?"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850":HS()?"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8":qS()?"https://itunes.apple.com/cn/app/id414245413":"https://wqs.jd.com/downloadApp/download.html"},e.toLink=function(e){e?X_(e):console.log("缺少link")},e.toLogin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appid,r=void 0===t?100:t,n=e.loginonestep,o=void 0!==n&&n,i=e.qqlogin,a=void 0!==i&&i,c=e.returnurl,s=void 0===c?location.href:c,u=e.wxlogin,l=void 0!==u&&u,f=tR(e,rR);location.href="https://plogin.m.jd.com/user/login.action?".concat(Kp(oR({appid:r,loginonestep:o,qqlogin:a,returnurl:encodeURIComponent($p(s)),wxlogin:l},f)))},e.toMyCart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraOpenAppParams;L_({openAppParams:aR({category:"jump",des:"cartB"},t),mUrl:"https://p.m.jd.com/cart/cart.action"})},e.toMyCoupon=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraOpenAppParams;L_({openAppParams:sR({category:"jump",des:"mycoupon"},t),mUrl:"https://wqs.jd.com/my/coupon/index.shtml"})},e.toMyJd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraOpenAppParams;L_({openAppParams:lR({category:"jump",des:"myJd"},t),mUrl:"https://home.m.jd.com/myJd/newhome.action"})},e.toMyRedbag=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraOpenAppParams;L_({openAppParams:dR({appname:"JDReactMyRedEnvelope",category:"jump",des:"jdreactcommon",fromName:2,ishidden:!0,modulename:"JDReactMyRedEnvelope",needLogin:!0},t),mUrl:"https://wqs.jd.com/my/redpacket.shtml"})},e.toRealName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;location.href="https://idt.jd.com/realname-face?businessReturnUrl=".concat(encodeURIComponent($p(e)))},e.toScan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraOpenAppParams;JS("jd")?L_({openAppParams:hR({category:"jump",des:"native_scan"},t)}):console.log("m站中不可用")},e.toSeckillChannel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraOpenAppParams;L_({openAppParams:mR({category:"jump",des:"seckill"},t),mUrl:"https://wqs.jd.com/portal/wx/seckill_m/index.shtml"})},e.toShop=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.extraOpenAppParams;e?L_({openAppParams:yR({category:"jump",des:"jshopMain",shopId:e},r),mUrl:"https://shop.m.jd.com/?shopId=".concat(e)}):console.log("缺少shopId")},e.toSku=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.extraOpenAppParams;e?L_({openAppParams:bR({category:"jump",des:"productDetail",skuId:e},r),mUrl:"https://item.m.jd.com/ware/view.action?wareId=".concat(e)}):console.log("缺少skuId")},e.toUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openAppParams,r=e.url;t?r?L_({openAppParams:t,mUrl:r}):JS("jd")?L_({openAppParams:t}):console.log("缺少url"):r?X_(r):console.log("缺少openAppParams或url")},e.togglePageBounces=function(e){return LS()?new xS((function(e,t){t({status:"-100",msg:"JSBridge[Harmony] 不存在: togglePageBounces"})})):function(e){return new xS((function(t,r){if(!1!==LI(["jd","registerCode"],r)&&!1!==qI("jd","10.2.6",r))if(MS()){if(!1===BI({ios:"webkit.messageHandlers.JDAppUnite.postMessage",android:"JDAppUnite.callRouterModuleWithParams"},r))return;var n=DI("togglePageBounces");window[n]=function(e){var o;try{o=JSON.parse(e),t(o)}catch(t){r({status:"-100",msg:"bridge result JSON parse error",data:e})}delete window[n]};var o={routerURL:"router://JDBWebViewUtilsModule/bounces",routerParam:{bounces:"".concat(e)},callBackName:n};window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callSyncRouterModuleWithParams",params:Dv(o)})}else if(BS())return r({status:"-100",msg:"Android端无该方法"})}))}(e)},e.version=function(e){var t=e.split(".");return{full:e,major:wh(t[0],10),minor:wh(t[1],10),patch:wh(t[2],10),build:t[3]?wh(t[3],10):null}},e.versionCompare=tk,e.xviewClose=function(){return new xS((function(e,t){if(!1!==LI(["jd","xview","registerCode"],t)){var r={ios:"webkit.messageHandlers.XView.postMessage",android:"XView.close"};if(!1!==BI(r,t))return MS()?(window.webkit.messageHandlers.XView.postMessage({method:"close"}),e({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(r.ios)})):BS()?(window.XView.close(),e({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(r.android)})):void 0}}))},e.xviewConfig=function(e){return new xS((function(t,r){if(!1!==LI(["jd","xview","registerCode"],r)){var n={ios:"webkit.messageHandlers.XView.postMessage",android:"XView.configXView"};if(!1!==BI(n,r))return MS()?(window.webkit.messageHandlers.XView.postMessage({method:"configXView",params:Dv(e)}),t({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(n.ios)})):BS()?(window.XView.configXView(Dv(e)),t({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(n.android)})):void 0}}))},e.xviewConfigCloseButton=function(e){var t=e.closeIcon,r=e.x,n=e.y;return new xS((function(e,o){if(!1!==LI(["jd","xview","registerCode"],o)){var i={ios:"webkit.messageHandlers.XView.postMessage",android:"XView.configCloseButton"};if(!1!==BI(i,o))return MS()?(window.webkit.messageHandlers.XView.postMessage({method:"configCloseButton",params:{closeIcon:t,x:r,y:n}}),e({status:"0000",msg:"JSBridge[IOS] 已执行: ".concat(i.ios)})):BS()?(window.XView.configCloseButton(t,r,n),e({status:"0000",msg:"JSBridge[Android] 已执行: ".concat(i.android)})):void 0}}))},e.xviewNotify=function(e){return new xS((function(t,r){if(!1!==LI(["jd","xview","registerCode"],r)){if(!Pp(e))return r({status:"-100",msg:"参数错误"});var n;try{return n=Dv(e),window.location.href="xview://search?request=".concat(encodeURIComponent(n)),t({status:"0000",msg:"shema[xview] 已执行: ".concat(n)})}catch(e){return r({status:"-100",msg:"参数错误: ".concat(n)})}}}))},Object.defineProperty(e,"__esModule",{value:!0})}));
