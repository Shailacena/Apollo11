/* 2025-02-13 19:06:06 unify.min.js @issue to huangzhihua@jd.com Thanks */
!function(){var ScriptStartTime=new Date;try{window.fingerprint={},fingerprint.config={api:{canvas_spendtime:0},unionwsws_param:{iOS:{routerURL:"router://JDUnionFingerprintModule/getUnionFingerprintForH5",callBackName:"fingerprint.webview.fingerPrintCallback"},android:{businessType:"unionFingerPrint",callBackName:"fingerprint.webview.fingerPrintCallback"}}},fingerprint.broswer={getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},rB:function(){var e=[],t=["__webdriver_evaluate","__selenium_evaluate","__webdriver_script_function","__webdriver_script_func","__webdriver_script_fn","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__driver_evaluate","__selenium_unwrapped","__fxdriver_unwrapped"],r=["_phantom","__nightmare","_selenium","callPhantom","callSelenium","_Selenium_IDE_Recorder"];for(var i in r){var a=r[i];window[a]&&e.push({key:"window",value:a})}for(var n in t)r=t[n],window.document[r]&&e.push({key:"window_document",value:r});for(var o in window.document)o.match(/\$[a-z]dc_/)&&window.document[o].cache_&&e.push({key:"document",value:o});return window.external&&JSON.stringify(window.external)&&-1!=JSON.stringify(window.external).indexOf("Sequentum")&&e.push({key:"window_external",value:1}),window.document.documentElement.getAttribute("selenium")&&e.push({key:"document_selenium",value:1}),window.document.documentElement.getAttribute("webdriver")&&e.push({key:"document_webdriver",value:1}),window.document.documentElement.getAttribute("driver")&&e.push({key:"document_driver",value:1}),e},getHeadless:function(){return 0<this.rB().length?1:-1<navigator.userAgent.toLocaleLowerCase().indexOf("headless")?1:0},getUserAgent:function(){return fingerprint.util.MD5.hex_md5(navigator.userAgent)},getPluginName:function(){var e="";if(0<navigator.plugins.length)for(i=0;i<navigator.plugins.length;i++)e+=navigator.plugins[i].name+";";return e},getPluginNum:function(){return navigator.plugins.length},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},getResolution:function(){return window.screen.width+";"+window.screen.height},getHasLiedResolution:function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.oscpu,i=navigator.platform.toLowerCase();if(e=0<=t.indexOf("windows phone")?"Windows Phone":0<=t.indexOf("win")?"Windows":0<=t.indexOf("android")?"Android":0<=t.indexOf("linux")?"Linux":0<=t.indexOf("iphone")||0<=t.indexOf("ipad")?"iOS":0<=t.indexOf("mac")?"Mac":"Other",("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if(void 0!==r){if(0<=(r=r.toLowerCase()).indexOf("win")&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(0<=r.indexOf("linux")&&"Linux"!==e&&"Android"!==e)return!0;if(0<=r.indexOf("mac")&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===r.indexOf("win")&&-1===r.indexOf("linux")&&-1===r.indexOf("mac"))!=("Other"===e))return!0}return 0<=i.indexOf("win")&&"Windows"!==e&&"Windows Phone"!==e||(0<=i.indexOf("linux")||0<=i.indexOf("android")||0<=i.indexOf("pike"))&&"Linux"!==e&&"Android"!==e||(0<=i.indexOf("mac")||0<=i.indexOf("ipad")||0<=i.indexOf("ipod")||0<=i.indexOf("iphone"))&&"Mac"!==e&&"iOS"!==e||(-1===i.indexOf("win")&&-1===i.indexOf("linux")&&-1===i.indexOf("mac"))!=("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.productSub;if(("Chrome"==(e=0<=t.indexOf("firefox")?"Firefox":0<=t.indexOf("opera")||0<=t.indexOf("opr")?"Opera":0<=t.indexOf("chrome")?"Chrome":0<=t.indexOf("safari")?"Safari":0<=t.indexOf("trident")?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==r)return!0;var i,a=eval.toString().length;if(37===a&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===a&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===a&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),i=!0}catch(e){i=!1}}return!(!i||"Firefox"===e||"Other"===e)},getTimeZone:function(){return window.Intl&&window.Intl.DateTimeFormat?(new window.Intl.DateTimeFormat).resolvedOptions().timeZone:void 0}},fingerprint.webview={getIosFingerprint:function(){0==navigator.userAgent.indexOf("jdapp")&&(-1!=navigator.userAgent.indexOf("supportJDSHWK/1")||1==window._is_jdsh_wkwebview?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callSyncRouterModuleWithParams",params:JSON.stringify(fingerprint.config.unionwsws_param.iOS)}):window.JDAppUnite.callRouterModuleWithParams(JSON.stringify(fingerprint.config.unionwsws_param.iOS)))},getAndroidFingerprint:function(){this.isWKWebView()?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"notifyMessageToNative",params:JSON.stringify(fingerprint.config.unionwsws_param.android)}):window.JdAndroid&&window.JdAndroid.notifyMessageToNative(JSON.stringify(fingerprint.config.unionwsws_param.android))},fingerPrintCallback:function(e){try{0==(e=JSON.parse(e)).status&&fingerprint.util.setStorage("unionwsws",e.data)}catch(e){}},getAppFingerprint:function(){try{var e=navigator.userAgent.toLowerCase();/iphone|ipad|ios|ipod/.test(e)?this.getIosFingerprint():/android/.test(e)&&this.getAndroidFingerprint()}catch(e){}return fingerprint.util.getStorage("unionwsws")},isWKWebView:function(){return!(!navigator.userAgent.match(/supportJDSHWK/i)&&1!=window._is_jdsh_wkwebview)}},fingerprint.util={G:"",getArchitecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]},getVideoCard:function(){var e=document.createElement("canvas"),t=sessionStorage.getItem("fingerWebgl")?JSON.parse(sessionStorage.getItem("fingerWebgl")):null;if(t||(t=e.getContext("webgl")||e.getContext("experimental-webgl"),sessionStorage.setItem("fingerWebgl",JSON.stringify(t))),t&&"getExtension"in t){var r=t.getExtension("WEBGL_debug_renderer_info");if(r)return(t.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}return null},getBattery:function(){if("getBattery"in navigator)navigator.getBattery().then(function(e){sessionStorage.setItem("fingerCharging",e.charging),sessionStorage.setItem("fingerLevel",100*e.level)});else if("battery"in navigator){var e=navigator.battery||navigator.mozBattery||navigator.webkitBattery;sessionStorage.setItem("fingerCharging",e.charging),sessionStorage.setItem("fingerLevel",100*e.level)}else sessionStorage.setItem("fingerCharging",0),sessionStorage.setItem("fingerLevel",0)},isBrowser:function(){var e="";return"object"==typeof window?e="0":"[object process]"===Object.prototype.toString.call(process)&&(e="1"),e},getCookie:function(e){var t,r=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(r))?unescape(t[2]):""},getStorage:function(e){if(window.Storage&&window.localStorage&&window.localStorage instanceof Storage)return JSON.parse(localStorage.getItem(e))},setStorage:function(e,t){window.Storage&&window.localStorage&&window.localStorage instanceof Storage&&localStorage.setItem(e,JSON.stringify(t))},getFpb:function(e){var t,r="";if(window.navigator.cookieEnabled){var i=window.document.cookie.indexOf(e+"=");if(-1!=i){i+=e.length+1;var a=window.document.cookie.indexOf(";",i);-1==a&&(a=window.document.cookie.length);try{t=decodeURIComponent(window.document.cookie.substring(i,a))||""}catch(e){t=window.document.cookie.substring(i,a)||""}r||(r=t)}}try{window.localStorage&&(t=window.localStorage.getItem(e)||"",r||(r=t))}catch(e){}try{window.sessionStorage&&(t=window.sessionStorage.getItem(e)||"",r||(r=t))}catch(e){}return t=window.name,r||(r=t),r||(r=t),r||""},MD5:{chrsz:8,G:"",hex_md5:function(e){return this.binl2hex(this.core_md5(this.str2binl(e),e.length*this.chrsz))},core_md5:function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,i=-271733879,a=-1732584194,n=271733878,o=0;o<e.length;o+=16){var s=r,d=i,l=a,c=n;r=this.md5_ff(r,i,a,n,e[o+0],7,-680876936),n=this.md5_ff(n,r,i,a,e[o+1],12,-389564586),a=this.md5_ff(a,n,r,i,e[o+2],17,606105819),i=this.md5_ff(i,a,n,r,e[o+3],22,-1044525330),r=this.md5_ff(r,i,a,n,e[o+4],7,-176418897),n=this.md5_ff(n,r,i,a,e[o+5],12,1200080426),a=this.md5_ff(a,n,r,i,e[o+6],17,-1473231341),i=this.md5_ff(i,a,n,r,e[o+7],22,-45705983),r=this.md5_ff(r,i,a,n,e[o+8],7,1770035416),n=this.md5_ff(n,r,i,a,e[o+9],12,-1958414417),a=this.md5_ff(a,n,r,i,e[o+10],17,-42063),i=this.md5_ff(i,a,n,r,e[o+11],22,-1990404162),r=this.md5_ff(r,i,a,n,e[o+12],7,1804603682),n=this.md5_ff(n,r,i,a,e[o+13],12,-40341101),a=this.md5_ff(a,n,r,i,e[o+14],17,-1502002290),i=this.md5_ff(i,a,n,r,e[o+15],22,1236535329),r=this.md5_gg(r,i,a,n,e[o+1],5,-165796510),n=this.md5_gg(n,r,i,a,e[o+6],9,-1069501632),a=this.md5_gg(a,n,r,i,e[o+11],14,643717713),i=this.md5_gg(i,a,n,r,e[o+0],20,-373897302),r=this.md5_gg(r,i,a,n,e[o+5],5,-701558691),n=this.md5_gg(n,r,i,a,e[o+10],9,38016083),a=this.md5_gg(a,n,r,i,e[o+15],14,-660478335),i=this.md5_gg(i,a,n,r,e[o+4],20,-405537848),r=this.md5_gg(r,i,a,n,e[o+9],5,568446438),n=this.md5_gg(n,r,i,a,e[o+14],9,-1019803690),a=this.md5_gg(a,n,r,i,e[o+3],14,-187363961),i=this.md5_gg(i,a,n,r,e[o+8],20,1163531501),r=this.md5_gg(r,i,a,n,e[o+13],5,-1444681467),n=this.md5_gg(n,r,i,a,e[o+2],9,-51403784),a=this.md5_gg(a,n,r,i,e[o+7],14,1735328473),i=this.md5_gg(i,a,n,r,e[o+12],20,-1926607734),r=this.md5_hh(r,i,a,n,e[o+5],4,-378558),n=this.md5_hh(n,r,i,a,e[o+8],11,-2022574463),a=this.md5_hh(a,n,r,i,e[o+11],16,1839030562),i=this.md5_hh(i,a,n,r,e[o+14],23,-35309556),r=this.md5_hh(r,i,a,n,e[o+1],4,-1530992060),n=this.md5_hh(n,r,i,a,e[o+4],11,1272893353),a=this.md5_hh(a,n,r,i,e[o+7],16,-155497632),i=this.md5_hh(i,a,n,r,e[o+10],23,-1094730640),r=this.md5_hh(r,i,a,n,e[o+13],4,681279174),n=this.md5_hh(n,r,i,a,e[o+0],11,-358537222),a=this.md5_hh(a,n,r,i,e[o+3],16,-722521979),i=this.md5_hh(i,a,n,r,e[o+6],23,76029189),r=this.md5_hh(r,i,a,n,e[o+9],4,-640364487),n=this.md5_hh(n,r,i,a,e[o+12],11,-421815835),a=this.md5_hh(a,n,r,i,e[o+15],16,530742520),i=this.md5_hh(i,a,n,r,e[o+2],23,-995338651),r=this.md5_ii(r,i,a,n,e[o+0],6,-198630844),n=this.md5_ii(n,r,i,a,e[o+7],10,1126891415),a=this.md5_ii(a,n,r,i,e[o+14],15,-1416354905),i=this.md5_ii(i,a,n,r,e[o+5],21,-57434055),r=this.md5_ii(r,i,a,n,e[o+12],6,1700485571),n=this.md5_ii(n,r,i,a,e[o+3],10,-1894986606),a=this.md5_ii(a,n,r,i,e[o+10],15,-1051523),i=this.md5_ii(i,a,n,r,e[o+1],21,-2054922799),r=this.md5_ii(r,i,a,n,e[o+8],6,1873313359),n=this.md5_ii(n,r,i,a,e[o+15],10,-30611744),a=this.md5_ii(a,n,r,i,e[o+6],15,-1560198380),i=this.md5_ii(i,a,n,r,e[o+13],21,1309151649),r=this.md5_ii(r,i,a,n,e[o+4],6,-145523070),n=this.md5_ii(n,r,i,a,e[o+11],10,-1120210379),a=this.md5_ii(a,n,r,i,e[o+2],15,718787259),i=this.md5_ii(i,a,n,r,e[o+9],21,-343485551),r=this.safe_add(r,s),i=this.safe_add(i,d),a=this.safe_add(a,l),n=this.safe_add(n,c)}return Array(r,i,a,n)},md5_cmn:function(e,t,r,i,a,n){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(i,n)),a),r)},md5_ff:function(e,t,r,i,a,n,o){return this.md5_cmn(t&r|~t&i,e,t,a,n,o)},md5_gg:function(e,t,r,i,a,n,o){return this.md5_cmn(t&i|r&~i,e,t,a,n,o)},md5_hh:function(e,t,r,i,a,n,o){return this.md5_cmn(t^r^i,e,t,a,n,o)},md5_ii:function(e,t,r,i,a,n,o){return this.md5_cmn(r^(t|~i),e,t,a,n,o)},safe_add:function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},bit_rol:function(e,t){return e<<t|e>>>32-t},str2binl:function(e){for(var t=Array(),r=(1<<this.chrsz)-1,i=0;i<e.length*this.chrsz;i+=this.chrsz)t[i>>5]|=(e.charCodeAt(i/this.chrsz)&r)<<i%32;return t},binl2hex:function(e){for(var t="0123456789abcdef",r="",i=0;i<4*e.length;i++)r+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return r}},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,i,a,n,o,s,d="",l=0;for(e=this._utf8_encode(e);l<e.length;)a=(t=e.charCodeAt(l++))>>2,n=(3&t)<<4|(r=e.charCodeAt(l++))>>4,o=(15&r)<<2|(i=e.charCodeAt(l++))>>6,s=63&i,isNaN(r)?o=s=64:isNaN(i)&&(s=64),d=d+this._keyStr.charAt(a)+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return d},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t+=String.fromCharCode(i):(127<i&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(63&i|128))}return t}}},getFingerprint=function(){try{return"v001"+fingerprint.util.Base64.encode(JSON.stringify({a:fingerprint.webview.getAppFingerprint(),b:fingerprint.util.getCookie("shshshfpa"),c:fingerprint.util.getFpb("shshshfpb"),d:fingerprint.broswer.getNavigatorPlatform(),g:fingerprint.broswer.getHeadless(),h:"",i:fingerprint.config.api.canvas_spendtime,l:fingerprint.broswer.getUserAgent(),m:fingerprint.util.getCookie("pin")||fingerprint.util.getCookie("pt_pin"),n:fingerprint.broswer.getPluginName(),o:fingerprint.broswer.getPluginNum(),q:fingerprint.broswer.getTimeZone(),r:fingerprint.broswer.getHasLiedLanguages(),s:fingerprint.broswer.getHasLiedResolution(),t:fingerprint.broswer.getHasLiedOs(),u:fingerprint.broswer.getHasLiedBrowser(),v:fingerprint.broswer.getResolution(),p_wrr:Number(!!navigator.webdriver),p_pl:navigator.plugins.length,p_ln:navigator.languages&&navigator.languages.length,p_oh:window.outerHeight,p_ow:window.outerWidth,p_el:eval.toString().length,p_avn:navigator.appVersion,p_ced:Number(navigator.cookieEnabled),p_hba:Number(navigator.userActivation&&navigator.userActivation.hasBeenActive),p_iae:Number(navigator.userActivation&&navigator.userActivation.isActive),p_vdr:navigator.vendor,p_mtp:navigator.maxTouchPoints,p_hcy:navigator.hardwareConcurrency,p_ne:fingerprint.util.isBrowser(),ar:fingerprint.util.getArchitecture(),vc:fingerprint.util.getVideoCard(),ba_st:Number(Boolean(sessionStorage.getItem("fingerCharging")||"")),ba_le:parseInt(sessionStorage.getItem("fingerLevel"),10)||""}))}catch(e){return"error :"+e}},fingerprint.webview.getAppFingerprint(),fingerprint.util.getBattery(),window.getFingerprint=getFingerprint}catch(e){getFingerprint=function(){return"error :"+e}}var __serect__key__="__serect__key__",fingerprintScriptTime=new Date-ScriptStartTime,JA={},lr={expandParams:{}},spKeys={account:1,adsCookieName:1,anchorToUri:1,anchorpvflag:1,autoLogPv:1,autoLogExp:1,sendByBatch:1,sendByClient:1,useV2:1,sendByBeacon:1,enableStayDuration:1,expConfig:1,expThreshold:1,expSecurity:1,extParams:1,orderid:1,pageType:1,shopid:1,siteId:1,skuid:1,topic:1,stdParam:1},innerKeys={ads:1,aid:1,app_device:1,appv:1,debugId:1,debugReportDomain:1,debugStd:1,expandParams:1,install_id:1,mode_tag:1,oaid:1,osv_int:1,preSeqnum:1,preSession:1,pre_app:1,roudid:1,rpd:1,uid:1,wxAppAppid:1,wxAppAppkey:1,wxAppSiteId:1,wxAppUuid:1},reservedKeys={adk:1,ads:1,aid:1,app_device:1,apv:1,biz:1,browser:1,browser_ver:1,bsc:1,bsl:1,chan_type:1,chf:1,cli:1,clr:1,cls:1,clt:1,ctm:1,ctp:1,dataver:1,debugId:1,event_id:1,event_level:1,event_param:1,ext:1,flv:1,fpftime:1,fpstime:1,fst:1,hash:1,install_id:1,is_wq:1,jav:1,jdv:1,jvr:1,ldt:1,lgt:1,lgv:1,lts:1,mba_finger:1,mba_muid:1,mba_seq:1,mba_sid:1,mjdcl:1,mjds:1,mode_tag:1,mta_data:1,oaid:1,ofl:1,ord:1,originStd:1,osp:1,osv:1,osv_int:1,pap:1,par:1,pgt:1,pid:1,pin:1,pin_sid:1,prod_id:1,proj_id:1,psn:1,psq:1,pst:1,pv_seq:1,pv_sid:1,ref:1,ref_cls:1,report_ts:1,reserved3:1,roudid:1,rpd:1,rpr:1,sch:1,scr:1,scw:1,seq:1,sfj:1,shp:1,sku:1,std:1,tad:1,tar:1,tit:1,token:1,tpc:1,typ:1,ucp:1,uid:1,umd:1,unpl:1,usc:1,ut:1,utr:1,uuid:1,vct:1,vts:1,wjfrom:1,wjopenid:1,wjunionid:1,wjwxpubid:1,wxapp_appid:1,wxapp_appkey:1,wxapp_siteid:1,wxapp_uuid:1,x:1,y:1,ma_refer:1},v2CustomKeysWhiteList={page_id:1,event_id:1,service_id:1,sku_tag:1,floor_pos:1,touchstone_expids:1,mtest:1,source_id:1,floor_id:1,pos:1,index:1,page:1,tab_id:1,bi:1,tag:1,rec_broker:1,broker_info:1,addr_type:1,addr_encryption:1,order_type:1,order_status:1,event_duration:1,order_ts:1,sku_id:1,group_sku_id:1,order_id:1,store_id:1,shop_id:1,babel_aid:1,babel_sgid:1,babel_agid:1,babel_adid:1,babel_fno:1,liveroom_id:1,content_id:1,rank_id:1,author_id:1,batch_id:1,coupon_id:1,role_id:1,search_keyword:1,search_type:1,search_suggest_keyword:1,source_sku_id:1,search_pv_id:1,search_log_id:1,category_id:1,vender_id:1,rec_source_type:1,request_id:1,extension_id:1,rec_title_id:1,rec_matrt:1,rec_subrt:1,channel_id:1,inventory_status:1,jump_url:1,main_sku_id:1,sku_height:1,feeds_type:1,title_line:1,pic_url:1,filter:1,theme_id:1,theme_name:1,plus_id_status:1,plus_type:1,pd_id:1,module_id:1,smartkey:1,auction_id:1,first_price:1,second_price:1,third_price:1,card_tag:1};if("object"==typeof jap)for(var i in jap.noConflict&&(jap.noConflict=JA),jap)jap.hasOwnProperty(i)&&(innerKeys[i]||(lr[i]=jap[i]),spKeys[i]||(lr.expandParams[i]=isObject(jap[i])?JSON.stringify(jap[i]):String(jap[i])));if("undefined"!=typeof jaq&&jaq instanceof Array)for(var i=0;i<jaq.length;i++)"account"===jaq[i][0]&&(lr.siteId=jaq[i][1]);lr.getCommonDataF=[],lr.updateCookieF=[],lr.initBF=[],lr.initAF=[],lr.getPrivateDataF=[],lr.clickCBF=[],lr.logOldF=[],lr.data_version="0.1",lr.refCls="",lr.tags={},lr.ma_route_ready="0",lr.__debugId__ck="__debugId__",lr.stdParamStorageKey="zwx-stream-stdparam-",lr.batchDataStorageKey="zwx-stream-batch-data";var ckDebugId=getCookie(lr.__debugId__ck),__debugId__=getParameter("__debugId__")||ckDebugId;function isSpider(){var e=navigator.userAgent;return/Googlebot|Feedfetcher-Google|Mediapartners-Google|Adsbot-Google|Sogou\s{1}web\s{1}spider|Sogou\s{1}inst\s{1}spider|Sogou\s{1}inst\s{1}spider\/4\.0|HaoSouSpider|360Spider|Baiduspider|bingbot|qihoobot|YoudaoBot|Sosospider|Sogou\s{1}web\s{1}spider|iaskspider|msnbot|Yahoo!\s{1}Slurp|Yahoo!\s{1}Slurp\s{1}China|yisouspider|msnbot|YandexBot/.test(e)}function isJdApp(){var e=navigator.userAgent||"";return/(^|;)jdapp(?:mvp)?;/.test(e)&&!isJdappHarmony()}function isJdltApp(){var e=navigator.userAgent||"";return/(^|;)jdltapp;/.test(e)}function isJdLog(){return-1<(navigator.userAgent||"").indexOf(";jdlog;")}function isEmbedded(){var e=navigator.userAgent||"";return/^(jdapp|jdltapp|jdpingou|jdmini|yhdapp|jdhapp);/.test(e)||isJdLog()}function isJdappHarmony(){var e=(navigator.userAgent||"").split(";");return"jdapp"===e[0]&&"harmony"===e[1]}function is7FreshHarmony(){var e=(navigator.userAgent||"").split(";");return"7freshharmony"===e[0]&&"harmony"===e[2]}function isHarmony(){return/OpenHarmony/.test(navigator.userAgent||"")}function getSeparatedUrl(e){var t=e.split("#"),r=t[0].split("?");if(lr&&lr.anchorToUri&&t[1]){var i=t[1].split("?"),a=(e=r[0].replace(/\/$/,""),i[0].replace(/^\//,""));r[0]=e+"/"+a,i[1]&&(r[1]=r[1]?r[1]+"&"+i[1]:i[1])}return r}function genHash(e){var t,r=1,i=0;if(e)for(r=0,t=e.length-1;0<=t;t--)r=0!==(i=266338304&(r=(r<<6&268435455)+(i=e.charCodeAt(t))+(i<<14)))?r^i>>21:r;return r}function joinArrayBySeparator(e,t){if(t||(t="|||"),e instanceof Array){var r,i,a="";for(r=0,i=e.length;r<i;r++)a+=e[r]+(r===i-1?"":t);return a}return e}function setCookie(e,t,r,i){if(e){var a="";if(i){var n=new Date;n.setTime(n.getTime()+i),a=";expires="+n.toGMTString()}document.cookie=e+"="+t+a+";path=/;domain="+r+";"}}function getCookie(e,t){var r=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==r?t?r[2]:urlDecode(r[2]):""}function flashChecker(){var e,t="";return navigator.plugins&&0<navigator.plugins.length&&(e=navigator.plugins["Shockwave Flash"])&&(t=e.description.split(" "))&&4<=t.length&&(t=t[2]+" "+t[3]),t}function getSkuid(){var e;return"undefined"!=typeof pageConfig&&(e=pageConfig.product?pageConfig.product.skuid:0),e||""}function getShopid(){var e;return"undefined"!=typeof pageConfig&&(e=pageConfig.product?pageConfig.product.shopId:0),e||""}function getOrderid(){return("undefined"!=typeof SucInfo_OrderId?SucInfo_OrderId:getParameter("suc_orderid"))||""}function genUuid(){return(new Date).getTime()+""+parseInt(2147483647*Math.random())}function getMaLogId(){return lr.uuid+"-"+(new Date).getTime()+"-"+Math.floor(2147483647*Math.random())}function getCurTime(){return(new Date).valueOf()+""}function getBrowserInfo(){var e,t,r,i={name:"other",version:"0"},a=navigator.userAgent.toLowerCase();for(t=[["JDAPP",/jdapp;/],["jdltapp",/jdltapp;/],["jdpingou",/jdpingou;/],["jdmini",/jdmini;/],["yhdapp",/yhdapp;/],["jdhapp",/jdhapp;/],["WeiXin",/micromessenger\/([^\s]+)/],["QQ",/qq\/([^\s]+)/],["QQBrowser",/(?:qqbrowser|qqlivebrowser)\/([^\s]+)/],["QQBrowser",/MQBHD\/([\d.]+)/i],["QIHU",/qihu|360se/],["LieBao",/(?:lbbrowser|liebaofast)\/?([\d\.]+)?/],["Sogou",/(?:metasr|sogou[\w]*)[ \/]([\d\.]+)/],["Opera",/(?:opera|opr|oupeng)\/([\d\.]+)/],["BaiduBrowser",/(?:bidubrowser|baidubrowser)[\/ ]?([\d\.\w]+)/],["BaiduBox",/baiduboxapp|baiduboxpad/],["UC",/(?:ucweb|ucbrowser)\/?([\d\.]+)/],["Quark",/Quark\/([\d\.]+)/i],["HuaweiBrowser",/HuaweiBrowser\/([\d\.]+)/i],["Maxthon",/maxthon\/([\d\.]+)/],["Samsung",/samsungbrowser\/([\d\.]+)/],["Dolphin",/aphone|apad/],["2345",/2345/],["Miui",/miuibrowser\/([\d\.]+)/],["OppoBrowser",/oppobrowser\/([\d\.]+)/],["MeiZu",/mz-/],["Weibo",/weibo/],["Youku",/youku/],["NewsApp",/newsapp/],["AliApp",/aliapp/],["Edge",/edge\/([\d.]+)/],["Edge",/EdgiOS\/([\d.]+)/i],["Firefox",/firefox\/([\d\.\w]+)/],["Firefox",/FxiOS\/([\d\.]+)/i],["Chrome",/chrome\/([\d\.]+)/],["Chrome",/CriOS\/([\d.]+)/i],["IE",/msie[ ](\d+\.\d+)/],["Safari",/version\/((\d+)([.\d]+))\ssafari/],["Safari",/version\/([\d.]+) mobile\/([\w]+) safari\/([\d.]+)/i]],e=0;e<t.length;e++)if(r=a.match(t[e][1])){i.name=t[e][0],i.version=r[1]||"0";break}return i}function getCommonData(e){var t,r={},i=e.logType;for(r.pin_sid=getParameter("sid")||lr.sid||"",r.report_ts=getCurTime(),r.scr=lr.resolution,r.token=lr.hex_md5(r.report_ts+lr.md5Key),r.ut="s",r.clt="web",r.jvr="3.1.15",r.std=lr.siteId,r.tpc=(e.topic||lr.topic)+"."+(i===lr.logType.pv?"pv":i===lr.logType.cl?"cl":"ot"),r.uuid=lr.uuid,lr.stdParam&&"{}"!==JSON.stringify(lr.stdParam)&&(r.std_param=lr.stdParam),t=0;t<lr.getCommonDataF.length;t++)lr.getCommonDataF[t](e,r);return r}function getJdv(){var e=getCookie(lr.ckJdv||"__jdv",1),t=genHash(lr.ckDomain),r="direct",i="none",a="-",n="-",o=(new Date).getTime();return e&&e.indexOf("|")<0&&(e=urlDecode(e)),6==(e=e.split("|")).length?(t=e[0],r=e[1],a=e[2],i=e[3],n=e[4],o=e[5]):isEmbedded()&&(t=lr.hashDomain||t,r=lr.utm_source||"direct",a=lr.utm_campaign||"-",i=lr.utm_medium||"none",n=lr.utm_term||"-",o=lr.jdv_updateTime||o),{jdv:e=[t,r,a,i,n,o].join("|"),hash:t,source:r,campaign:a,medium:i,term:n,time:o}}function setJdv(e,t,r){var i="";i=isPrey(10)&&(!e||400<e.length)?t+"|direct|-|none|-|"+(new Date).getTime():e;var a=r||isEmbedded()?lr.ckJdvEmbeddedExp:lr.ckJdvExp;setCookie(lr.ckJdv||"__jdv",i,lr.ckDomain,a)}function isWX(){return!!(0<=",wq.jd.com,wqs.jd.com,wqitem.jd.com,wqcoss.jd.com,wqsou.jd.com,wqdeal1.jd.com,wqdeal2.jd.com,wqsitem.jd.com,wqitem.jd.hk,wqitem.jdworldwide.com,".indexOf(","+window.location.host+","))||!!getParameter("debugIsWQ")}function isWxapp(){var e=navigator.userAgent.toLowerCase();return/miniprogram/gi.test(e)||"miniprogram"===window.__wxjs_environment}function hasTransmitFunc(){return!(!window.JDMAUnifyBridge||!window.JDMAUnifyBridge.JDMAGetMPageParam)||(!!window.JDMAGetMPageParam||!!(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.JDMASetMPageParam))}function getPageParamFromSdk(){var t,r;try{window.JDMAUnifyBridge&&window.JDMAUnifyBridge.JDMAGetMPageParam?r=JDMAUnifyBridge.JDMAGetMPageParam():window.JDMAGetMPageParam?r=JDMAGetMPageParam():window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.JDMASetMPageParam&&(r=window.prompt("JDMAGetMPageParam","")),r&&(t=JSON.parse(r))}catch(e){}return t}function setPageParamForSdk(e){window.JDMAUnifyBridge&&window.JDMAUnifyBridge.JDMASetMPageParam?JDMAUnifyBridge.JDMASetMPageParam(e):window.JDMASetMPageParam?JDMASetMPageParam(e):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.JDMASetMPageParam&&window.webkit.messageHandlers.JDMASetMPageParam.postMessage(e)}function setSessionToSDK(e,t){if(e||0!==e.length){var r={pv_sid:e[0],pv_seq:e[1],ref:encodeURIComponent(lr.curUrl),ma_pg_refer:encodeURIComponent(t)};if(lr.useH5Jdv){var i=getJdv().jdv;r.jdv=i}setH5DataToClient(r)}}function useClientBridgeRouteMethod(t,r){if(t){var i={};t.serialize&&(i.serialize=t.serialize),t.param&&(i.routerParam=t.param),r&&(i.callBackName=r);try{isHarmony()&&window.XWebView&&window.XWebView.callNative?window.XWebView.callNative("jdmaWebPlugin",t.harmonyMethod,JSON.stringify(t.param),r,""):window.JDAppUnite&&window.JDAppUnite.callRouterModuleWithParams?(i.routerURL=t.androidURL,window.JDAppUnite.callRouterModuleWithParams(JSON.stringify(i))):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.JDAppUnite&&(i.routerURL=t.iosRouter,window.webkit.messageHandlers.JDAppUnite.postMessage({method:"callRouterModuleWithParams",params:JSON.stringify(i)}))}catch(e){}}}function setH5DataToClient(e){e&&useClientBridgeRouteMethod({androidURL:"router://com.jingdong.jdsdk.mta.JDMtaUtils/setSessionFromH5",iosRouter:"router://JDPVModule/updateSidWithSeq",param:e})}function requestH5DataByClient(e,t){e&&useClientBridgeRouteMethod({androidURL:"router://com.jingdong.jdsdk.mta.JDMtaUtils/sendH5Data",iosRouter:"router://JDMTAInterfaceModule/sendH5Data",harmonyMethod:"sendH5data",param:e},t)}function getSessionFromClient(e){useClientBridgeRouteMethod({serialize:"1",androidURL:"router://com.jingdong.jdsdk.mta.JDMtaUtils/getSessionToH5",iosRouter:"router://JDPVModule/asyncFetchPVsidseq"},e)}function getFlowMapParamFromClient(e){useClientBridgeRouteMethod({serialize:"1",androidURL:"router://com.jingdong.jdsdk.mta.JDMtaUtils/getFlowMapDataForH5",iosRouter:"router://JDMTADataMapInterface/getFlowMapDataForH5"},e)}function initRouteMaRefer(e){e&&(e.ma_pg_refer&&(lr.maPgRefer=e.ma_pg_refer),e.ma_et_refer&&(lr.maEtRefer=e.ma_et_refer))}function initBlackList(e){if(e&&e.h5_black_list){for(var t=e.h5_black_list.split(";"),r={},i=0;i<t.length;i++){var a=t[i].split(":");r[a[0]]=a[1].split(",")}r.cl&&(lr.blackListCl=r.cl||[]),r.ep&&(lr.blackListEp=r.ep||[])}}function initTag(e){e&&e.ma_tag&&(lr.ma_tag=e.ma_tag)}lr.__debugId__=/^DBG\d+/.test(__debugId__)?__debugId__:null,lr.__uranus_debug__=getParameter("__uranus_debug__"),lr.__debugIdReportPath__="/debuglog/m",lr.__debugIdReportPath_V2__="/debuglog/m/v4",lr.h5DebugDomain="luna.jd.com",lr.sendByClient=!1,lr.useV2=lr.useV2||!1,lr.sendByJDAppMinVersion="12.2.4",lr.sendByBatch=lr.sendByBatch||!1,lr.sendByBeacon=lr.sendByBeacon||!1,lr.useH5Jdv=!1,window.MPingSendH5ByClientTest=function(t){try{t&&(t=JSON.parse(t),lr.sendByClient=t&&"0"===t.status&&"1"===t.data)}catch(e){}},window.MPingSidSeq=function(t){try{t&&(t=JSON.parse(t))&&"0"===t.status&&t.data&&(mtaSessionData=t.data,lr.ma_route_ready="1",lr.sendByBatch||initBatch(mtaSessionData),initRouteMaRefer(mtaSessionData),initBlackList(mtaSessionData),initTag(mtaSessionData))}catch(e){}};var urlEncode=encodeURIComponent,osInfo=function(e){e=e||navigator.userAgent;for(var t={os:"other",ver:""},r=[["harmonyos",/HarmonyOS;/],["harmony",/OpenHarmony/],["android",/Android;?[\s\/]+([\d.]+)?/],["android",/jdapp;android;[\d.]+;([\d.]+);/],["android",/[aA]ndroid;/],["ipad",/iPad;.*?OS\s([\d_]+)/],["ipod",/iPod(?:\stouch)?;.*?\sOS\s([\d_]+)?/],["iphone",/CPU\siPhone\s(?:OS\s)?([\d_]+)/],["windows",/Windows NT/],["mac",/Macintosh;.*?Mac OS X\s([\d._]+)/],["windows phone",/Windows Phone\s([\d.]+)?/],["symbianos",/SymbianOS\/([\d.]+)?/],["bb",/BlackBerry|BB10|RIM Tablet OS\s([\d.]+)?/],["linux",/linux/i]],i=0;i<r.length;i++){var a=r[i],n=e.match(a[1]);if(n){t.os=a[0],"mac"===t.os&&(t.os=1<navigator.maxTouchPoints?"ipad":t.os),t.ver=(n[1]||"").replace(/_/g,".");break}}return t}(),is_wq=getUrlParam("is_wq")||lr.is_wq||0,channelType=function(){var e=navigator.userAgent.toLowerCase(),t="mobile",r={weixin:/micromessenger/gi,qq:/qq\/([\d\.]+)*/gi,jdapp:/jdapp/gi,skapp:/skapp/gi,jdpingou:/jdpingou/gi,jdjr:/jdjr/gi,jdltapp:/jdltapp/gi};for(var i in r)if(r[i].test(e)){t=i;break}if("weixin"!=t&&"qq"!=t&&"mobile"!=t)return t;var a="jdm"==getUrlParam("_fd")&&"m.jingxi.com"==location.host&&-1<["/item/view","/item/jxview","/item/adview","/shopv2/jxpage"].indexOf(location.pathname);(2==getUrlParam("sceneval")||"shop.m.jd.com"==location.hostname||"coupon.m.jd.com"==location.hostname||"s.m.jd.com"==location.hostname||"so.m.jd.com"==location.hostname||"p.m.jd.com"==location.hostname||"home.m.jd.com"==location.hostname||"item.m.jd.com"==location.hostname||"m.yiyaojd.com"==location.hostname||"mitem.jd.hk"==location.hostname||a)&&(t="jdmobile");var n=location.hostname+location.pathname||"";if(n&&-1!==n.indexOf("wqs.jd.com/dataproduct"))return"gx";var o=getCookie("source")||"";if(/^3_[0-9]+$/.test(o))return"kpl";if(23==getCookie("cid")||"")return"kuaishou";var s=getCookie("wxapp_type"),d=getUrlParam("wxappver");return isWxapp()||s||d?"xcx":t}(),chanType={weixin:1,qq:2,mobile:3,jdpingou:4,xcx:5,jdapp:6,jdmobile:7,jdjr:9,kpl:10,skapp:11,jdltapp:16,gx:22,kuaishou:23}[channelType]||3,mtaData=function(t){try{return t.MtaData&&t.MtaData.getMtaData&&t.MtaData.getMtaData()||t.jdmataData||t.jdWebViewMtaData||""}catch(e){return""}}(window),mtaSessionData=null;function isPrey(e){if(100<=e)return!0;var t=lr.uuid,r=t.substr(t.length-2);return!!r&&1*r<e}function isRealClickEvent(e){return e&&!/expo|virtual|pvfinish|depth/i.test(e)}function isElement(e){return e&&1===e.nodeType}function isObject(e){return"[object Object]"==={}.toString.call(e)}function isJson(t){if("string"==typeof t)try{var r=JSON.parse(t);return!("object"!=typeof r||!r)}catch(e){return!1}return!1}function isNumber(e){return"[object Number]"==Object.prototype.toString.call(e)&&/[\d\.]+/.test(String(e))}function isString(e){return"[object String]"==Object.prototype.toString.call(e)}function isFunction(e){if(!e)return!1;var t=Object.prototype.toString.call(e);return"[object Function]"==t||"[object AsyncFunction]"==t}function isArray(e){return Array.isArray&&isFunction(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function each(e,t,r){if(null==e)return!1;if(e.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t,r);else if(isArray(e))for(var i=0,a=e.length;i<a;i++)t.call(r,e[i],i,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(r,e[n],n,e)}function extend(r){return r=r||{},each(Array.prototype.slice.call(arguments,1),function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}),r}function bindReady(e,t){return"complete"===document.readyState?e():t&&"interactive"===document.readyState?e():void(document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e()}))}function bindVisibleChange(e,t){document.addEventListener("visibilitychange",function(){("visible"===document.visibilityState&&"visible"===t||"visible"!==document.visibilityState&&"hidden"===t)&&isFunction(e)&&e()})}function urlDecode(t){try{return decodeURIComponent(t)}catch(e){return t}}function getStorage(t,r){try{var i="session"===r?window.sessionStorage:window.localStorage;if(window.Storage&&i&&i instanceof Storage)return JSON.parse(i.getItem(t))}catch(e){}}function setStorage(t,r,i){try{var a="session"===i?window.sessionStorage:window.localStorage;window.Storage&&a&&a instanceof Storage&&a.setItem(t,JSON.stringify(r))}catch(e){}}function removeStorage(e,t){var r="session"===t?window.sessionStorage:window.localStorage;window.Storage&&r&&r instanceof Storage&&r.removeItem(e)}function versionCompare(e,t){for(var r=(e||"").split("."),i=(t||"").split("."),a=Math.max(r.length,i.length),n=0,o=0;o<a;o++){var s=r.length>o?r[o]:0,d=isNaN(Number(s))?s.charCodeAt():Number(s),l=i.length>o?i[o]:0,c=isNaN(Number(l))?l.charCodeAt():Number(l);if(d<c){n=-1;break}if(c<d){n=1;break}}return n}function getParameter(e,t){var r=t||document.location.href,i=new RegExp("(?:^|&|[?]|[/])"+e+"=([^&#]*)").exec(r);return i?urlDecode(i[1]):null}function getUrlParam(e,t){t===undefined&&(t=window.location.href);var r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=t.substr(t.indexOf("?")+1).match(r);return null!=i?i[2]:""}function toCamelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function llog(e,t){var r=document.createElement("div");r.style.wordBreak="break-all",r.innerText=t+"="+(isObject(e)?JSON.stringify(e):e),document.body.insertBefore(r,document.body.childNodes[0])}var utils={isElement:isElement,isObject:isObject,isJson:isJson,isString:isString,isFunction:isFunction,isArray:isArray,each:each,extend:extend,bindReady:bindReady,bindVisibleChange:bindVisibleChange,urlDecode:urlDecode,getStorage:getStorage,setStorage:setStorage,removeStorage:removeStorage,versionCompare:versionCompare,getParameter:getParameter,getUrlParam:getUrlParam,toCamelCase:toCamelCase,llog:llog};function getWxappInfo(){if(isWxapp()){var t=getCookie(lr.ckWxAppCk);if(t){var r=t.split(".");2<=r.length&&(lr.wxAppUuid=r[0],lr.wxAppSiteId=r[1],lr.wxAppAppid=r[2],lr.wxAppAppkey=r[3],lr.wxAppAppUnionid=r[4])}var i=getUrlParam(lr.ckWxUnionid)||window.sessionStorage.getItem(lr.ckWxUnionid);if(i)try{lr.wxAppAppUnionid=atob?atob(urlDecode(i.split("-")[0])):"",setCookie(lr.ckWxAppCk,[lr.wxAppUuid,lr.wxAppSiteId,lr.wxAppAppid,lr.wxAppAppkey,lr.wxAppAppUnionid].join("."),lr.ckDomain,lr.ckWxAppCkExp)}catch(e){}var a=document.location.href,n="wxappSeries",o=a.indexOf(n+"=");if(-1<o&&o+n.length+1<a.length-1){var s=a.indexOf("&",o+n.length+1);if(-1===s||o<s)try{var d=urlDecode(a.substring(o+n.length+1,-1<s?s:a.length)),l=JSON.parse(d);l&&(lr.wxAppUuid=l.uuid,lr.wxAppSiteId=l.std,lr.wxAppAppid=l.appid,lr.wxAppAppkey=l.appkey,(lr.wxAppUuid||lr.wxAppSiteId)&&setCookie(lr.ckWxAppCk,[lr.wxAppUuid,lr.wxAppSiteId,lr.wxAppAppid,lr.wxAppAppkey,lr.wxAppAppUnionid].join("."),lr.ckDomain,lr.ckWxAppCkExp),(l.vts||l.seq)&&(lr.wxAppSidSeq=l.vts+"."+l.seq),l.debugId&&(lr.__debugId__=/^DBG\d+/.test(l.debugId)?l.debugId:null))}catch(e){}}}}function compare(e,t){var r=e.split("."),i=t.split("."),a=parseFloat(r[0]),n=parseFloat(r[1]),o=parseFloat(i[0]),s=parseFloat(i[1]);return o<a?e:a===o&&s<=n?e:t}function compareAndUpdateCookie(e,t){var r;r=compare(e,getCookieSidSeq()),lr._mbaSidSeq[0]=r.split(".")[0],lr._mbaSidSeq[1]=1*(r.split(".")[1]?r.split(".")[1]:0)+(t?1:0),lr._mbaMuidSeq[1]=lr._mbaSidSeq[0],lr._mbaMuidSeq[2]=(new Date).getTime(),setCookie(lr.ckmba_sid,encodeURI(lr._mbaSidSeq.join(".")),lr.ckDomain,lr.ckmba_sidExp),setCookie(lr.ckmba_muid,encodeURI(lr._mbaMuidSeq.join(".")),lr.ckDomain,lr.ckmba_muidExp)}function updateEMSid(e){var t=getSidSeqFromMetaData(),r=getSidSeqFromSdkRouter();compareAndUpdateCookie(r||t,e)}function getSidSeqFromSdkRouter(){var e;return mtaSessionData&&mtaSessionData.pv_sid&&mtaSessionData.pv_seq&&(e=[mtaSessionData.pv_sid,mtaSessionData.pv_seq].join(".")),e}function getSidSeqFromMetaData(){var e,t=/(?:^|;)pv\/(.+?)(?:;|$)/,r=(mtaData||navigator.userAgent).match(t);if(r){if(e=r[1],lr.EmbeddedUA){var i=lr.EmbeddedUA.match(t);i&&(e=compare(e,i[1]))}}else e="1.0";return e}function getCookieSidSeq(){var e;if(getCookie(lr.ckmba_sid))e=getCookie(lr.ckmba_sid);else{var t=getCookie(lr.ckmba_muid).split(".");if(3===t.length){var r=t[1];parseInt(t[2]);e=[r,0].join(".")}else e="1.0"}return e}function updateWxappSid(e){var t=(lr.wxAppSidSeq||"").split(".");2===t.length?(t[0]=parseInt(t[0]),t[1]=parseInt(t[1])):t=[1,0],compareAndUpdateCookie(t.join("."),e)}function updateMSid(e){isEmbedded()?updateEMSid(e):isWxapp()?updateWxappSid(e):(getCookie(lr.ckmba_sid)?(lr._mbaSidSeq=getCookie(lr.ckmba_sid).split("."),lr._mbaSidSeq[1]=1*(lr._mbaSidSeq[1]===undefined?1:lr._mbaSidSeq[1])+(e?1:0)):(lr._mbaSidSeq[0]=(new Date).getTime()+""+parseInt(1e16*Math.random()),lr._mbaSidSeq[1]=e?1:0),setCookie(lr.ckmba_muid,encodeURI(lr._mbaMuidSeq.join(".")),lr.ckDomain,lr.ckmba_muidExp),setCookie(lr.ckmba_sid,encodeURI(lr._mbaSidSeq.join(".")),lr.ckDomain,lr.ckmba_sidExp))}function updateMuid(){getCookie(lr.ckmba_muid)?lr._mbaMuidSeq[0]=getCookie(lr.ckmba_muid).split(".")[0]:lr._mbaMuidSeq[0]=lr.uuid+""}function getMSidSeq(){for(var e=(lr._mbaSidSeq||[]).slice(0),t=0;t<e.length;t++)e[t]=e[t]+"";return e}function getReservedCookies(e){for(var t=e||[lr.ckJda,lr.ckJdv,lr.ckJdb,lr.ckJdu,lr.ckJdb,"mu_subsite","mt_xid","unpl",lr.ckmba_muid,lr.ckmba_sid],r=[],i=0,a=t.length;i<a;i++)r.push(getCookie(t[i]));return r.join("_").replace(/\|/g,"_")}function getMuid(){return lr._mbaMuidSeq[0]}function updateMFLSeries(e){}function keysMap(e){var t={client:"cli",channel:"chf"};return t[e]?t[e]:e}function quickClick(e,t){var r=!0;return isWX()&&(r=!1),"undefined"==typeof window.ontouchstart||r?(e.addEventListener("click",function(e){t(e)},!1),!0):new QuickClick(e,t)}function QuickClick(e,t){this.opts={trackingClick:!1,trackingClickStart:0,targetElement:null,touchStartX:0,touchStartY:0,touchBoundary:10,tapDelay:200,tapTimeout:700,lastClickTime:0,touchPos:{},callback:t};for(var r=["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=0,a=r.length;i<a;i++)this[r[i]]=bind(this[r[i]],this);e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1)}function bind(e,t){return function(){return e.apply(t,arguments)}}lr.utils=utils,lr.getCommonDataF.push(function(e,t){var r,i={IOS_M:{UAname:"iPhone",value:"IOS-M",OsPlant:"IOS"},ANDROID_M:{UAname:"android",value:"ANDROID-M",OsPlant:"ANDROID"},IPAD_M:{UAname:"iPad",value:"iPad-M",OsPlant:"IPAD"},MICRO_M:{UAname:"MicroMessenger",value:"WEIXIN-M",OsPlant:"WEIXIN"},MM:{UAname:"MM",value:"M-M",OsPlant:"M"}},a=navigator.userAgent,n=[];for(r in isJdLog()?((n=a.split(";"))[2].toLowerCase()===i.IOS_M.UAname.toLowerCase()?(t.cli=i.IOS_M.value,t.os_plant_$v2=i.IOS_M.OsPlant):n[2].toLowerCase()===i.ANDROID_M.UAname.toLowerCase()?(t.cli=i.ANDROID_M.value,t.os_plant_$v2=i.ANDROID_M.OsPlant):n[2].toLowerCase()===i.IPAD_M.UAname.toLowerCase()&&(t.cli=i.IPAD_M.value,t.os_plant_$v2=i.IPAD_M.OsPlant),lr.appv=n[3],t.osv=n[4],t.uid=n[5]):isEmbedded()?((n=a.split(";"))[1].toLowerCase()===i.IOS_M.UAname.toLowerCase()?(t.cli=i.IOS_M.value,t.os_plant_$v2=i.IOS_M.OsPlant):n[1].toLowerCase()===i.ANDROID_M.UAname.toLowerCase()?(t.cli=i.ANDROID_M.value,t.os_plant_$v2=i.ANDROID_M.OsPlant):n[1].toLowerCase()===i.IPAD_M.UAname.toLowerCase()&&(t.cli=i.IPAD_M.value,t.os_plant_$v2=i.IPAD_M.OsPlant),lr.appv=n[2],t.osv=n[3],t.uid=n[4]):(t.cli=-1<a.indexOf(i.MICRO_M.UAname)?i.MICRO_M.value:i.MM.value,t.os_plant_$v2=-1<a.indexOf(i.MICRO_M.UAname)?i.MICRO_M.OsPlant:i.MM.OsPlant),lr.commonData)lr.commonData[r]&&"page_id"!==r&&"aid"!==r&&(t[r]=lr.commonData[r]);t.biz=lr.Biz,t.mba_muid=lr._mbaMuidSeq[0],t.mba_sid=lr._mbaSidSeq[0],t.proj_id="3",t.reserved3=lr._reserved3||(lr._reserved3=getReservedCookies()),t.osp=lr.os,t.osv=t.osv||lr.osv,lr.uid&&(t.uid=lr.uid)}),QuickClick.prototype.onTouchStart=function(e){var t,r=this.opts;return 1<e.targetTouches.length||(r.trackingClick=!0,r.trackingClickStart=e.timeStamp,r.targetElement=e.target,t=e.targetTouches[0],r.touchPos=t,r.touchStartX=t.pageX,r.touchStartY=t.pageY),!0},QuickClick.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],r=this.opts,i=r.touchBoundary;return Math.abs(t.pageX-r.touchStartX)>i||Math.abs(t.pageY-r.touchStartY)>i},QuickClick.prototype.onTouchMove=function(e){var t=this.opts;return t.trackingClick&&(t.targetElement!==e.target||this.touchHasMoved(e))&&(t.trackingClick=!1,t.targetElement=null),!0},QuickClick.prototype.onTouchEnd=function(e){var t=this.opts;return!t.trackingClick||(e.timeStamp-t.lastClickTime<t.tapDelay||(e.timeStamp-t.trackingClickStart>t.tapTimeout||(e.clientX=0|t.touchPos.clientX,e.clientY=0|t.touchPos.clientY,e.pageX=0|t.touchPos.pageX,e.pageY=0|t.touchPos.pageY,t.callback(e),t.lastClickTime=e.timeStamp,t.trackingClick=!1,t.trackingClickStart=0,!1)))},QuickClick.prototype.onTouchCancel=function(){this.opts.trackingClick=!1,this.opts.targetElement=null},lr.initBF.push(function(){lr.siteId=lr.siteId||"MO-J2011-1"}),lr.initBF.push(function(){getSessionFromClient("window.MPingSidSeq"),(isJdappHarmony()||is7FreshHarmony())&&(lr.sendByClient=!0)}),lr.initAF.push(function(){lr.ckmba_sid="mba_sid",lr.ckmba_muid="mba_muid",lr.ckmba_sidExp=18e5,lr.ckmba_muidExp=15552e6,lr._mbaMuidSeq=[],lr._mbaSidSeq=[],lr.eventSeries={},lr.ProjectId="3",lr.Biz="mba",lr.md5Key="5YT%aC89$22OI@pQ",lr.autoLogPv=lr.autoLogPv||!1,lr.autoLogExp=lr.autoLogExp||!1,lr.commonData={page_id:"",aid:"",cli:"",chf:""}}),function(){var e,t=window.screen,r=window.navigator;for(function(){var e="";if(document.currentScript)e=document.currentScript.src;else if(document.scripts){var t;for(t=0;t<document.scripts.length;t++)if("interactive"===document.scripts[t].readyState){e=document.scripts[t].src;break}}e.match("/wl.js")?JA.isWl=!0:e.match("/joya.js")?JA.isJoya=!0:e.match("/ja.js")?JA.isJa=!0:e.toLowerCase().match("/mping.min.js")&&(JA.isMping=!0)}(),e=0;e<lr.initBF.length;e++)lr.initBF[e]();lr.rpDomain=lr.rpDomain||"uranus.jd.com",lr.logUrl="//"+lr.rpDomain+"/log/m",lr.logType={pv:"1",pf:"2",cl:"3",od:"4",pd:"5",hm:"6",ep:"7",magic:"000001"},lr.eventType={pv:"pv",expo:"expo",click:"click",sys:"sys",order:"order"},lr.noConflict||(window.JA=JA),lr.useTmpCookie?(lr.ckJda="__tra",lr.ckJdb="__trb",lr.ckJdc="__trc",lr.ckJdu="__tru"):(lr.ckJda="__jda",lr.ckJdb="__jdb",lr.ckJdc="__jdc",lr.ckJdu="__jdu"),lr.ckJdv="__jdv",lr.ckWxAppCk="__jdwxapp",lr.ckWxUnionid="wx_sdk_uid",lr.ckRefCls="__jd_ref_cls",lr.ckJdaExp=15552e6,lr.ckJdbExp=18e5,lr.ckJduExp=15552e6,lr.ckJdvExp=1296e6,lr.ckJdvEmbeddedExp=864e5,lr.ckWxAppCkExp=15552e6,lr.mtSubsiteExp=31536e6,lr.skuId=lr.skuid||lr.skuId||getSkuid(),lr.shopId=lr.shopid||lr.shopId||getShopid(),lr.orderId=lr.orderid||lr.orderId||getOrderid(),lr.flash_ver=flashChecker(),lr.resolution=window.screen?window.screen.width+"x"+window.screen.height:"-",lr.color=t?t.colorDepth+"-bit":"",lr.language=(r&&(r.language||r.browserLanguage)||"").toLowerCase(),lr.javaEnabled=r&&r.javaEnabled()?1:0,lr.characterSet=document.characterSet||document.charset||"",lr.topic=lr.topic||"traffic-jdm",lr.pinId=getCookie("pinId")||getCookie("pinid")||"",lr.unpl=getCookie("unpl"),lr.mjds=getCookie("_mjds"),lr.mjdcl=getCookie("_mjdcl"),lr.sid=getCookie("sid"),lr.account&&"-"!==lr.account||(lr.pin?lr.account=lr.pin:JA.isMping?lr.account=getCookie("pwdt_id"):lr.account=getCookie("pin"),lr.account=lr.account||"-"),lr.ckDomain=(document.domain.match(/[^.]+\.(com.cn|net.cn|org.cn|gov.cn|edu.cn)$/)||[""])[0]||document.domain.replace(/.*?([^.]+\.[^.]+)$/,"$1"),lr.title=document.title,lr.refUrl=document.referrer,lr.maPgRefer=document.referrer,lr.curUrl=document.location.href,lr.browser=getBrowserInfo(),lr.os=osInfo.os,lr.osv=osInfo.ver,lr.jdpts="undefined"!=typeof jdpts?jdpts:{},lr.seo=["i.easou.com:q","m.baidu.com:word","m.sm.cn:q","m.so.com:q","wap.sogou.com:keyword","m.sogou.com:keyword","wap.sogo.com:keyword","m.sogo.com:keyword","page.roboo.com:q","ask.com:q","baidu:word","baidu:wd","bing:q","easou:q","google:q","roboo:word","roboo:q","sm.cn:q","so.com:q","sogou:keyword","sogou:query","sogo.com:keyword","sogo.com:query","yahoo:p","yandex:text","yicha:key"],lr.codeVer="0.1",lr.clickEvent="touchstart"in window?"touchstart":"click",lr.clickType={Clstag:1,Jtag:2},lr.adsCookieName&&(lr.ads=getCookie(lr.adsCookieName));for(e=0;e<lr.initAF.length;e++)lr.initAF[e]();lr.PPRD_PCCookieName=lr.PPRD_PCCookieName||"__jd_PPRD_P",lr.rvurlCookieName=lr.rvurlCookieName||"__jd_rvurl","object"==typeof lr.stdParam&&lr.stdParam||(lr.stdParam={});var i=getStorage(lr.stdParamStorageKey+lr.siteId)||{};lr.stdParam=extend(i,lr.stdParam),"{}"!==JSON.stringify(lr.stdParam)&&setStorage(lr.stdParamStorageKey+lr.siteId,lr.stdParam)}(),lr.updateCookieF.push(function(){getWxappInfo(),updateMuid(),updateMSid()}),function(){var e,t,r,i,a=(getCookie(lr.ckJda)||"").split("."),n=(getCookie(lr.ckJdb)||"").split("."),o=(getCookie(lr.ckJdv)||"").split("|"),s=getCookie(lr.ckJdc)||"",d=parseInt((new Date).getTime()/1e3),l=0,c=1,p="direct",u="-",g="none",m="-";if(3<a.length)for(var _=2;_<5&&_<a.length;_++){var f=a[_];10<f.length&&(a[_]=f.substr(0,10))}5<a.length?(r=a[0],i=a[1],e=parseInt(a[2],10),t=parseInt(a[3],10),d=parseInt(a[4],10),c=parseInt(a[5],10)||c):(i=genUuid(),t=e=d),lr.uuid=i,3<n.length&&(r||(r=n[0]),l=parseInt(n[1],10)||0),4<o.length&&(r||(r=o[0]),p=o[1],u=o[2],g=o[3],m=o[4]),s&&""!==s&&(r||(r=s)),lr.jdvChanged=!1;var v,h=[],w=n.length<4,y=getParameter("utm_source"),b=!1;if(y){var S=getParameter("utm_campaign"),k=getParameter("utm_medium"),x=getParameter("utm_term");h.push(y||p),h.push(S||u),h.push(k||g),h.push(x||m),m=h[3],b=!0}else{var C,P=lr.refUrl&&lr.refUrl.split("/")[2],A=!1;if(P&&P.indexOf(lr.ckDomain)<0){for(C=lr.seo,_=0;_<C.length;_++){var O=C[_].split(":");if(-1<P.indexOf(O[0].toLowerCase())&&-1<lr.refUrl.indexOf((O[1]+"=").toLowerCase())){var M=getParameter(O[1],lr.refUrl);/[^\x00-\xff]/.test(M)&&(M=encodeURIComponent(M)),h.push(O[0]),h.push("-"),h.push("organic"),h.push(M||"not set"),m=h[3],A=!0;break}}A||(-1<P.indexOf("zol.com.cn")?(h.push("zol.com.cn"),h.push("-"),h.push("cpc"),h.push("not set")):(h.push(P),h.push("-"),h.push("referral"),h.push("-")))}}v=0<h.length&&(h[0]!==p||h[1]!==u||h[2]!==g)&&"referral"!==h[2],lr.jdvChanged=b||v,w||!w&&v?(p=h[0]||p,u=h[1]||u,g=h[2]||g,m=h[3]||m,5<a.length?(e=parseInt(a[2],10),t=parseInt(a[4],10),d=parseInt((new Date).getTime()/1e3),c++,l=1):l=c=1):l++;var j=getPageParamFromSdk();if(j&&j.vts){var T=1*j.vts,D=1*j.seq;(c<T||T===c&&l<=D)&&(c=T,l=D+1)}if(r||(r=genHash(lr.ckDomain)),setCookie(lr.ckJda,[r,i,e,t,d,c||1].join("."),lr.ckDomain,lr.ckJdaExp),setCookie(lr.ckJdb,[r,l,i+"|"+c,d].join("."),lr.ckDomain,lr.ckJdbExp),b||v||o.length<5){var I=[r,p||"direct",u||"-",g||"none",m||"-",(new Date).getTime()].join("|");setJdv(I=urlEncode(I),r)}for(setCookie(lr.ckJdc,r,lr.ckDomain),lr.utm_source=p,lr.utm_campaign=u,lr.utm_medium=g,lr.utm_term=m,lr.sequenceNum=l,lr.firSesTime=e,lr.preSesTime=t,lr.curSesTime=d,lr.visitTimes=c,lr.hashDomain=r,_=0;_<lr.updateCookieF.length;_++)lr.updateCookieF[_]();lr.__debugId__&&setCookie(lr.__debugId__ck,lr.__debugId__,lr.ckDomain)}(),lr.getPrivateDataF.push(function(t,r){if(t.logType===lr.logType.od)r.mba_seq=String(lr._mbaSidSeq[1]),r.prod_id=String(t.prod_id),lr.appv&&(r.apv=lr.appv),lr.preSession&&(r.psn=lr.preSession),lr.preSeqnum&&(r.psq=lr.preSeqnum);else if(lr.appv&&(r.apv=lr.appv),t.logType===lr.logType.pv){r.mba_seq=String(lr._mbaSidSeq[1]);try{var i=new Date;r.mba_finger=String(getFingerprint()),r.fpstime=fingerprintScriptTime,r.fpftime=new Date-i}catch(e){}for(var a in lr.preSession&&(r.psn=lr.preSession),lr.preSeqnum&&(r.psq=lr.preSeqnum),lr.expandParams)r[reservedKeys[a]?a+"_ext":a]=lr.expandParams[a]}else t.logType===lr.logType.cl?(r.mba_seq=String(lr._mbaSidSeq[1]),r.event_id=t.event_id,t.event_param&&(r.event_param=t.event_param),lr.preSession&&(r.psn=lr.preSession),lr.preSeqnum&&(r.psq=lr.preSeqnum)):t.logType===lr.logType.hm||(t.logType===lr.logType.ep?(r.mba_seq=String(lr._mbaSidSeq[1]),r.event_id=t.event_id,lr.preSession&&(r.psn=lr.preSession),lr.preSeqnum&&(r.psq=lr.preSeqnum)):t.event_type_$v2===lr.eventType.sys&&(r.event_id=t.event_id,r.ma_multi_typ_$v2=r.typ+"_"+r.lts));if(lr.commonData.page_id&&(r.page_id=lr.commonData.page_id),isEmbedded()&&(r.pv_sid=String(lr._mbaSidSeq[0]),r.pv_seq=String(lr._mbaSidSeq[1]),mtaSessionData))try{mtaSessionData.ma_is_sparse&&(r.ma_is_sparse=mtaSessionData.ma_is_sparse),mtaSessionData.ma_b_group&&(r.ma_b_group=mtaSessionData.ma_b_group),mtaSessionData.ma_ab_test&&(r.ma_ab_test=mtaSessionData.ma_ab_test),mtaSessionData.extension_id&&t.logType===lr.logType.pv&&(r.extension_id=window.atob?window.atob(mtaSessionData.extension_id):mtaSessionData.extension_id),t.logType===lr.logType.pv&&(r.ma_refer=JSON.stringify({ma_pg_refer:lr.maPgRefer,ma_et_refer:lr.maEtRefer}))}catch(e){}});var firstFlushInterval=2e3,firstFlushIntervalRandom=1e3,flushInterval=1e3,flushIntervalRandom=100,flushBulkSize=10,timeHandle=null,x_spring_report_type={num:"numberOut",time:"timeOut",pageHide:"pageHide",visibleHide:"visibleHide"};function initBatch(e){e&&isObject(e)&&(lr.sendByBatch=e.h5_size&&1!=e.h5_size||e.h5_time&&1!=e.h5_time,flushBulkSize=Math.min(20,e.h5_size?+e.h5_size:flushBulkSize),flushInterval=e.h5_time?1e3*e.h5_time:flushInterval)}function forOwn(e,t){var r;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r)}function copy(e,r){forOwn(e,function(e,t){r[t]=e})}function merge(r){var i,e,a,t={};for(copy(r[0],t),i=0;i<r.length;++i)for(a=[],forOwn(t,function(e,t){e!==r[i][t]&&a.push(t)}),e=0;e<a.length;++e)delete t[a[e]];return forOwn(t,function(e,t){for(i=0;i<r.length;++i)delete r[i][t]}),t.data=r,t}function batchSend(t,r){try{if(t.length){removeStorage(lr.batchDataStorageKey);var i=merge(t);i.batch_report_type=r,i.report_ts=getCurTime(),i.send_ts_$v2=i.report_ts,i.token=lr.hex_md5(i.report_ts+lr.md5Key);var a=JSON.stringify(i),n="//uranus.jd.com/log/m/v3?std="+(i.std||i.site_id);if(r!==x_spring_report_type.pageHide&&r!==x_spring_report_type.visibleHide||!navigator.sendBeacon){var o=new XMLHttpRequest;o.open("POST",n,!0),o.timeout=5e3,o.send(a)}else navigator.sendBeacon(n,a)}}catch(e){}}function getStorageItems(){var e=getStorage(lr.batchDataStorageKey);if(e){var t,r=e.data;for(delete e.data,t=0;t<r.length;++t)copy(e,r[t]);return r}return[]}function timer(t){var r=firstFlushInterval+(firstFlushIntervalRandom*Math.random()<<0),i=flushInterval+(flushIntervalRandom*Math.random()<<0);timeHandle=setTimeout(function(){try{batchSend(getStorageItems(),x_spring_report_type.time),timer(!1)}catch(e){}},t?r:i)}function transformToV2(e,t){var r={};delete e.data,copy(e,r),copy(t,r),r.user_agent=navigator.userAgent,r.ma_is_h5=1;var i={uuid:"",send_ts:"",site_param:"",channel_info:"",os_plant:"",os_version:"",screen_resolution:""};return _doTransform(r,{std:"site_id",report_ts:"send_ts",chf:"channel_info",scr:"screen_resolution",browser_ver:"browser_version",browser:"browser_type",jvr:"sdk_version",interface_version_$v2:"interface_version_$v2",cli:"os_plant_$v2",std_param:"site_param",osv:"os_version",typ:"event_type_$v2",tit:"page_title",ctm:"device_ts",ref:"ref_page_path",rpd:"ref_page_id",rpr:"ref_page_param",chan_type:"env_type",prod_id:"sku_id",page_path_$v2:"page_path_$v2",url_full_$v2:"url_full_$v2",url_query_$v2:"url_query_$v2",url_hash_$v2:"url_hash_$v2",ma_multi_typ_$v2:"ma_multi_typ_$v2",usc:"utm_source",umd:"utm_medium",utr:"utm_term",ucp:"utm_campaign"}),_doTransform(r,{apv:"",par:"",ctp:"",uid:"",osp:""}),lr.sendByClient?(i.oaid="",i.channel_info="",i.source_type="",i.site_id="embed_site_id",i.sdk_version="embed_sdk_version",_doTransform(r,i)):r.embed_site_id=r.site_id,_removeTempV2Keys(r),r.data=[{}],r}function _doTransform(i,e){forOwn(e,function(e,t){if(/_\$v2$/.test(e)){var r=e.match(/(.+)_\$v2/)[1];i[r]=i[e]}else e&&(i[e]=i[t]);delete i[t]})}function _removeTempV2Keys(r){forOwn(r,function(e,t){/_\$v2$/.test(t)&&delete r[t]})}function removeV2Keys(r,i){forOwn(r,function(e,t){/_\$v2$/.test(t)&&delete r[t]}),forOwn(i,function(e,t){/_\$v2$/.test(t)&&delete i[t]})}function _handleCustomKeys(e,t){var r=e.request||{},i=t.event_type,a=[],n=!1;if("v2"===t.v2_source)n=!0,forOwn(r,function(e,t){("pv"===i&&"page_param"===t||"pv"!==i&&"json_param"===t||v2CustomKeysWhiteList[t])&&!isFunction(e)&&a.push(t)});else if("v1"===t.v2_source){n=!0;var o={},s=0;forOwn(r,function(e,t){isFunction(e)||"cmdParam"===t||(lr.v1tov2BlackListKeys[t]?(o[t]=e,s++):a.push(t))}),s&&(t.extend=JSON.stringify(o))}else forOwn(r,function(e,t){"cmdParam"===t||isFunction(e)||a.push(t)});forOwn(a,function(e){t[e]=r[e]?r[e]+"":""});n&&_doTransform(t,{sale_ord_id:"order_id"})}function transform2Plain(e,t){var r={};return delete e.report_ts,delete e.send_ts,delete e.token,delete e.data,copy(e,r),copy(t,r),r}function logByGet(t,r,i){var a="https:"+t+"&data="+encodeURIComponent(JSON.stringify(r)),n=new Image(1,1);n.onload=function(){if(n.onload=null,n=null,i&&"function"==typeof i.callback)try{i.callback()}catch(e){}},n.src=a}function logByPost(t,r,i,a){var n=null;if(lr.sendByClient||lr.useV2?((n=transformToV2(r,a)).v2_source=i.v2_source||"v1",_handleCustomKeys(i,n)):("v2"===i.v2_source&&(a.v2_source="v2tov1"),removeV2Keys(r,a),_handleCustomKeys(i,a)),lr.sendByClient)requestH5DataByClient({data:n});else if(!lr.sendByBatch||lr.__debugId__||lr.debugId)if(lr.sendByBeacon&&navigator.sendBeacon)navigator.sendBeacon(t,JSON.stringify(lr.useV2?n:r));else{var o=new window.XMLHttpRequest;o.open("POST","https:"+t,!0),o.setRequestHeader("Content-Type","text/plain"),o.timeout=1e4,o.send(JSON.stringify(lr.useV2?n:r))}else try{if(!timeHandle){timer(!0);var s="onpagehide"in window?"pagehide":"unload",d="onvisibilitychange"in document;function l(t){try{clearTimeout(timeHandle),timeHandle=null,window.removeEventListener(s,c),d&&document.removeEventListener("visibilitychange",p),batchSend(getStorageItems(),t)}catch(e){}}function c(){l(x_spring_report_type.pageHide)}function p(){"visible"!==document.visibilityState&&l(x_spring_report_type.visibleHide)}window.addEventListener(s,c),d&&document.addEventListener("visibilitychange",p)}var u=lr.useV2?n:transform2Plain(r,a),g=getStorageItems().concat(u);g.length>=flushBulkSize?batchSend(g,x_spring_report_type.num):setStorage(lr.batchDataStorageKey,merge(g))}catch(e){}if(i&&i.callback&&"function"==typeof i.callback)try{i.callback()}catch(e){}}function filterBlackList(e){var t=-1;return e.logType===lr.logType.cl&&isArray(lr.blackListCl)?t=lr.blackListCl.indexOf(e.event_id):e.logType===lr.logType.ep&&isArray(lr.blackListEp)&&(t=lr.blackListEp.indexOf(e.event_id)),-1!==t}function logCmd(t){if(t&&!isSpider()){if(isJdApp())if(filterBlackList(t))return;var r,i={ma_route_ready:lr.ma_route_ready,interface_version_$v2:"2"};t.logType===lr.logType.pv?(updateMSid(!0),i.ma_log_id=lr.ma_pv_log_id=getMaLogId(),lr.pv_report_ts=Date.now()):(i.ma_log_id=getMaLogId(),i.ma_pv_log_id=lr.ma_pv_log_id);var a=getCommonData(t);a.data=[],lr.anchorpvflag&&t.logType===lr.logType.pv&&lr.curUrl!==document.location.href&&(lr.refUrl=lr.curUrl,lr.curUrl=document.location.href);var n,o=getSeparatedUrl(lr.refUrl);o[0]&&(i.ref=o[0]),o[1]&&(i.rpr=o[1]),i.ctm=getCurTime(),lr.account&&"-"!==lr.account?i.pin=lr.account:(n=getCookie("pwdt_id")||getCookie("pin"))&&(i.pin=n),lr.pinId&&(i.pid=lr.pinId),o=getSeparatedUrl(lr.curUrl),i.ctp=t.page_name||o[0],i.par=t.page_param||o[1],i.page_path_$v2=o[0],i.event_type_$v2=t.event_type_$v2,i.url_full_$v2=location.href,i.url_query_$v2=location.search.slice(1),i.url_hash_$v2=location.hash.slice(1);var s=getJdv();i.usc=s.source,i.umd=s.medium,i.utr=s.term,i.ucp=s.campaign,i.jdv=s.jdv,i.vts=lr.visitTimes,i.seq=lr.sequenceNum,lr.adsCookieName&&(i.adk=lr.adsCookieName),lr.ads&&(i.ads=lr.ads),lr.jdpts&&lr.jdpts._st&&(i.ldt=(new Date).valueOf()-lr.jdpts._st),i.browser_ver=lr.browser.version,i.browser=lr.browser.name,i.fst=lr.firSesTime,i.pst=lr.preSesTime,i.vct=lr.curSesTime,i.clr=lr.color,i.bsl=lr.language,i.bsc=lr.characterSet,i.jav=lr.javaEnabled,i.flv=lr.flash_ver,i.tit=lr.title,i.hash=encodeURIComponent(document.location.hash)||"",i.tad=document.cookie?"1":"0",i.dataver=lr.data_version,i.is_wq=is_wq,i.chan_type=chanType,lr.mjdcl&&(i.mjdcl=lr.mjdcl),lr.rpd&&(i.rpd=lr.rpd),lr.ma_lang&&(i.ma_lang=lr.ma_lang),lr.app_device&&(i.app_device=lr.app_device),lr.pre_app&&(i.pap=lr.pre_app),lr.ma_tag&&(i.ma_tag=lr.ma_tag),"1"===lr.ma_trafficmap_mode&&(i.ma_trafficmap_switch=lr.ma_trafficmap_switch||"0"),i.ma_trafficmap_mode=lr.ma_trafficmap_mode||"0";var d=getParameter("wjfrom")||"",l=getParameter("wjwxpubid")||"",c=getParameter("wjunionid")||"",p=getParameter("wjopenid")||"";if((d||l||c||p)&&(i.wjfrom=d,i.wjwxpubid=l,i.wjunionid=c,i.wjopenid=p),lr.wxAppUuid&&(i.wxapp_uuid=lr.wxAppUuid),lr.wxAppSiteId&&(i.wxapp_siteid=lr.wxAppSiteId),lr.wxAppAppid&&(i.wxapp_appid=lr.wxAppAppid),lr.wxAppAppkey&&(i.wxapp_appkey=lr.wxAppAppkey),lr.wxAppAppUnionid&&(i.unionid=lr.wxAppAppUnionid),lr.zwxOpenid&&(i.zwx_openid=lr.zwxOpenid),t.logType===lr.logType.pv){i.typ="pv",i.lgt="pv",lr.skuId&&(i.sku=lr.skuId),lr.orderId&&(i.ord=lr.orderId),lr.shopId&&(i.shp=lr.shopId),t.aid&&(i.trafficmap_aid=t.aid),isJdltApp()&&(i.ma_is_rollback=t.ma_is_rollback||0),i.ext=lr.extParams;var u=getCookie(lr.ckRefCls),g=lr.refCls||u;u&&setCookie(lr.ckRefCls,"",lr.ckDomain,-1e4),g&&(i.ref_cls=g)}else if(t.logType===lr.logType.ep)i.typ="ep",i.lgt="ep";else if(t.logType===lr.logType.cl){i.typ="cl",i.lgt="cl",i.tar=t.tarUrl||"",t.cls&&(i.cls=t.cls),lr.refCls=t.event_id||t.cls||"";try{if(t.flowmapParams&&each(t.flowmapParams,function(e,t){i[t]=e}),isRealClickEvent(t.event_id)){setCookie(lr.ckRefCls,encodeURIComponent(lr.refCls),lr.ckDomain),lr.maEtRefer=t.event_id;var m={ma_et_refer:lr.maEtRefer};t.request.tag&&isJson(t.request.tag)&&!lr.tags[t.event_id]&&(m.tag=JSON.parse(t.request.tag),m.tag.event_id=t.event_id,m.page_id=lr.commonData.page_id||lr.curUrl,lr.tags[t.event_id]=!0),setH5DataToClient(m),setPageParamForSdk(MPing.EventSeries.getSeries())}}catch(e){}}else t.logType===lr.logType.hm?(i.typ="sr",i.lts="hm",i.lgt="hm",t.cls&&(i.cls=t.cls),t.x&&(i.x=String(t.x)),t.y&&(i.y=String(t.y)),document.body.scrollWidth&&(i.scw=String(document.body.scrollWidth)),document.body.scrollHeight&&(i.sch=String(document.body.scrollHeight)),t.offset_left&&(i.ofl=String(t.offset_left))):t.logType===lr.logType.pd?(i.typ="sr",i.lts="ot",i.lgt=t.pdlogType,t.lgv&&(i.lgv=t.lgv),t.pdsvj&&(i.sfj=t.pdsvj)):t.logType===lr.logType.magic?(i.typ="mg",i.lts="ot",i.lgt="mg",t.pdsvj&&(i.sfj=t.pdsvj)):t.logType===lr.logType.od?(i.typ="sr",i.lts="od"):t.logType===lr.logType.pf&&(i.typ="sys");for(r=0;r<lr.getPrivateDataF.length;r++)lr.getPrivateDataF[r](t,i);t.logType!==lr.logType.cl&&t.logType!==lr.logType.od&&t.logType!==lr.logType.pv||(i.unpl=lr.unpl),t.logType!==lr.logType.cl&&t.logType!==lr.logType.pv||(i.mjds=lr.mjds),lr.debugId?(i.originStd=a.std,i.debugId=lr.debugId):lr.__debugId__&&(i.debugId=lr.__debugId__),lr.pageType&&(i.pgt=lr.pageType),navigator.userAgent.indexOf(";ef/1;")<0&&(lr.aid&&(i.aid=lr.aid),lr.oaid&&(i.oaid=lr.oaid),lr.osv_int&&(i.osv_int=lr.osv_int),mtaData&&(i.mta_data=mtaData)),lr.install_id&&(i.install_id=lr.install_id),lr.roudid&&(i.roudid=lr.roudid),lr.mode_tag&&(i.mode_tag=lr.mode_tag),a.data.push(i);var _=getLogUrl();logByPost(_,a,t,i);try{t.logType===lr.logType.pv&&setSessionToSDK(getMSidSeq(),i.page_id||lr.curUrl)}catch(e){}}}function getLogUrl(){lr.rpDomain=lr.rpDomain||"uranus.jd.com";var e="//"+lr.rpDomain+"/log/m";return lr.debugId?e="//"+lr.debugReportDomain+lr.__debugIdReportPath__:lr.__debugId__?e="//"+lr.h5DebugDomain+lr.__debugIdReportPath__:lr.__uranus_debug__&&(e="//"+lr.rpDomain+lr.__debugIdReportPath_V2__),e+"?std="+lr.siteId}function lg(e,t,r){var i={pdsvj:{}};2===arguments.length&&"object"==typeof t?i.pdsvj=t:3===arguments.length&&"object"==typeof r&&(i.pdsvj=r),"object"!=typeof t&&(i.lgv=t),i.logType=lr.logType.pd,i.event_type_$v2=lr.eventType.sys,i.pdlogType=e,logCmd(i)}function logPv(e){var t=e||{};t.logType=lr.logType.pv,t.event_type_$v2=lr.eventType.pv,logCmd(t)}function MPing(e){if("function"==typeof e){this.ready=e}}function Request(e){this.cmdParam={}}lr.v2ReservedKeysByType={},lr.v2ReservedKeysByType[lr.eventType.pv]=["page_param"],lr.v2ReservedKeysByType[lr.eventType.expo]=["page_name","page_param","json_param","event_param"],lr.v2ReservedKeysByType[lr.eventType.click]=["page_name","page_param","json_param","event_param"],lr.v2ReservedKeysByType[lr.eventType.sys]=["json_param"],lr.v2ReservedKeysByType[lr.eventType.order]=["json_param"],lr.v1tov2BlackListKeys={event_type:1,site_id:1,embed_site_id:1,uuid:1,pin:1,idfa:1,idfv:1,android_id:1,oaid:1,user_agent:1,install_id:1,open_udid:1,caid:1,jaid:1,send_ts:1,device_ts:1,receive_ts:1,page_path:1,url_full:1,url_query:1,url_hash:1,ref_page_path:1,ref_page_id:1,ref_page_param:1,jdv:1,channel_info:1,env_type:1,build_version:1,source_type:1,source_value:1,jda:1,jda_ts:1,unpl:1,is_spy:1,net_type:1,app_version:1,ip:1,"latitude ":1,longitude:1,ma_latitude_cache:1,ma_longitude_cache:1,imsi:1,imei:1,ims:1,mode_tag:1,machine_type:1,device_type:1,os_plant:1,os_version:1,screen_resolution:1,browser_version:1,browser_type:1,sdk_version:1,embed_sdk_version:1,pv_sid:1,pv_seq:1,ma_log_id:1,ma_pv_log_id:1,e_seq:1,page_title:1,v2_source:1,ma_is_sparse:1,ma_b_group:1,ma_ab_test:1,utm_source:1,utm_medium:1,utm_term:1,utm_campaign:1,first_request_flag:1},window.lg=lg,JA.lg=lg,window.lgPv=logPv,JA.lgPv=logPv,MPing.prototype.send=function(e,t){e&&e.cmdParam&&(e.cmdParam.callback=t,(e.cmdParam.request=e).cmdParam.logType==lr.logType.pv?sendPv(e.cmdParam):logCmd(e.cmdParam))},MPing.prototype.ready=function(){},MPing.prototype.initUid=function(){},MPing.prototype.sendByRequest=function(e,t){this.send(e,t)},MPing.prototype.sendByImg=function(){this.send(request,callback)},MPing.prototype.getReportData=function(){},MPing.prototype.isSpider=isSpider,MPing.prototype.options={},MPing.prototype.privates={},window.MPing=MPing,MPing.Request=Request,Request.prototype.getReportObj=function(){},Request.prototype.getTime=function(){},Request.prototype.setTs=function(){},Request.prototype.setPageParam=function(){},Request.prototype.getUrlInfo=function(){};var flowmapConfig=[{name:"aid",key:"trafficmap_aid"},{name:"floorId",key:"trafficmap_floor_id",dftAttr:"module-id"},{name:"blockId",key:"trafficmap_extfloor_id",dftAttr:"block-id"},{name:"positionId",key:"trafficmap_position_id",dftAttr:"position-id"},{name:"materialId",key:"trafficmap_material_id",dftAttr:"material-id"},{name:"materialName",key:"trafficmap_material_name",dftAttr:"material-name"}];function PV(e,t){Request.call(this,"PV",null),lr.title=document.title,this.cmdParam.logType=lr.logType.pv,this.cmdParam.event_type_$v2=lr.eventType.pv;var r=this.setPageId(e,t);this.flowmapInit(r)}function Click(e,t){Request.call(this,"Click",null),this.cmdParam.logType=lr.logType.cl,this.cmdParam.clickType=lr.clickType.Jtag,this.cmdParam.event_id=e,this.cmdParam.event_type_$v2=lr.eventType.click;var r=getSeparatedUrl(document.location.href);this.page_name=r[0],this.page_param=r[1],this.getFlowmapParams(e,t)}function Order(e){Request.call(this,"Order",null),this.cmdParam.logType=lr.logType.od,this.cmdParam.event_type_$v2=lr.eventType.order,this.cmdParam.prod_id=e}function AddCart(e,t){Click.call(this,e,null),this.reportAsOrder(t,e)}function RmCart(e,t){Click.call(this,e,null)}function Exposure(e,t){Request.call(this,"Exposure",null),this.cmdParam.logType=lr.logType.ep,this.cmdParam.event_id=e,this.cmdParam.event_type_$v2=lr.eventType.expo,this.getFlowmapParams(e,t)}function System(e){Request.call(this,"System",null),this.cmdParam.logType=lr.logType.pf,this.cmdParam.event_id=e,this.cmdParam.event_type_$v2=lr.eventType.sys}function PV2(e,t){PV.call(this,e,t),this.cmdParam.v2_source="v2"}function Click2(e,t){Click.call(this,e,t),this.cmdParam.v2_source="v2"}function Order2(e){Order.call(this,e,null),this.cmdParam.v2_source="v2"}function Exposure2(e,t){Exposure.call(this,e,t),this.cmdParam.v2_source="v2"}function System2(e){System.call(this,e,null),this.cmdParam.v2_source="v2"}Request.prototype.getFlowmapParams=function(e,o){if(isObject(o)&&o.target instanceof HTMLElement){var s={},d=o.target;each(flowmapConfig,function(e){var t=e.name,r=e.key,i=e.dftAttr,a=o[t];if(isString(a)||isNumber(a))s[r]=a;else if(isObject(a)&&d.closest){(n=a.classname?d.closest("."+a.classname):d.closest("[data-"+a.attr+"]"))&&(s[r]=n.dataset&&n.dataset[toCamelCase(a.attr)])}else if(i&&d.closest){var n;(n=d.closest("[data-"+i+"]"))&&(s[r]=n.dataset&&n.dataset[toCamelCase(i)])}}),this.cmdParam.flowmapParams=s;var t=extend({target:o.target,event_id:e},s),r=window.__MPingFlowMap__;if(o.isExpo&&r&&isObject(r))r.cacheList.find(function(e){return e.target===t.target})||(r.cacheList.push(t),r.ready&&r.showBubble(t));return t}},PV.prototype=new Request,PV.prototype.setSourceParam=function(){},PV.prototype.setPvParams=function(){},PV.prototype.setPageId=function(e,t){var r,i;if("string"==typeof e||"number"==typeof e)this.cmdParam.page_id=e;else if(e&&"object"==typeof e){for(r in e)this.cmdParam[keysMap(r)]=e[r],"aid"===r&&(i=e[r]);this.cmdParam.cli&&(this.cmdParam.cli+="-M")}for(r in t&&isObject(t)&&t.aid&&(i=t.aid),i&&(this.cmdParam.aid=i),lr.commonData)this.cmdParam[r]&&(lr.commonData[r]=this.cmdParam[r]);return lr.commonData.aid||lr.commonData.page_id},PV.prototype.flowmapInit=function(t){try{var r=window.__MPingFlowMap__;t&&r&&isObject(r)&&(r.pageId=t),r&&isObject(r)&&isFunction(r.init)&&!r.ready&&r.pageId&&r.init.call(r,{pageId:t,callback:function(){r.showBubbleCache()}})}catch(e){}},Click.prototype=new Request,Click.prototype.updateEventSeries=function(){this.cmdParam.event_param=this.event_param,this.cmdParam.page_name=this.page_name,this.cmdParam.page_param=this.page_param},Click.prototype.setPageId=function(){},Click.attachEvent=function(e){Click.attachedEvent||(lr.cClass=e||"J_ping",Click.attachedEvent=!0)},Click.initAutoExposure=initAutoExposure,Order.prototype=new Request,Order.prototype.deleteSeries=function(){},Order.prototype.setPageParam=function(){},Order.prototype.setParams=function(){},AddCart.prototype=new Click,AddCart.prototype.addSeries=function(){},AddCart.prototype.reportAsOrder=function(e,t){if(e){var r=new Order(e);t&&(r.event_id=t),(new MPing).send(r)}},RmCart.prototype=new Click,RmCart.prototype.deleteSeries=function(){},Exposure.prototype=new Request,Exposure.initAutoExposure=initAutoExposure,System.prototype=new Request,MPing.inputs={},MPing.inputs.PV=PV,MPing.inputs.Click=Click,MPing.inputs.AddCart=AddCart,MPing.inputs.RmCart=RmCart,MPing.inputs.Order=Order,MPing.inputs.Exposure=Exposure,MPing.inputs.System=System,MPing.EventSeries={getSeries:function(){var e=getMSidSeq(),t=getJdv(),r={m_source:isEmbedded()?"1":"0",jda:getCookie(lr.ckJda),usc:t.source,ucp:t.campaign,umd:t.medium,utr:t.term,jdv:t.jdv,ref:encodeURIComponent(lr.curUrl),psn:lr.uuid+"|"+lr.visitTimes,psq:lr.sequenceNum,adk:lr.adsCookieName,ads:lr.ads,unpl:getCookie("unpl"),pc_source:getParameter("pc_source")||""};isEmbedded()?(r.pv_sid=e[0]+"",r.pv_seq=e[1]+"",r.pv_timestamp=(new Date).getTime()+""):(r.mba_muid=getMuid(),r.mba_sid=e[0]+"");var i=getParameter("wjfrom")||"",a=getParameter("wjwxpubid")||"",n=getParameter("wjunionid")||"",o=getParameter("wjopenid")||"";(i||a||n||o)&&(r.wjfrom=i,r.wjwxpubid=a,r.wjunionid=n,r.wjopenid=o),r.std=lr.siteId;var s=getSeparatedUrl(lr.curUrl);return r.par=encodeURIComponent(s[1]||""),r.event_id=lr.refCls,JSON.stringify(r)},androidSeries:function(){var t=this.getSeries();try{window.AndriodPing.setSeries(t)}catch(e){}},updateUA:function(e){isEmbedded()&&(lr.EmbeddedUA=e,updateMSid(!0))},writeSeries:function(){},updateSeries:function(){},addSeries:function(){},deleteSeries:function(){},subCookieParts:function(){},getCookiePart:function(){},setCookiePart:function(){},getAllSubCookies:function(){},setSubCookieValue:function(){},getDomain:function(){},param:function(){},wxappSeries:function(){var e={},t=getMSidSeq();return e.pv_sid=t[0]+"",e.pv_seq=t[1]+"",JSON.stringify(e)},isJdvChanged:function(){return lr.jdvChanged}},MPing.__serect__key__=__serect__key__,MPing.setAppData=function(e){e&&"object"==typeof e&&(lr.stdParam=extend(lr.stdParam,e),setStorage(lr.stdParamStorageKey+lr.siteId,lr.stdParam))},MPing.clearAppData=function(){lr.stdParam=undefined,removeStorage(lr.stdParamStorageKey+lr.siteId)},PV2.prototype=new PV,Click2.prototype=new Click,Order2.prototype=new Order,Exposure2.prototype=new Exposure,System2.prototype=new System,MPing.inputs.PV2=PV2,MPing.inputs.Click2=Click2,MPing.inputs.Order2=Order2,MPing.inputs.Exposure2=Exposure2,MPing.inputs.System2=System2,function(){var e,t,r,i,s=mtaData||navigator.userAgent;if(hasTransmitFunc()){var a=getPageParamFromSdk();if(a){lr.uid=a.uid||"";var n=a.jdv||"",o=(new Date).getTime();if(n){var d=urlDecode(n).split("|");if(lr.useH5Jdv="-1"==d[0],5<d.length&&!lr.useH5Jdv&&(r=lr.utm_source=d[1],lr.utm_campaign=d[2],lr.utm_medium=d[3],lr.utm_term=d[4],d[5]&&(o=d[5].length<13?1e3*d[5]:d[5],lr.jdv_updateTime=o)),r){var l=[lr.hashDomain,lr.utm_source||"direct",lr.utm_campaign||"-",lr.utm_medium||"none",lr.utm_term||"-",o].join("|");setJdv(l=urlEncode(l),lr.hashDomain,!0)}}a.std&&(lr.pre_app=a.std),!lr.refUrl&&a.ctp&&(a.par?lr.refUrl=a.ctp+"?"+a.par:lr.refUrl=a.ctp),a.event_id&&(lr.refCls=a.event_id),a.debugId&&(lr.debugId=a.debugId,lr.debugStd=a.debugSiteId,lr.debugReportDomain=a.debugReportDomain),a.oaid&&(lr.oaid=a.oaid),a.aid&&(lr.aid=a.aid),a.mode_tag&&(lr.mode_tag=a.mode_tag),a.installationId&&(lr.install_id=a.installationId)}}else if(s&&(isEmbedded()||0<=s.indexOf("Android")||0<=s.indexOf("iPhone"))){var c,p,u=function(e,t){var r=t||s,i=e+"/",a=r.indexOf(i),n=0,o="";return 0<=a&&(a+=i.length)<(n=r.indexOf(";",a))&&(o=r.substring(a,n)),o};0<=(s+=";").indexOf("psn/")&&(c=s.indexOf("psn/")+4)<=(p=s.indexOf(";",c))&&(e=s.substring(c,p)),0<=s.indexOf("psq/")&&(c=s.indexOf("psq/")+4)<=(p=s.indexOf(";",c))&&(t=s.substring(c,p)),!lr.refUrl&&0<=s.indexOf("ref/")&&(c=s.indexOf("ref/")+4)<=(p=s.indexOf(";",c))&&(lr.refUrl=urlDecode(s.substring(c,p))),0<=s.indexOf("pap/")&&(c=s.indexOf("pap/")+4)<=(p=s.indexOf(";",c))&&(lr.pre_app=s.substring(c,p).replace(/[\s\d.]+$/,""));var g=!0;n=u("jdv"),o=(new Date).getTime();if(n){d=urlDecode(n).split("|");lr.useH5Jdv="-1"==d[0],5<d.length&&!lr.useH5Jdv&&(r=lr.utm_source=d[1],lr.utm_campaign=d[2],lr.utm_medium=d[3],lr.utm_term=d[4],d[5]&&(o=d[5].length<13?1e3*d[5]:d[5],lr.jdv_updateTime=o),g=!1)}if(g&&0<=s.indexOf("usc/")&&(c=s.indexOf("usc/")+4)<=(p=s.indexOf(";",c))&&(r=lr.utm_source=s.substring(c,p)),g&&0<=s.indexOf("ucp/")&&(c=s.indexOf("ucp/")+4)<=(p=s.indexOf(";",c))&&(lr.utm_campaign=s.substring(c,p)),g&&0<=s.indexOf("umd/")&&(c=s.indexOf("umd/")+4)<=(p=s.indexOf(";",c))&&(lr.utm_medium=s.substring(c,p)),g&&0<=s.indexOf("utr/")&&(c=s.indexOf("utr/")+4)<=(p=s.indexOf(";",c))&&(lr.utm_term=s.substring(c,p)),0<=s.indexOf("adk/")&&(c=s.indexOf("adk/")+4)<=(p=s.indexOf(";",c))&&(lr.adsCookieName=s.substring(c,p)),0<=s.indexOf("ads/")&&(c=s.indexOf("ads/")+4)<=(p=s.indexOf(";",c))&&(i=s.substring(c,p)),e&&t?(setCookie("pre_session",e,lr.ckDomain),setCookie("pre_seq",t,lr.ckDomain)):(e=getCookie("pre_session")||"",t=getCookie("pre_seq")||""),lr.preSession=e,lr.preSeqnum=t,r){l=[lr.hashDomain,lr.utm_source||"direct",lr.utm_campaign||"-",lr.utm_medium||"none",lr.utm_term||"-",o].join("|");setJdv(l=urlEncode(l),lr.hashDomain)}i&&(lr.ads=i,setCookie(lr.adsCookieName,lr.ads,lr.ckDomain,lr.mtSubsiteExp));var m=u("apprpd");m&&(lr.rpd=m),lr.app_device=u("app_device"),lr.ma_lang=u("lang",navigator.userAgent);var _=u("log-debug");_&&2<(_=_.split("|")).length&&(lr.debugId=_[0],lr.debugStd=_[1],lr.debugReportDomain=_[2]),lr.aid=u(";aid"),lr.oaid=u(";oaid"),lr.osv_int=u(";osVer"),lr.install_id=u(";installationId"),lr.roudid=u(";roudid"),lr.mode_tag=u(";mode_tag")}}(),lr.clickCBF.push(function(e){if(Click.attachedEvent){for(var t,r={},i=e.srcElement||e.target,a=document.querySelector("body");i!==a;){var n=i.className||"";if(n&&n.baseVal&&(n=n.baseVal),n&&n.indexOf&&-1<n.indexOf(lr.cClass)){t=i;break}i=i.parentNode||a}if(t){var o=t.getAttribute("href"),s=t.getAttribute("report-eventid")||"",d=t.getAttribute("report-pagename")||"",l=t.getAttribute("report-pageparam")||"",c=t.getAttribute("report-eventparam")||"";if(s){var p=getSeparatedUrl(document.location.href);r.logType=lr.logType.cl,r.event_type_$v2=lr.eventType.click,r.clickType=lr.clickType.Jtag,r.event_id=s,r.page_name=d||p[0]||"",r.page_param=l||p[1]||"",r.event_param=c,r.tarUrl=o,logCmd(r)}o&&/^(http:\/\/|https:\/\/|\/\/).*/.exec(o)&&"_blank"!==t.getAttribute("target")&&(e.preventDefault?e.preventDefault():e.returnValue=!1,setTimeout(function(){window.location.href=o},200))}}}),lr.clickCBF.push(function(e){if(isWX()){for(var t={},r=e.srcElement||e.target,i="",a="";r&&"BODY"!=r.nodeName&&r.getAttribute;){if(a=r.getAttribute("ptag")||r.getAttribute("PTAG")){i="";break}if((i=r.getAttribute("data-url")||r.getAttribute("data-tourl")||r.getAttribute("data-href")||r.getAttribute("tourl")||r.getAttribute("target_href")||r.href)&&(a=getUrlParam("ptag",i)))break;r=r.parentNode}if(a){var n="wq_"+a.replace(/\./g,"_"),o=a;if(n){var s=getSeparatedUrl(document.location.href);t.logType=lr.logType.cl,t.event_type_$v2=lr.eventType.click,t.clickType=lr.clickType.Jtag,t.event_id=n,t.page_name=s[0]||"",t.page_param=s[1]||"",t.event_param=o,t.tarUrl=i,logCmd(t)}if(i&&/^(http:\/\/|https:\/\/|\/\/).*/.exec(i)&&r&&"A"===r.nodeName&&"_blank"!==r.getAttribute("target"))for(var d=(new Date).getTime()+100;(new Date).getTime()<d;);}}}),document.getElementsByClassName||(document.getElementsByClassName=function(e){for(var t=document.getElementsByTagName("*"),r=[],i=0;i<t.length;i++)for(var a=t[i],n=a.className.split(" "),o=0;o<n.length;o++)if(n[o]==e){r.push(a);break}return r});var loadJS=function(e,t,r){var i=document.createElement("script");i.type="application/javascript",i.src=e,t&&(i.async=t),i.charset="UTF-8",i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r&&r(),i.onload=i.onreadystatechange=null)},document.body?document.body.appendChild(i):document.getElementsByTagName("head")[0].appendChild(i)},loadCSS=function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)};function magictreelog(e,t){return!1}var typepar=getParameter("typepar");if(typepar&&("query"===typepar||"apply"===typepar))try{loadCSS("//magicforest.jd.com/x.css"),loadJS("//magicforest.jd.com/tol2.min.js")}catch(e){}function initMagicModel(){try{loadJS("//magicforest.jd.com/magicapp.js")}catch(e){}}function isMeta(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return!0;var t=e.which,r=e.button;return t||r===undefined?2===t||2===r:1&!r&&2&!r&&4&r}function logClstag(e,t,r){if(e&&t){var i={};i.logType=lr.logType.cl,i.clickType=lr.clickType.Clstag,i.cls=e+"|"+t,i.tarUrl=r||"",logCmd(i)}}function getUnionSeriesJsonObj(){var e=getJdv();return{psn:lr.uuid+"|"+lr.visitTimes,psq:lr.sequenceNum,ref:encodeURIComponent(lr.curUrl),usc:e.source,ucp:e.campaign,umd:e.medium,utr:e.term,adk:lr.adsCookieName,ads:lr.ads,ext:lr.extParams}}function getUnionSeries(){var e=getJdv(),t={psn:lr.uuid+"|"+lr.visitTimes,psq:lr.sequenceNum,ref:encodeURIComponent(lr.curUrl),usc:e.source,ucp:e.campaign,umd:e.medium,utr:e.term,adk:lr.adsCookieName,ads:lr.ads};return JSON.stringify(t)}function getAndroidUnionSeries(){var t=getUnionSeries();try{window.AndriodPing.setSeriesUnion(t)}catch(e){}}window.initMagicModel=initMagicModel,-1<document.location.href.indexOf("__clsData=")&&(loadCSS("//magicforest.jd.com/cls.css"),loadJS("//magicforest.jd.com/cls.js")),quickClick(document,function(e){var t,r={},i=e.srcElement||e.target,a=i,n=i.getAttribute("clstag"),o=e||event;if(o.clientX||o.clientY||o.pageX||o.pageY){for(;!n&&"BODY"!==i.nodeName&&"HTML"!==i.nodeName&&(i=i.parentNode)&&("BODY"!==i.nodeName||"HTML"===i.nodeName);)n=i.getAttribute("clstag");var s;if(n){var d=n.split("|"),l=d[1],c=d[2],p=d[3];if("keycount"===l){s=c+"|"+p;var u=a.getAttribute("href");r.logType=lr.logType.cl,r.clickType=lr.clickType.Clstag,r.cls=s,r.tarUrl=u,logCmd(r),u&&/^(http:\/\/|https:\/\/|\/\/).*/.exec(u)&&"_blank"!==a.getAttribute("target")&&!isMeta(e)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,setTimeout(function(){window.location.href=u},200))}}var g=window.location.hostname.toLowerCase();if(lr.heatmapEnable||/(sale|mall|jmall|pop|bdp).(jd|360buy).com/.test(g)){var m=0,_=0;e.pageX||e.pageY?(m=e.pageX,_=e.pageY):(m=e.clientX+document.body.scrollLeft-document.body.clientLeft,_=e.clientY+document.body.scrollTop-document.body.clientTop);var f=1210<=window.screen.width?1210:990,v=document.body.clientWidth>f?Math.round((document.body.clientWidth-f)/2):0;r.logType=lr.logType.hm,r.cls=s||"-",r.x=m,r.y=_,r.offset_left=v,logCmd(r)}for(t=0;t<lr.clickCBF.length;t++)lr.clickCBF[t](e)}},!1),window.logClstag=logClstag,lr.MPEventsMap={},function(){var n=0;function e(e){return r(t(i(e)))}function t(e){return o(s(a(e),8*e.length))}function r(e){for(var t,r=n?"0123456789ABCDEF":"0123456789abcdef",i="",a=0;a<e.length;a++)t=e.charCodeAt(a),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function i(e){for(var t,r,i="",a=-1;++a<e.length;)t=e.charCodeAt(a),r=a+1<e.length?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=r&&r<=57343&&(t=65536+((1023&t)<<10)+(1023&r),a++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function a(e){var t,r=Array(e.length>>2);for(t=0;t<r.length;t++)r[t]=0;for(t=0;t<8*e.length;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function o(e){for(var t="",r=0;r<32*e.length;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function s(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,i=-271733879,a=-1732584194,n=271733878,o=0;o<e.length;o+=16){var s=r,d=i,l=a,c=n;i=m(i=m(i=m(i=m(i=g(i=g(i=g(i=g(i=u(i=u(i=u(i=u(i=p(i=p(i=p(i=p(i,a=p(a,n=p(n,r=p(r,i,a,n,e[o+0],7,-680876936),i,a,e[o+1],12,-389564586),r,i,e[o+2],17,606105819),n,r,e[o+3],22,-1044525330),a=p(a,n=p(n,r=p(r,i,a,n,e[o+4],7,-176418897),i,a,e[o+5],12,1200080426),r,i,e[o+6],17,-1473231341),n,r,e[o+7],22,-45705983),a=p(a,n=p(n,r=p(r,i,a,n,e[o+8],7,1770035416),i,a,e[o+9],12,-1958414417),r,i,e[o+10],17,-42063),n,r,e[o+11],22,-1990404162),a=p(a,n=p(n,r=p(r,i,a,n,e[o+12],7,1804603682),i,a,e[o+13],12,-40341101),r,i,e[o+14],17,-1502002290),n,r,e[o+15],22,1236535329),a=u(a,n=u(n,r=u(r,i,a,n,e[o+1],5,-165796510),i,a,e[o+6],9,-1069501632),r,i,e[o+11],14,643717713),n,r,e[o+0],20,-373897302),a=u(a,n=u(n,r=u(r,i,a,n,e[o+5],5,-701558691),i,a,e[o+10],9,38016083),r,i,e[o+15],14,-660478335),n,r,e[o+4],20,-405537848),a=u(a,n=u(n,r=u(r,i,a,n,e[o+9],5,568446438),i,a,e[o+14],9,-1019803690),r,i,e[o+3],14,-187363961),n,r,e[o+8],20,1163531501),a=u(a,n=u(n,r=u(r,i,a,n,e[o+13],5,-1444681467),i,a,e[o+2],9,-51403784),r,i,e[o+7],14,1735328473),n,r,e[o+12],20,-1926607734),a=g(a,n=g(n,r=g(r,i,a,n,e[o+5],4,-378558),i,a,e[o+8],11,-2022574463),r,i,e[o+11],16,1839030562),n,r,e[o+14],23,-35309556),a=g(a,n=g(n,r=g(r,i,a,n,e[o+1],4,-1530992060),i,a,e[o+4],11,1272893353),r,i,e[o+7],16,-155497632),n,r,e[o+10],23,-1094730640),a=g(a,n=g(n,r=g(r,i,a,n,e[o+13],4,681279174),i,a,e[o+0],11,-358537222),r,i,e[o+3],16,-722521979),n,r,e[o+6],23,76029189),a=g(a,n=g(n,r=g(r,i,a,n,e[o+9],4,-640364487),i,a,e[o+12],11,-421815835),r,i,e[o+15],16,530742520),n,r,e[o+2],23,-995338651),a=m(a,n=m(n,r=m(r,i,a,n,e[o+0],6,-198630844),i,a,e[o+7],10,1126891415),r,i,e[o+14],15,-1416354905),n,r,e[o+5],21,-57434055),a=m(a,n=m(n,r=m(r,i,a,n,e[o+12],6,1700485571),i,a,e[o+3],10,-1894986606),r,i,e[o+10],15,-1051523),n,r,e[o+1],21,-2054922799),a=m(a,n=m(n,r=m(r,i,a,n,e[o+8],6,1873313359),i,a,e[o+15],10,-30611744),r,i,e[o+6],15,-1560198380),n,r,e[o+13],21,1309151649),a=m(a,n=m(n,r=m(r,i,a,n,e[o+4],6,-145523070),i,a,e[o+11],10,-1120210379),r,i,e[o+2],15,718787259),n,r,e[o+9],21,-343485551),r=_(r,s),i=_(i,d),a=_(a,l),n=_(n,c)}return Array(r,i,a,n)}function d(e,t,r,i,a,n){return _((o=_(_(t,e),_(i,n)))<<(s=a)|o>>>32-s,r);var o,s}function p(e,t,r,i,a,n,o){return d(t&r|~t&i,e,t,a,n,o)}function u(e,t,r,i,a,n,o){return d(t&i|r&~i,e,t,a,n,o)}function g(e,t,r,i,a,n,o){return d(t^r^i,e,t,a,n,o)}function m(e,t,r,i,a,n,o){return d(r^(t|~i),e,t,a,n,o)}function _(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}lr.hex_md5=e}(),function(){var e=lr.provinceId||lr.provinceid||"",t=lr.cityId||lr.cityid||"",r=lr.countryId||lr.countryid||"",i=lr.townId||lr.townid||"",a=lr.skuId||lr.skuid||"",n=lr.skuPrice||lr.skuprice||"",o=lr.stockState||lr.stockstate||"",s={},d={};if(e&&t&&r&&a&&n&&o){var l,c,p=-1,u=-1,g=-1,m={pdsvj:{}};""===o?(p=1,u=5,g=33):0===o.indexOf("")?(p=2,u=5,g=39):-1<o.indexOf("")?(p=3,u=5,g=36):""===o?(p=4,u=5,g=34):-1<o.indexOf("")?(p=7,u=5,g=33):-1<o.indexOf("")&&(p=8,u=6,g=40),isNaN(n)&&(n=-1),l=e+"_"+t+"_"+r+"_"+i,c=[a,n,p,u,g],s.area=l,s.sku=[c],d.t1="pv_stock",d.t2="sku",d.p0=s,m.logType=lr.logType.pd,m.event_type_$v2=lr.eventType.sys,m.pdsvj=d,m.isByJson=!0,m.toWarriors=!0,logCmd(m)}}(),window.getUnionSeries=getUnionSeries,window.getAndroidUnionSeries=getAndroidUnionSeries,window.getUnionSeriesJsonObj=getUnionSeriesJsonObj;var exposurePlugin=function(){var u,n={},o=[],a={_clientType:"",useClick:!1,area_rate:.5,stay_duration:.3,repeated:!1};function g(e){var r={};return u.each(e,function(e,t){switch(t){case"area_rate":e=Number(e),!isNaN(e)&&0<=e&&e<=1&&(r.area_rate=e);break;case"stay_duration":e=Number(e),!isNaN(e)&&0<=e&&(r.stay_duration=e);break;case"repeated":case"useClick":"false"!==e&&!1!==e&&"true"!==e&&!0!==e||(r[t]=e);break;case"_clientType":"m"!==(e=(""+e).toLowerCase())&&"pc"!==e||(r._clientType=e)}}),r}var s={init:function(e,t){if(("MutationObserver"in window||"WebKitMutationObserver"in window||"MozMutationObserver"in window)&&"IntersectionObserver"in window){u=e.utils,t.siteId;var r=this;u.isObject(t)&&(a=u.extend(a,g(t)));var i=r.getElesByTagName();r.addObserveByNodes(i),d.init(),u.bindVisibleChange(function(){r.start()},"visible"),u.bindVisibleChange(function(){r.stop()},"hidden")}},getElesByTagName:function(e){return(e=e||document).querySelectorAll("[exptag^=exp]")},getEleExpName:function(e){var t=e.getAttribute("exptag"),r="";return t&&(r=t.split("|")[1]),r},getEleAttr:function(t){var r=t.attributes,i=t.dataset||{},o={},s={},d=undefined,a=undefined,n=this.getEleExpName(t),l=/^exptag-exparam$/,c=/^exptag-property-(.+)/,p=/^exptag-config-(.+)/;return i.exptagEventId&&(n=i.exptagEventId),i.exptagEventParam&&(d=i.exptagEventParam),i.exptagJsonParam&&u.isJson(i.exptagJsonParam)&&(o=JSON.parse(i.exptagJsonParam)),i.exptagConfig&&u.isJson(i.exptagConfig)&&(s=JSON.parse(i.exptagConfig)),i.exptagFlowmap&&u.isJson(i.exptagFlowmap)&&((a=JSON.parse(i.exptagFlowmap)).event_id=n),u.each(r,function(t){var r=t.value,i=t.name;try{if(l.test(i))d=r;else if(c.test(i)){var a=i.match(c);o[a[1]]=r}else if(p.test(i)){var n=i.match(p);if(n)switch(n[1]){case"area_rate":s.area_rate=r;break;case"stay_duration":s.stay_duration=r;break;case"repeated":s.repeated="false"!==r}}}catch(e){}}),{eventName:n,config:g(s),properties:o,eventParam:d,flowmapOpts:a}},addObserveByNodes:function(e){if(e.length){var r=this;u.each(e,function(e){if(u.isElement(e)&&e.hasAttribute("exptag")){var t=r.getEleAttr(e);t.config=u.extend({},a,t.config),t.ele=e,r.addOrUpdateWatchEle(t)}})}},getIntersection:function(e){var t=this;return n[e.area_rate]?n[e.area_rate]:n[e.area_rate]=new IntersectionObserver(function(){t.exposure.apply(t,arguments)},{threshold:e.area_rate})},exposure:function(e){var i=this;u.each(e,function(e){var t=e.target,r=i.getEleOption(t);r&&(r.config&&r.config.isSend?i.clearTimer(r):!1!==e.isIntersecting?e.intersectionRatio>=r.config.area_rate&&(i.clearTimer(r),r.timestamp=e.time,r.timer=setTimeout(function(){i.doubleCheck(t)&&(r.properties.duration=1e3*r.config.stay_duration,i.logExposure(r),i.clearTimer(r),r.config.isSend=!0,r.config.repeated&&(r.config.isSend=!1))},1e3*r.config.stay_duration)):i.doubleCheck(t)&&r.timer&&(r.properties.duration=e.time-r.timestamp,i.logExposure(r),i.clearTimer(r)))})},doubleCheck:function(e){var t=e.getBoundingClientRect(),r=this.getEleOption(e);return!(!(t.width&&t.height&&r&&r.eventName)||r.config.isSend)},clearTimer:function(e){e&&e.timer&&(clearTimeout(e.timer),e.timer=null)},logExposure:function(e){"m"===e.config._clientType&&this.mExposure(e),e.config._clientType},mExposure:function(e){var t=e.config.useClick?window.MPing.inputs.Click:window.MPing.inputs.Exposure,r=e.flowmapOpts?u.extend({target:e.ele,isExpo:!0},e.flowmapOpts):undefined,i=new t(e.eventName,r);e.eventParam&&(i.event_param=e.eventParam),i.json_param=JSON.stringify(e.properties),r&&!0===r.noReport||(new window.MPing).send(i)},pcExposure:function(e){window.expLogJSON()},getEleOption:function(t){var r=null;return u.each(o,function(e){t===e.ele&&(r=e)}),r},addOrUpdateWatchEle:function(e){var t=e.ele,r=e.config;if(!e.eventName)return!1;u.isElement(t)||console.log("parameter element error. option:",e),this.getIntersection(r).observe(t),o.push(e)},removeWatchEle:function(r){var i=null,a=-1;if(u.each(o,function(e,t){r===e.ele&&(i=e,a=t)}),i){var e=i.config,t=n[e.area_rate];t&&u.isElement(r)&&(t.unobserve(r),s.clearTimer(i),-1<a&&o.splice(a,1))}},start:function(){u.each(o,function(e){var t=e.config,r=e.ele,i=n[t.area_rate];i&&u.isElement(r)&&i.observe(r)})},stop:function(){u.each(o,function(e){var t=e.config,r=e.ele,i=n[t.area_rate];i&&u.isElement(r)&&(i.unobserve(r),s.clearTimer(e))})},clear:function(){this.stop(),n={},o=[]}},d={mo:null,init:function(){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.mo=new e(this.listenNodesChange),this.observe()},observe:function(){this.mo.observe(document.body,{childList:!0,subtree:!0})},listenNodesChange:function(e){u.each(e,function(e){switch(e.type){case"childList":0<e.removedNodes.length?u.each(e.removedNodes,function(e){if(u.isElement(e)){s.removeWatchEle(e);var t=s.getElesByTagName(e);t.length&&u.each(t,function(e){s.removeWatchEle(e)})}}):e.addedNodes.length&&(s.addObserveByNodes(e.addedNodes),u.each(e.addedNodes,function(e){if(u.isElement(e)){var t=s.getElesByTagName(e);s.addObserveByNodes(t)}}))}})}};return s}(),pageLeavePlugin={_start_time:null,_last_send_time:null,_option:{},_event_id:"sys_page_timelength",_heartbeat_interval_timer:null,_heartbeat_interval_time:2e3,init:function(e,t){this._option=t||{};var r=this._option.heartbeatIntervalTime;r&&0<1*r&&(this._heartbeat_interval_time=1e3*r),this.addEventListener()},pageStartHandler:function(){this._start_time=+new Date},pageEndHandler:function(){this.sendHeartBeatData("is_last_heartbeat")},addEventListener:function(){window._zwx_heartbeat_interval_timer_||(this.addPageStartListener(),this.addPageSwitchListener(),window._zwx_heartbeat_interval_timer_=!0)},addPageStartListener:function(){var e=this;window.addEventListener("load",function(){e.pageStartHandler(),document.hidden||e.startHeartBeatInterval()})},addPageSwitchListener:function(){var e=this;document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState?(e.pageStartHandler(),e.startHeartBeatInterval()):(e.pageEndHandler(),e.stopHeartBeatInterval())})},startHeartBeatInterval:function(){var e=this;this._heartbeat_interval_timer&&this.stopHeartBeatInterval(),this._heartbeat_interval_timer=setInterval(function(){e.sendHeartBeatData()},this._heartbeat_interval_time),this.sendHeartBeatData("is_first_heartbeat")},stopHeartBeatInterval:function(){clearInterval(this._heartbeat_interval_timer),this._heartbeat_interval_timer=null},sendHeartBeatData:function(e){var t=this.getPageLeaveProperties(),r=new MPing.inputs.Click(this._event_id);"is_first_heartbeat"===e&&(t.heartbeat_interval_time=0),"is_last_heartbeat"===e&&(t.$type="last_beat",t.heartbeat_interval_time=(+new Date-this._last_send_time)%this._heartbeat_interval_time),r.json_param=JSON.stringify(t);var i=lr.sendByBeacon;lr.sendByBeacon=!0,(new MPing).send(r),lr.sendByBeacon=i,this._last_send_time=+new Date},getPageLeaveProperties:function(){var e=(+new Date-this._start_time)/1e3;(isNaN(e)||e<0||432e3<e)&&(e=0);var t={event_duration:""+(e=Number(e.toFixed(3))),heartbeat_interval_time:this._heartbeat_interval_time};return t=extend(t,this._option.customProps)}};function sendPv(e){isJdApp()||isEmbedded()?timerLogPv(e):logPv(e)}var retryCount=1,Xq,Yq;function timerLogPv(e){mtaSessionData||10<retryCount?logPv(e):(retryCount++,setTimeout(function(){timerLogPv(e)},10))}function sendPageEnd(){if(0<lr.pv_report_ts){var e=Date.now()-lr.pv_report_ts,t=new MPing.inputs.System("app_page_end");t.json_param=JSON.stringify({event_duration:""+e}),(new MPing).send(t)}lr.pv_report_ts=0}function onVisibleShow(){isEmbedded()&&getSessionFromClient("window.MPingSidSeqBack")}function onVisibleHidden(){sendPageEnd()}function initAutoExposure(){exposurePlugin.init(lr,extend({_clientType:"m"},lr.expConfig))}function addFlowmapSwitchListenner(){document.addEventListener("initTrafficMap",function(e){lr.ma_trafficmap_switch=+e.detail.isOpen+""})}function log(e,t){var r={},i=Array.prototype.slice.call(arguments);i=i&&i.slice(2),r.pdsvj={},r.logType=lr.logType.pd,r.event_type_$v2=lr.eventType.sys,r.pdsvj.t1=e,r.pdsvj.t2=t,r.pdsvj.p0=encodeURIComponent(joinArrayBySeparator(i)),logCmd(r)}function logJSON(e,t,r){var i={};i.logType=lr.logType.pd,i.event_type_$v2=lr.eventType.sys,i.isByJson=!0,i.pdsvj={t1:e,t2:t,p0:r},i.toWarriors=!0,logCmd(i)}function nlog(e,t){var r={};r.logType=lr.logType.pd,r.event_type_$v2=lr.eventType.sys,r.pdsvj=t,r.topic=e,logCmd(r)}function expLogJSON(e,t,r){var i={topic:"exp_log.100000"};i.logType=lr.logType.pd,i.event_type_$v2=lr.eventType.sys,i.isByJson=!0,i.pdsvj={t1:e,t2:t,p0:isObject(r)?JSON.stringify(r):r},i.toWarriors=!0,logCmd(i)}("undefined"==typeof lr.autoLogPv||lr.autoLogPv)&&(sendPv(),lr.anchorpvflag&&(window.history?(Xq=window.history,Yq=Xq.pushState,Xq.pushState=function(e){return"function"==typeof Xq.onpushstate&&Xq.onpushstate({state:e}),Yq.apply(Xq,arguments)},lr.account="undefined"!=typeof lr.account?lr.account:getCookie("pin"),window.onpopstate=history.onpushstate=function(e){setTimeout(function(){lr.refUrl=lr.curUrl,lr.title=document.title,lr.curUrl=document.location.href,logPv()},0)}):window.addEventListener("hashchange",function(){lr.refUrl=lr.curUrl,lr.curUrl=document.location.href,lr.title=document.title,lr.account="undefined"!=typeof lr.account?lr.account:getCookie("pin"),logPv()}))),window.MPingSidSeqBack=function(t){try{t&&(t=JSON.parse(t))&&"0"===t.status&&t.data&&(mtaSessionData=t.data,(isJdltApp()||lr.enableStayDuration)&&sendPv({ma_is_rollback:1}),initRouteMaRefer(mtaSessionData),updateMSid())}catch(e){}},"onvisibilitychange"in document&&document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState?onVisibleShow():"hidden"===document.visibilityState&&onVisibleHidden()}),(lr.autoLogExp||isObject(lr.expConfig))&&bindReady(initAutoExposure,!0),lr.enableStayDuration&&pageLeavePlugin.init(lr,lr.durationConfig),isJdApp()&&!window.__MPing_GetFlowMapParam__&&(window.__MPingFlowMap__={cacheList:[],pageId:""},window.__MPing_GetFlowMapParam__=function(r){try{if(r)if((r=JSON.parse(r))&&"0"===r.status&&r.data&&r.data.isFlowMapEnable&&"false"!==r.data.isFlowMapEnable){lr.ma_trafficmap_mode="true"===r.data.isFlowMapEnable?"1":"0",lr.ma_trafficmap_switch="1",addFlowmapSwitchListenner();var t="1"===getUrlParam("__flowmap__debug__")&&"true"===r.data.is_beta;loadJS(t?"https://beta-flow-static.jd.com/static/sdk/flowmap.sdk.js":"https://flow-static.jd.com/static/sdk/flowmap.sdk.js",!0,function(){if(window.MPing_FLOWMAPH5_INIT){var e=window.__MPingFlowMap__=extend(window.MPing_FLOWMAPH5_INIT(r.data),window.__MPingFlowMap__),t=e.pageId;t&&e.init.call(e,{pageId:t,callback:function(){e.showBubbleCache()}})}})}else window.__MPingFlowMap__=null;else window.__MPingFlowMap__=null}catch(e){window.__MPingFlowMap__=null}},getFlowMapParamFromClient("window.__MPing_GetFlowMapParam__")),JA.util={join:function(e){return joinArrayBySeparator(e)},getParameter:function(e,t){return getParameter(t,e)},Wv:function(e,t,r,i){setCookie(e,t,r,i)},Vv:function(e){return getCookie(e)}},JA.tracker={sendNew:function(e,t){},ngloader:function(e,t){},ngaloader:function(e,t,r){},ngloaderJSON:function(e,t){},bloading:function(e,t,r){},sendOld:function(){},loading:function(){},aloading:function(){},aloadingJSON:function(){}},window.log=log,window.logJSON=logJSON,window.nlog=nlog,window.expLogJSON=expLogJSON;try{setPageParamForSdk(MPing.EventSeries.getSeries())}catch(e){}if(window.wa)try{wa("define","unify")}catch(e){}isWX()&&!isWxapp()&&bindReady(function(){var e=document.createElement("iframe"),t=document.getElementsByTagName("body")[0];e.src="https://wl.jingxi.com/jdc.html?t=1",e.style.display="none",e.onload=function(){window.postMessage&&e.contentWindow.postMessage([{name:"__jda",value:getCookie(lr.ckJda),exp:lr.ckJdaExp},{name:"__jdb",value:getCookie(lr.ckJdb),exp:lr.ckJdbExp},{name:"__jdv",value:getJdv().jdv,exp:864e5}],"https://wl.jingxi.com")},t.appendChild(e)}),-1<location.host.indexOf("jingdong.com")&&MPing.EventSeries.isJdvChanged()&&bindReady(function(){var e=document.createElement("iframe"),t=document.getElementsByTagName("body")[0];e.src="https://wl.jd.com/jdc.html?t=1",e.style.display="none",e.onload=function(){window.postMessage&&e.contentWindow.postMessage([{name:"__jda",value:getCookie(lr.ckJda),exp:lr.ckJdaExp},{name:"__jdb",value:getCookie(lr.ckJdb),exp:lr.ckJdbExp},{name:"__jdv",value:getCookie(lr.ckJdv),exp:864e5}],"https://wl.jd.com")},t.appendChild(e)});var StorageBridge={_iframe:null,_queries:[],_queryID:0,_bridgeDomain:"https://wl.jd.com",_init:function(){if(!StorageBridge._iframe&&window.JSON&&window.localStorage&&window.postMessage&&window.sessionStorage&&document.body){var e=document.createElement("iframe");e.style.cssText="position:absolute;width:1px;height:1px;left:-9999px;",document.body.appendChild(e),window.addEventListener&&(e.addEventListener("load",function(){StorageBridge._iframe=e,StorageBridge._onIframeLoad()},!1),window.addEventListener("message",StorageBridge._onMessage,!1)),e.src=this._bridgeDomain+"/storagebridge.html"}},_onMessage:function(e){if(!(e.origin.indexOf(StorageBridge._bridgeDomain)<0)){var t=JSON.parse(e.data),r=StorageBridge._queries[t.id];r&&r.callback&&(delete StorageBridge._queries[t.id],r.callback&&r.callback(t.value))}},_onIframeLoad:function(){for(var e in this._queries)StorageBridge._postMessage(this._queries[e])},_postMessage:function(t){if(this._iframe)try{this._iframe.contentWindow.postMessage(JSON.stringify(t),this._bridgeDomain)}catch(e){}},set:function(e,t,r){var i={key:e,value:t,op:"S",id:this._queryID++,callback:r};this._queries[i.id]=i,StorageBridge._postMessage(i)},get:function(e,t){var r={key:e,op:"G",id:this._queryID++,callback:t};this._queries[r.id]=r,StorageBridge._postMessage(r)},remove:function(e,t){var r={key:e,op:"R",id:this._queryID++,callback:t};this._queries[r.id]=r,StorageBridge._postMessage(r)}};function logByImg(e){var t=new Image(1,1);t.onload=function(){t.onload=null,t=null},t.src=e}isWX()&&!isWxapp()&&bindReady(function(){StorageBridge._init()}),StorageBridge.get("npr",function(e){e&&(StorageBridge.remove("npr"),"POST"==e.method?logByPost(e.addr,e.data):logByGet(e.addr,e.data))});var unifyRecoReport=function(_data){var serverAddr="https://knicks.jd.com/log/server",data=extend({},_data),vArray=[],sceneMap={weixin:0,qq:1,jdm:5,mobile:5},scene=0;window.JD&&window.JD.device&&window.JD.device.scene&&(scene=sceneMap[JD.device.scene]);var sid=lr.uuid+"|"+lr.visitTimes,_params={m:"MO_J2011-2",url:encodeURIComponent(window.location.href||""),ref:encodeURIComponent(document.referrer||getUrlParam("wdref")||""),hitType:scene,sid:sid};if(data.impr||data.clk){for(var key in _params)vArray.push(key+"="+_params[key]);var content=data.impr?data.impr:data.clk,extraVParamStr=vArray.join("$");if(-1!==content.indexOf("mercury")){extraVParamStr+="$";var contentArr=content.split("v=");1<contentArr.length&&(content=contentArr[0]+"v="+extraVParamStr+contentArr[1])}else extraVParamStr="$"+extraVParamStr,content+=extraVParamStr;data.clk?StorageBridge.set("npr-reco",content):logByImg(content)}else{var basicData={chan_type:chanType,net_type:netType,os:lr.os,openid:openId,user_type:lr.pinId?1:0};for(var key in extend(data,basicData),data.t="0"==data.action?"rec_common_exp":"rec_common_clk",data.rm=(new Date).getTime(),data.pin||(data.pin=eval("'"+unescape(getCookie("jdpin")||"-")+"'")),data.uuid||(data.uuid=lr.uuid),data.sid||(data.sid=sid),data.type||(data.type="rec."+(data.p||"")),data)"t"!==key&&vArray.push(key+"="+data[key]);var url=serverAddr+"?t="+data.t+"&v="+vArray.join("$");1==data.action?StorageBridge.set("npr-reco",url):logByImg(url)}};StorageBridge.get("npr-reco",function(e){e&&(StorageBridge.remove("npr-reco"),logByImg(e))}),window.unifyRecoReport=unifyRecoReport}();